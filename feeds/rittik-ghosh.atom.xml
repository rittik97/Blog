<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>dark_coffee - Rittik Ghosh</title><link href="https://rittik97.github.io/Blog/" rel="alternate"></link><link href="https://rittik97.github.io/Blog/feeds/rittik-ghosh.atom.xml" rel="self"></link><id>https://rittik97.github.io/Blog/</id><updated>2020-02-08T18:44:00-05:00</updated><entry><title>Using a Neural Network to predict the Australian Open</title><link href="https://rittik97.github.io/Blog/tennis_australian_open.html" rel="alternate"></link><published>2020-02-08T18:44:00-05:00</published><updated>2020-02-08T18:44:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-02-08:/Blog/tennis_australian_open.html</id><summary type="html">&lt;p&gt;I was introduced to tennis when I was very young by my grandfather and have distinct memories of watching Sampras, Agassi, and Hingis. While I no longer avidly follow the sport, I wanted to use a neural network to predict tennis matches and see how it performs when compared with …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I was introduced to tennis when I was very young by my grandfather and have distinct memories of watching Sampras, Agassi, and Hingis. While I no longer avidly follow the sport, I wanted to use a neural network to predict tennis matches and see how it performs when compared with the results of the recently concluded Australian Open. Data was gathered from &lt;a href="http://www.tennis-data.co.uk/alldata.php"&gt;here.&lt;/a&gt; I decided to use data from 2015 onwards. At the time of writing, data for the Australian Open itself had not been uploaded to the site, so these matches would be unseen for our model. &lt;a href="#Results:"&gt;Comparative results&lt;/a&gt; on the last few rounds can be found here.&lt;/p&gt;
&lt;p&gt;The dataset marks out the winner and loser, we reset the winner and all his associated metrics such as rank to be player one. Similarly, all metrics associated with the loser are set to player two.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;player_one&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Winner&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Loser&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;player_two&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Loser&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Winner&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;player_one_rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;LRank&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;player_two_rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;LRank&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;LRank&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;WRank&lt;/span&gt;        


&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_one&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;player_one&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Winner&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                                     &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Loser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_two&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;player_two&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Winner&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                                     &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Loser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_one_rank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;player_one_rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Winner&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                                               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Loser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_two_rank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;player_two_rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Winner&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                                               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;WRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Loser&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LRank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The question we are essentially asking is "Will the higher-ranked player win?"
Based on our data it turns out that the higher-ranked player wins 63.7% of the time.&lt;/p&gt;
&lt;p&gt;To capture the player's form, we create features that represent his performance over the last year. 
We look at the overall win rate as well as win rates by surface and length of the match (3 or 5 sets). I introduced UUIDs into the dataset to have a "primary key" that can be used to join different data frames that represent computations and slices of the original data.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;cal_player_stats&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;uuid&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;three&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;five&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;clay&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;hard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;grass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;player_one&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;player_two&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
        &lt;span class="n"&gt;cutoff_date&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;365&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;cutoff_date&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; 
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

            &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
                &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)]))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
                &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)]))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;    
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;three&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;five&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Grass&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;grass&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Grass&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Hard&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;hard&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hard&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;       
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Clay&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;clay&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Clay&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;        
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;uuid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cutoff_date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;outcome&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;clay&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;grass&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hard&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;three&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;five&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;exc_type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exc_obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exc_tb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exc_info&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exc_tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tb_lineno&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2016-01-01&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;cal_player_stats&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_one&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                                                   &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Date&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uuid&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We also compute the same statistics on player vs player basis to evaluate past matches between the two players.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;calc_rate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mf"&gt;0.0&lt;/span&gt;  

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;onevtwo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;player_one_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;player_two_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cut_off_date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;uuid&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;three&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;five&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;clay&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;hard&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;grass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;win_rate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;cut_off_date&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;player_one_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;player_two_name&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
        &lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Loser&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;player_one_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Winner&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;player_two_name&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
        &lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;win_rate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;calc_rate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
                &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;calc_rate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;wins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;losses&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Surface&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;three&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;five&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Grass&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;grass&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Grass&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Hard&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;hard&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Hard&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;       
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Clay&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;clay&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Clay&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;        
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;uuid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;player_one_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cut_off_date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;win_rate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;clay&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;grass&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hard&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;three&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;five&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;exc_type&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exc_obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exc_tb&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exc_info&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;exc_tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tb_lineno&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;player_one_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cut_off_date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Since we are looking at the Australian Open, we are going to use only data on matches played on hard surfaces. 
The DataFrameMapper below gives an overview of the input features and the transformations applied to each of them.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrameMapper&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_one_rank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;()]),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;player_two_rank&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;()]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Best of&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_win_rate_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_games_played_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_hard_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_three_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_five_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_win_rate_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_games_played_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_hard_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_three_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_five_year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;major&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_win_rate_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt; 
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_games_played_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_hard_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_three_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;one_five_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_win_rate_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt; 
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_games_played_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_hard_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_three_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;  
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;two_five_vv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;    

&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;df_out&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
    &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#topology&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Sequential&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;input_shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Z_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;),)))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dropout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dropout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dropout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dropout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;units&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sigmoid&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loss&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;binary_crossentropy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;optimizer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;adam&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;metrics&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;accuracy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; 
&lt;span class="n"&gt;model_checkpoint&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ModelCheckpoint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data/best_model.h5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;monitor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val_accuracy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;max&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                 &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;save_best_only&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;early_stop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;EarlyStopping&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;monitor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val_accuracy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_delta&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;patience&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Z_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                    &lt;span class="n"&gt;batch_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;validation_data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Z_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                    &lt;span class="n"&gt;epochs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;175&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="n"&gt;callbacks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;early_stop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                    &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src="images/tennis_acc.png"&gt;&lt;/p&gt;
&lt;p&gt;We do beat our naive estimate of 63.7%,  the best model scores an accuracy of 69.3% on our test set. I was hoping for better results but in my opinion, given the unpredictable world of sports this result should be construed as not bad.&lt;/p&gt;
&lt;h1&gt;Results:&lt;/h1&gt;
&lt;p&gt;&lt;img src='images/australian_open.png'&gt;&lt;/p&gt;
&lt;p&gt;The nodes colored green represent correct predictions while those colored red represent incorrect ones. Each vertice has a probability associated with it. This is the probability predicted by our model for the true outcome to occur.&lt;/p&gt;
&lt;p&gt;There are opportunities to better engineer our features and bring in new data points and I look to forward to improving this score in the next iteration. &lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Dimensionality reduction using an Autoencoder Neural Network with a comparison to PCA</title><link href="https://rittik97.github.io/Blog/autoencoder.html" rel="alternate"></link><published>2020-02-02T16:55:00-05:00</published><updated>2020-02-02T16:55:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-02-02:/Blog/autoencoder.html</id><summary type="html">&lt;p&gt;Autoencoders are a type of artificial neural network that can be used to compress and decompress data. Being a neural network, it has the ability to learn automatically and can be used on any kind of input data. As opposed to say JPEG which can only be used on images …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Autoencoders are a type of artificial neural network that can be used to compress and decompress data. Being a neural network, it has the ability to learn automatically and can be used on any kind of input data. As opposed to say JPEG which can only be used on images. However, just like JPEG, it is a lossy compression technique. &lt;/p&gt;
&lt;p&gt;Network Topology:&lt;/p&gt;
&lt;p&gt;&lt;img src="images/topology.png"&gt;&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;As you would expect, the number of hidden layers can be increased to form a deep autoencoder. &lt;br&gt;
Uses of Autoencoders include:
&lt;ul&gt;
    &lt;li&gt; Dimensionality Reduction&lt;/li&gt;
    &lt;li&gt; Outlier Detection&lt;/li&gt;
    &lt;li&gt; Denoising Data&lt;/li&gt;&lt;/p&gt;
&lt;p&gt;&lt;/ul&gt;    &lt;/p&gt;
&lt;p&gt;We will explore dimensionality reduction on FASHION-MNIST data and compare it to principal component analysis (PCA) as proposed by Hinton and Salakhutdinov in &lt;a href="https://www.cs.toronto.edu/~hinton/science.pdf"&gt; Reducing the Dimensionality of Data with Neural Networks, Science 2006.&lt;/a&gt;
Note in the paper, they use MNIST, comparable outputs with that dataset can be found at the bottom of this page.&lt;/p&gt;
&lt;p&gt;PCA projects data to a new orthogonal coordinate space along "principal components". These components are linearly uncorrelated and the first component describes the highest variance (of the original data) among the new axes. PCA was invented in 1901 by Karl Pearson of the Person correlation coefficient fame. He is also credited with establishing the discipline of mathematical statistics and with establishing the world's first statistics department at UCL in 1911.&lt;/p&gt;
&lt;p&gt;While PCA is a very powerful tool it assumes that the components are linear combinations of the original features and that these components are orthogonal to each other. This can prevent PCA from learning all the relationships that may exist between input features. A more powerful approach is to use &lt;a href="https://scikit-learn.org/stable/modules/generated/sklearn.manifold.TSNE.html"&gt;t-SNE.&lt;/a&gt; 
While t-SNE can learn non-linear relationships, it requires fairly low-dimensional data. Autoencoder networks are able to learn non-linear relationships in high dimensional data and while they can be used on a stand-alone basis, they are often used to compress data before feeding it to t-SNE.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;tensorflow&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;tf&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;tensorflow&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;keras&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;tensorflow.keras.models&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Sequential&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;tensorflow.keras.layers&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Input&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;tensorflow.keras.datasets&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;mnist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fashion_mnist&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.preprocessing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;MinMaxScaler&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.decomposition&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PCA&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fashion_mnist&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_data&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;(60000, 28, 28)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;scaler&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MinMaxScaler&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;scaler&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;scaler&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Sequential&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;input_shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;784&lt;/span&gt;&lt;span class="p"&gt;,)))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;250&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;linear&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bottleneck&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;250&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dense&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;784&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;activation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sigmoid&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loss&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mse&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;optimizer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;adam&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;batch_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;128&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;epochs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;validation_data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_test&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;Train on 60000 samples, validate on 10000 samples&lt;/span&gt;
&lt;span class="err"&gt;Epoch 1/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 253us/sample - loss: 0.0411 - val_loss: 0.0303&lt;/span&gt;
&lt;span class="err"&gt;Epoch 2/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 254us/sample - loss: 0.0290 - val_loss: 0.0277&lt;/span&gt;
&lt;span class="err"&gt;Epoch 3/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 236us/sample - loss: 0.0284 - val_loss: 0.0276&lt;/span&gt;
&lt;span class="err"&gt;Epoch 4/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 13s 210us/sample - loss: 0.0271 - val_loss: 0.0263&lt;/span&gt;
&lt;span class="err"&gt;Epoch 5/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 13s 220us/sample - loss: 0.0269 - val_loss: 0.0260&lt;/span&gt;
&lt;span class="err"&gt;Epoch 6/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 238us/sample - loss: 0.0267 - val_loss: 0.0263&lt;/span&gt;
&lt;span class="err"&gt;Epoch 7/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 235us/sample - loss: 0.0263 - val_loss: 0.0259&lt;/span&gt;
&lt;span class="err"&gt;Epoch 8/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 234us/sample - loss: 0.0263 - val_loss: 0.0254&lt;/span&gt;
&lt;span class="err"&gt;Epoch 9/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 235us/sample - loss: 0.0255 - val_loss: 0.0252&lt;/span&gt;
&lt;span class="err"&gt;Epoch 10/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 241us/sample - loss: 0.0253 - val_loss: 0.0250&lt;/span&gt;
&lt;span class="err"&gt;Epoch 11/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 232us/sample - loss: 0.0250 - val_loss: 0.0248&lt;/span&gt;
&lt;span class="err"&gt;Epoch 12/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 247us/sample - loss: 0.0252 - val_loss: 0.0247&lt;/span&gt;
&lt;span class="err"&gt;Epoch 13/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 244us/sample - loss: 0.0248 - val_loss: 0.0265&lt;/span&gt;
&lt;span class="err"&gt;Epoch 14/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 237us/sample - loss: 0.0258 - val_loss: 0.0261&lt;/span&gt;
&lt;span class="err"&gt;Epoch 15/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 241us/sample - loss: 0.0252 - val_loss: 0.0258&lt;/span&gt;
&lt;span class="err"&gt;Epoch 16/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 239us/sample - loss: 0.0262 - val_loss: 0.0282&lt;/span&gt;
&lt;span class="err"&gt;Epoch 17/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 237us/sample - loss: 0.0265 - val_loss: 0.0258&lt;/span&gt;
&lt;span class="err"&gt;Epoch 18/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 236us/sample - loss: 0.0265 - val_loss: 0.0278&lt;/span&gt;
&lt;span class="err"&gt;Epoch 19/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 234us/sample - loss: 0.0260 - val_loss: 0.0261&lt;/span&gt;
&lt;span class="err"&gt;Epoch 20/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 240us/sample - loss: 0.0261 - val_loss: 0.0258&lt;/span&gt;
&lt;span class="err"&gt;Epoch 21/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 238us/sample - loss: 0.0255 - val_loss: 0.0255&lt;/span&gt;
&lt;span class="err"&gt;Epoch 22/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 238us/sample - loss: 0.0270 - val_loss: 0.0270&lt;/span&gt;
&lt;span class="err"&gt;Epoch 23/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 14s 241us/sample - loss: 0.0264 - val_loss: 0.0255&lt;/span&gt;
&lt;span class="err"&gt;Epoch 24/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 244us/sample - loss: 0.0259 - val_loss: 0.0253&lt;/span&gt;
&lt;span class="err"&gt;Epoch 25/25&lt;/span&gt;
&lt;span class="err"&gt;60000/60000 [==============================] - 15s 249us/sample - loss: 0.0259 - val_loss: 0.0259&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;encoder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bottleneck&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;encoded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;encoder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;decoded&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
&lt;span class="n"&gt;encoder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;Model: &amp;quot;model&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;Layer (type)                 Output Shape              Param #   &lt;/span&gt;
&lt;span class="err"&gt;=================================================================&lt;/span&gt;
&lt;span class="err"&gt;dense_input (InputLayer)     [(None, 784)]             0         &lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;dense (Dense)                (None, 1000)              785000    &lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;dense_1 (Dense)              (None, 500)               500500    &lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;dense_2 (Dense)              (None, 250)               125250    &lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;dense_3 (Dense)              (None, 32)                8032      &lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;span class="err"&gt;bottleneck (Dense)           (None, 2)                 66        &lt;/span&gt;
&lt;span class="err"&gt;=================================================================&lt;/span&gt;
&lt;span class="err"&gt;Total params: 1,418,848&lt;/span&gt;
&lt;span class="err"&gt;Trainable params: 1,418,848&lt;/span&gt;
&lt;span class="err"&gt;Non-trainable params: 0&lt;/span&gt;
&lt;span class="err"&gt;_________________________________________________________________&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pca&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PCA&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_components&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_train_pca&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pca&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_pca_inv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pca&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inverse_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train_pca&lt;/span&gt;&lt;span class="p"&gt;[:,:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;loss&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;x_pca_inv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Reconstruction loss from PCA:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;loss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;Reconstruction loss from PCA: 0.0463176200250383&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;history&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;history&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;val_loss&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Val set loss&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;history&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;history&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;loss&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Train set loss&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hlines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;loss&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PCA loss&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyles&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;dashed&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bbox_to_anchor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/auto_output_11_0.png"&gt;&lt;/p&gt;
&lt;p&gt;Our Neural Network was able to bring the loss down to 0.026 when compared with 0.046 for PCA. It was able to preserve more information after decompression or "re-projection". Changing all of the activation functions to linear would result in our network converging to the same loss as PCA. This would make our autoencoder network equivalent to PCA.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;encoded&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;encoded&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Autoencoder&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_train_pca&lt;/span&gt;&lt;span class="p"&gt;[:,:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;x_train_pca&lt;/span&gt;&lt;span class="p"&gt;[:,:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;9000&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;PCA&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/auto_output_13_0.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plot_this&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;decoded&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_pca_inv&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;suptitle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Original vs Autoencoder vs PCA&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;plot_this&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt; 
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;plot_this&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Greys&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/auto_output_14_0.png"&gt;&lt;/p&gt;
&lt;h4&gt;The outputs of the autoencoder network (row 2) closely resemble that of the original data (row 1). PCA (row 3) with 2 components has lost a significant amount of information. &lt;/h4&gt;

&lt;p&gt;We can improve the performance of our neural network by adding more layers and longer training.&lt;/p&gt;
&lt;p&gt;On MNIST data, our autoencoder had an MSE loss of 0.0341 with the same topology and training steps. With PCA we achieved 0.056. Here are the equivalent outputs on the MNIST dataset:&lt;/p&gt;
&lt;p&gt;&lt;img src="images/MNIST1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="images/MNIST2.png"&gt;&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Simulating the english premier league with pymc3</title><link href="https://rittik97.github.io/Blog/pymc3.html" rel="alternate"></link><published>2020-01-20T23:00:00-05:00</published><updated>2020-01-20T23:00:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-01-20:/Blog/pymc3.html</id><summary type="html">&lt;p&gt;We will use pymc3 to simulate a season of the English Premier League. The models are based on the work of &lt;a href="https://discovery.ucl.ac.uk/id/eprint/16040/1/16040.pdf"&gt; Baio and Blangiardo.&lt;/a&gt; We are using data from the 2018-2019 season gathered from &lt;a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_Premier_League#League_table"&gt;Wikipedia.&lt;/a&gt; In addition to this, each team was given an unique numeric identifier such as 0 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;We will use pymc3 to simulate a season of the English Premier League. The models are based on the work of &lt;a href="https://discovery.ucl.ac.uk/id/eprint/16040/1/16040.pdf"&gt; Baio and Blangiardo.&lt;/a&gt; We are using data from the 2018-2019 season gathered from &lt;a href="https://en.wikipedia.org/wiki/2019%E2%80%9320_Premier_League#League_table"&gt;Wikipedia.&lt;/a&gt; In addition to this, each team was given an unique numeric identifier such as 0 for Arsenal (ARS).&lt;/p&gt;
&lt;p&gt;Goals scored are modelled as:&lt;/p&gt;
&lt;p&gt;$$ ygj∣θgj=Poisson(θgj) $$&lt;/p&gt;
&lt;p&gt;Where the parameters θ = (θg1, θg2) represent the scoring intensity in the g-th
game for the team playing at home (j = 1) and away (j = 2), respectively.&lt;/p&gt;
&lt;p&gt;Thetas themselves are modelled using a log-linear model:&lt;/p&gt;
&lt;p&gt;$$
log θg1 = home + atth(g) + defa(g)
$$
$$
log θg2 = atta(g) + defh(g)
$$&lt;/p&gt;
&lt;p&gt;Scoring intensity is determined jointly by the attack
and defense ability of the two teams involved, represented by the parameters
att and def. &lt;/p&gt;
&lt;p&gt;$$ attt ∼ Normal(µatt, τatt)$$, $$deft ∼ Normal(µdef , τdef ).$$&lt;/p&gt;
&lt;p&gt;$$
µatt ∼ Normal(0, 0.0001), µdef ∼ Normal(0, 0.0001),
τatt ∼ Gamma(0.1, 0.1), τdef ∼ Gamma(0.1, 0.1).
$$&lt;/p&gt;
&lt;p&gt;The home parameter represents the advantage for the team hosting the game
and it is assumed that this effect is constant for all teams throughout the
season. &lt;/p&gt;
&lt;p&gt;$$ home ∼ Normal(0, 0.0001). $$&lt;/p&gt;
&lt;p&gt;&lt;img src="images/model.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;theano.tensor&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;tt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymc3&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pm&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;altair&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;alt&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;data/epl.csv&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Unnamed: 0&lt;/th&gt;
      &lt;th&gt;home&lt;/th&gt;
      &lt;th&gt;away&lt;/th&gt;
      &lt;th&gt;home_score&lt;/th&gt;
      &lt;th&gt;away_score&lt;/th&gt;
      &lt;th&gt;i_home&lt;/th&gt;
      &lt;th&gt;i_away&lt;/th&gt;
      &lt;th&gt;GD&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BOU&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BHA&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BUR&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;CAR&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;CHE&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;observed_home_goals&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;home_score&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;span class="n"&gt;observed_away_goals&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;away_score&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;span class="n"&gt;home_team&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;i_home&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;span class="n"&gt;away_team&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;i_away&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;span class="n"&gt;num_teams&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;i_home&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;num_games&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;home_team&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;att_starting_points&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;away&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;away_score&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;def_starting_points&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;away_score&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;    
    &lt;span class="n"&gt;home&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0001&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;sd_att&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Gamma&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;tau_att&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,)&lt;/span&gt;
    &lt;span class="n"&gt;sd_def&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Gamma&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;tau_def&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,)&lt;/span&gt;
    &lt;span class="n"&gt;intercept&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;intercept&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0001&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;atts_star&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;atts_star&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sigma&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sd_att&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;num_teams&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;defs_star&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;defs_star&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sigma&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sd_def&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;num_teams&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# We are subtracting the mean to enforce a sum to zero constraint as recommended by the authors.&lt;/span&gt;
    &lt;span class="n"&gt;atts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Deterministic&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;atts&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;atts_star&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;tt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;atts_star&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;defs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Deterministic&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;defs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;defs_star&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;tt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;defs_star&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="n"&gt;home_theta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intercept&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;home&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;atts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;home_team&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;defs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;away_team&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;away_theta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;intercept&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;atts&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;away_team&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;defs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;home_team&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;                

    &lt;span class="n"&gt;home_goals&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Poisson&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;home_theta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;observed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;observed_home_goals&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;away_goals&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Poisson&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;away_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;away_theta&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;observed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;observed_away_goals&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;trace&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tune&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;chains&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;Auto-assigning NUTS sampler...&lt;/span&gt;
&lt;span class="err"&gt;Initializing NUTS using jitter+adapt_diag...&lt;/span&gt;
&lt;span class="err"&gt;Multiprocess sampling (2 chains in 2 jobs)&lt;/span&gt;
&lt;span class="c"&gt;NUTS: [defs_star, atts_star, intercept, tau_def, tau_att, home]&lt;/span&gt;
&lt;span class="err"&gt;Sampling 2 chains, 0 divergences: 100%|██████████| 23000/23000 [01:03&amp;lt;00:00, 362.06draws/s]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;traceplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;trace&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;var_names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;intercept&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;home&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;tau_att&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;tau_def&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;/anaconda3/lib/python3.6/site-packages/arviz/plots/backends/matplotlib/distplot.py:38: UserWarning: Argument backend_kwargs has not effect in matplotlib.plot_distSupplied value won&amp;#39;t be used&lt;/span&gt;
&lt;span class="err"&gt;  &amp;quot;Argument backend_kwargs has not effect in matplotlib.plot_dist&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;/anaconda3/lib/python3.6/site-packages/arviz/plots/backends/matplotlib/distplot.py:38: UserWarning: Argument backend_kwargs has not effect in matplotlib.plot_distSupplied value won&amp;#39;t be used&lt;/span&gt;
&lt;span class="err"&gt;  &amp;quot;Argument backend_kwargs has not effect in matplotlib.plot_dist&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;/anaconda3/lib/python3.6/site-packages/arviz/plots/backends/matplotlib/distplot.py:38: UserWarning: Argument backend_kwargs has not effect in matplotlib.plot_distSupplied value won&amp;#39;t be used&lt;/span&gt;
&lt;span class="err"&gt;  &amp;quot;Argument backend_kwargs has not effect in matplotlib.plot_dist&amp;quot;&lt;/span&gt;
&lt;span class="err"&gt;/anaconda3/lib/python3.6/site-packages/arviz/plots/backends/matplotlib/distplot.py:38: UserWarning: Argument backend_kwargs has not effect in matplotlib.plot_distSupplied value won&amp;#39;t be used&lt;/span&gt;
&lt;span class="err"&gt;  &amp;quot;Argument backend_kwargs has not effect in matplotlib.plot_dist&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_6_1.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;teams&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;teams&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;teams&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;team&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;teams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;teams&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;span class="n"&gt;teams&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;th&gt;9&lt;/th&gt;
      &lt;th&gt;10&lt;/th&gt;
      &lt;th&gt;11&lt;/th&gt;
      &lt;th&gt;12&lt;/th&gt;
      &lt;th&gt;13&lt;/th&gt;
      &lt;th&gt;14&lt;/th&gt;
      &lt;th&gt;15&lt;/th&gt;
      &lt;th&gt;16&lt;/th&gt;
      &lt;th&gt;17&lt;/th&gt;
      &lt;th&gt;18&lt;/th&gt;
      &lt;th&gt;19&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;team&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BOU&lt;/td&gt;
      &lt;td&gt;BHA&lt;/td&gt;
      &lt;td&gt;BUR&lt;/td&gt;
      &lt;td&gt;CAR&lt;/td&gt;
      &lt;td&gt;CHE&lt;/td&gt;
      &lt;td&gt;CRY&lt;/td&gt;
      &lt;td&gt;EVE&lt;/td&gt;
      &lt;td&gt;FUL&lt;/td&gt;
      &lt;td&gt;HUD&lt;/td&gt;
      &lt;td&gt;LEI&lt;/td&gt;
      &lt;td&gt;LIV&lt;/td&gt;
      &lt;td&gt;MCI&lt;/td&gt;
      &lt;td&gt;MUN&lt;/td&gt;
      &lt;td&gt;NEW&lt;/td&gt;
      &lt;td&gt;SOU&lt;/td&gt;
      &lt;td&gt;TOT&lt;/td&gt;
      &lt;td&gt;WAT&lt;/td&gt;
      &lt;td&gt;WHU&lt;/td&gt;
      &lt;td&gt;WOL&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;i&lt;/th&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;defs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;trace&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mean&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;atts&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;trace&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mean&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;atts&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;teams&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;atts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;i&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;defs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;left_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right_on&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;defs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_point&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mean_x&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Mean attack effect&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mean_y&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Mean defense effect&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;team:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;tooltip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;team:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="altair-viz-10"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-10");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class="error" style="color:red;"&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" &amp;&amp; define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() =&gt; loadScript("vega-lite"))
        .then(() =&gt; loadScript("vega-embed"))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-693c5b01bbd9806e795e21747f5b1fdb"}, "mark": "point", "encoding": {"color": {"type": "nominal", "field": "team"}, "tooltip": [{"type": "nominal", "field": "team"}], "x": {"type": "quantitative", "axis": {"title": "Mean attack effect"}, "field": "mean_x"}, "y": {"type": "quantitative", "axis": {"title": "Mean defense effect"}, "field": "mean_y"}}, "height": 500, "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-693c5b01bbd9806e795e21747f5b1fdb": [{"key_0": 0, "index_x": "atts[0]", "mean_x": 0.39, "team": "ARS", "i": 0, "index_y": "defs[0]", "mean_y": 0.012}, {"key_0": 1, "index_x": "atts[1]", "mean_x": 0.116, "team": "BOU", "i": 1, "index_y": "defs[1]", "mean_y": 0.338}, {"key_0": 2, "index_x": "atts[2]", "mean_x": -0.394, "team": "BHA", "i": 2, "index_y": "defs[2]", "mean_y": 0.152}, {"key_0": 3, "index_x": "atts[3]", "mean_x": -0.122, "team": "BUR", "i": 3, "index_y": "defs[3]", "mean_y": 0.296}, {"key_0": 4, "index_x": "atts[4]", "mean_x": -0.416, "team": "CAR", "i": 4, "index_y": "defs[4]", "mean_y": 0.303}, {"key_0": 5, "index_x": "atts[5]", "mean_x": 0.217, "team": "CHE", "i": 5, "index_y": "defs[5]", "mean_y": -0.28}, {"key_0": 6, "index_x": "atts[6]", "mean_x": 0.001, "team": "CRY", "i": 6, "index_y": "defs[6]", "mean_y": 0.032}, {"key_0": 7, "index_x": "atts[7]", "mean_x": 0.055, "team": "EVE", "i": 7, "index_y": "defs[7]", "mean_y": -0.117}, {"key_0": 8, "index_x": "atts[8]", "mean_x": -0.404, "team": "FUL", "i": 8, "index_y": "defs[8]", "mean_y": 0.478}, {"key_0": 9, "index_x": "atts[9]", "mean_x": -0.84, "team": "HUD", "i": 9, "index_y": "defs[9]", "mean_y": 0.397}, {"key_0": 10, "index_x": "atts[10]", "mean_x": -0.004, "team": "LEI", "i": 10, "index_y": "defs[10]", "mean_y": -0.073}, {"key_0": 11, "index_x": "atts[11]", "mean_x": 0.581, "team": "LIV", "i": 11, "index_y": "defs[11]", "mean_y": -0.819}, {"key_0": 12, "index_x": "atts[12]", "mean_x": 0.653, "team": "MCI", "i": 12, "index_y": "defs[12]", "mean_y": -0.773}, {"key_0": 13, "index_x": "atts[13]", "mean_x": 0.264, "team": "MUN", "i": 13, "index_y": "defs[13]", "mean_y": 0.066}, {"key_0": 14, "index_x": "atts[14]", "mean_x": -0.213, "team": "NEW", "i": 14, "index_y": "defs[14]", "mean_y": -0.081}, {"key_0": 15, "index_x": "atts[15]", "mean_x": -0.124, "team": "SOU", "i": 15, "index_y": "defs[15]", "mean_y": 0.248}, {"key_0": 16, "index_x": "atts[16]", "mean_x": 0.284, "team": "TOT", "i": 16, "index_y": "defs[16]", "mean_y": -0.276}, {"key_0": 17, "index_x": "atts[17]", "mean_x": 0.026, "team": "WAT", "i": 17, "index_y": "defs[17]", "mean_y": 0.149}, {"key_0": 18, "index_x": "atts[18]", "mean_x": 0.024, "team": "WHU", "i": 18, "index_y": "defs[18]", "mean_y": 0.072}, {"key_0": 19, "index_x": "atts[19]", "mean_x": -0.094, "team": "WOL", "i": 19, "index_y": "defs[19]", "mean_y": -0.122}]}}, {"mode": "vega-lite"});
&lt;/script&gt;

&lt;p&gt;As expected top teams (Manchester City &amp;amp; Liverpool) are at the bottom right. These teams have very high positive attack effects and a very negative defense effect. This will lead to very. high scoring intensity in our model.&lt;/p&gt;
&lt;h4&gt;Now that we have our posterior distributions, we can sample from them to simulate a
season.&lt;/h4&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;sim&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sample_posterior_predictive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;trace&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;100%|██████████| 20000/20000 [00:35&amp;lt;00:00, 558.00it/s]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;home_goals&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sim&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;span class="n"&gt;home_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;team&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;away_goals&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sim&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;span class="n"&gt;away_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;team&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;away&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;total_goals&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;home_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;team&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;away_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;team&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CHE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Chelsea&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LIV&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Liverpool FC&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total_goals&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;MCI&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;bins&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Manchester city&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Total Goals scored (20,000 simulations)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_14_0.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;goal_diff&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sim&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sim&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;away_goals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;condlist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;goal_diff&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;goal_diff&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;choicelist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;goal_diff&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;condlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;choicelist&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;goal_diff&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;away_team&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;away&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;home_team&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;home_team&lt;/th&gt;
      &lt;th&gt;away_team&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;th&gt;19990&lt;/th&gt;
      &lt;th&gt;19991&lt;/th&gt;
      &lt;th&gt;19992&lt;/th&gt;
      &lt;th&gt;19993&lt;/th&gt;
      &lt;th&gt;19994&lt;/th&gt;
      &lt;th&gt;19995&lt;/th&gt;
      &lt;th&gt;19996&lt;/th&gt;
      &lt;th&gt;19997&lt;/th&gt;
      &lt;th&gt;19998&lt;/th&gt;
      &lt;th&gt;19999&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BOU&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BHA&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;BUR&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;CAR&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;ARS&lt;/td&gt;
      &lt;td&gt;CHE&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;375&lt;/th&gt;
      &lt;td&gt;WOL&lt;/td&gt;
      &lt;td&gt;NEW&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;376&lt;/th&gt;
      &lt;td&gt;WOL&lt;/td&gt;
      &lt;td&gt;SOU&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;377&lt;/th&gt;
      &lt;td&gt;WOL&lt;/td&gt;
      &lt;td&gt;TOT&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;378&lt;/th&gt;
      &lt;td&gt;WOL&lt;/td&gt;
      &lt;td&gt;WAT&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;379&lt;/th&gt;
      &lt;td&gt;WOL&lt;/td&gt;
      &lt;td&gt;WHU&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;380 rows × 20002 columns&lt;/p&gt;
&lt;/div&gt;

&lt;h4&gt;The table above represents the points scored per game for each of our 20,000 simulated seasons.&lt;/h4&gt;

&lt;p&gt;(Each simulated season is a column) Below we continue to explore the results of our simulation.&lt;/p&gt;
&lt;h4&gt;Total points scored per team per simulated season:&lt;/h4&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_team&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;th&gt;9&lt;/th&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;th&gt;19990&lt;/th&gt;
      &lt;th&gt;19991&lt;/th&gt;
      &lt;th&gt;19992&lt;/th&gt;
      &lt;th&gt;19993&lt;/th&gt;
      &lt;th&gt;19994&lt;/th&gt;
      &lt;th&gt;19995&lt;/th&gt;
      &lt;th&gt;19996&lt;/th&gt;
      &lt;th&gt;19997&lt;/th&gt;
      &lt;th&gt;19998&lt;/th&gt;
      &lt;th&gt;19999&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;home_team&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;ARS&lt;/th&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;41&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;35&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BHA&lt;/th&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BOU&lt;/th&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BUR&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CAR&lt;/th&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CHE&lt;/th&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;43&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;43&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CRY&lt;/th&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;EVE&lt;/th&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;35&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;FUL&lt;/th&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;HUD&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;LEI&lt;/th&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;35&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;38&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;LIV&lt;/th&gt;
      &lt;td&gt;50&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;47&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;48&lt;/td&gt;
      &lt;td&gt;47&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;48&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;43&lt;/td&gt;
      &lt;td&gt;42&lt;/td&gt;
      &lt;td&gt;53&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;35&lt;/td&gt;
      &lt;td&gt;48&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;50&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MCI&lt;/th&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;43&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;49&lt;/td&gt;
      &lt;td&gt;53&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;53&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;41&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;43&lt;/td&gt;
      &lt;td&gt;48&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MUN&lt;/th&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;38&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;41&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;NEW&lt;/th&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;12&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;SOU&lt;/th&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;TOT&lt;/th&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;46&lt;/td&gt;
      &lt;td&gt;39&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;44&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;34&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;35&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WAT&lt;/th&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;38&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WHU&lt;/th&gt;
      &lt;td&gt;35&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;23&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;27&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;29&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;24&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;28&lt;/td&gt;
      &lt;td&gt;30&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;37&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WOL&lt;/th&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;36&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;21&lt;/td&gt;
      &lt;td&gt;22&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;33&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;32&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
      &lt;td&gt;26&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;20 rows × 20000 columns&lt;/p&gt;
&lt;/div&gt;

&lt;h4&gt;League ranking per team per simulated season:&lt;/h4&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;min&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;points&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;th&gt;9&lt;/th&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;th&gt;19990&lt;/th&gt;
      &lt;th&gt;19991&lt;/th&gt;
      &lt;th&gt;19992&lt;/th&gt;
      &lt;th&gt;19993&lt;/th&gt;
      &lt;th&gt;19994&lt;/th&gt;
      &lt;th&gt;19995&lt;/th&gt;
      &lt;th&gt;19996&lt;/th&gt;
      &lt;th&gt;19997&lt;/th&gt;
      &lt;th&gt;19998&lt;/th&gt;
      &lt;th&gt;19999&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;home_team&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;ARS&lt;/th&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BHA&lt;/th&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BOU&lt;/th&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;BUR&lt;/th&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CAR&lt;/th&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CHE&lt;/th&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CRY&lt;/th&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;EVE&lt;/th&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;FUL&lt;/th&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;HUD&lt;/th&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
      &lt;td&gt;20.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;LEI&lt;/th&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;LIV&lt;/th&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MCI&lt;/th&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;MUN&lt;/th&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;NEW&lt;/th&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;SOU&lt;/th&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;19.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;TOT&lt;/th&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;1.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WAT&lt;/th&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;17.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;7.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WHU&lt;/th&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;18.0&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;WOL&lt;/th&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;13.0&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;14.0&lt;/td&gt;
      &lt;td&gt;16.0&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;9.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;15.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;6.0&lt;/td&gt;
      &lt;td&gt;11.0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;20 rows × 20000 columns&lt;/p&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mci&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;MCI&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;MCI:Q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Manchester City&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;index:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;League Position&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;liv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LIV&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;LIV:Q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Liverpool&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;index:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;League Position&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;che&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CHE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;CHE:Q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Chelsea&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;index:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;League Position&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;mci&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;liv&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;che&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="altair-viz-19"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-19");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class="error" style="color:red;"&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" &amp;&amp; define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() =&gt; loadScript("vega-lite"))
        .then(() =&gt; loadScript("vega-embed"))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-e9c60fa40c97c5e2c1c08d7db4b89a56"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "axis": {"title": "Manchester City"}, "field": "MCI"}, "y": {"type": "nominal", "axis": {"title": "League Position"}, "field": "index"}}, "height": 100, "width": 300}, {"data": {"name": "data-37277872a0b8e91ff4184b4c777cab14"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "axis": {"title": "Liverpool"}, "field": "LIV"}, "y": {"type": "nominal", "axis": {"title": "League Position"}, "field": "index"}}, "height": 100, "width": 300}, {"data": {"name": "data-b9ceefca32eceb8e5949c9359d11e43c"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "axis": {"title": "Chelsea"}, "field": "CHE"}, "y": {"type": "nominal", "axis": {"title": "League Position"}, "field": "index"}}, "height": 100, "width": 300}], "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-e9c60fa40c97c5e2c1c08d7db4b89a56": [{"index": 1.0, "MCI": 10787}, {"index": 2.0, "MCI": 6593}, {"index": 3.0, "MCI": 1740}, {"index": 4.0, "MCI": 507}, {"index": 5.0, "MCI": 224}], "data-37277872a0b8e91ff4184b4c777cab14": [{"index": 1.0, "LIV": 9036}, {"index": 2.0, "LIV": 7672}, {"index": 3.0, "LIV": 2038}, {"index": 4.0, "LIV": 741}, {"index": 5.0, "LIV": 305}], "data-b9ceefca32eceb8e5949c9359d11e43c": [{"index": 3.0, "CHE": 3687}, {"index": 4.0, "CHE": 3357}, {"index": 5.0, "CHE": 2685}, {"index": 6.0, "CHE": 2180}, {"index": 7.0, "CHE": 1672}]}}, {"mode": "vega-lite"});
&lt;/script&gt;

&lt;p&gt;In our simulations, Manchester City ranked first over 10,500 times. Liverpool came in a close second. For Chelsea, the most commonly occuring position seems to be thrid.&lt;/p&gt;
&lt;h4&gt; Probability of finishing in the top 5&lt;/h4&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;top5&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;applymap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;top5&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top5&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;20000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;prob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;top5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;prob&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;prob:Q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Probability of finishing in the top 5&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;home_team:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Team&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;900&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="altair-viz-26"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-26");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class="error" style="color:red;"&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" &amp;&amp; define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() =&gt; loadScript("vega-lite"))
        .then(() =&gt; loadScript("vega-embed"))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-0a0c199d9382578ea13b304afec36b91"}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "axis": {"title": "Probability of finishing in the top 5"}, "field": "prob"}, "y": {"type": "nominal", "axis": {"title": "Team"}, "field": "home_team"}}, "height": 900, "width": 700, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-0a0c199d9382578ea13b304afec36b91": [{"home_team": "MCI", "prob": 0.99255}, {"home_team": "LIV", "prob": 0.9896}, {"home_team": "TOT", "prob": 0.6521}, {"home_team": "CHE", "prob": 0.57975}, {"home_team": "ARS", "prob": 0.5293}, {"home_team": "MUN", "prob": 0.32415}, {"home_team": "EVE", "prob": 0.268}, {"home_team": "LEI", "prob": 0.1874}, {"home_team": "WOL", "prob": 0.161}, {"home_team": "CRY", "prob": 0.1384}, {"home_team": "WHU", "prob": 0.12905}, {"home_team": "WAT", "prob": 0.09665}, {"home_team": "NEW", "prob": 0.0828}, {"home_team": "BOU", "prob": 0.06035}, {"home_team": "SOU", "prob": 0.02565}, {"home_team": "BUR", "prob": 0.0219}, {"home_team": "BHA", "prob": 0.01075}, {"home_team": "CAR", "prob": 0.0036}, {"home_team": "FUL", "prob": 0.00095}, {"home_team": "HUD", "prob": 0.0002}]}}, {"mode": "vega-lite"});
&lt;/script&gt;</content><category term="misc"></category></entry><entry><title>SMOTE (Synthetic Minority Oversampling Technique)</title><link href="https://rittik97.github.io/Blog/SMOTE.html" rel="alternate"></link><published>2020-01-14T22:05:00-05:00</published><updated>2020-01-14T22:05:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-01-14:/Blog/SMOTE.html</id><summary type="html">&lt;p&gt;Several machine learning classification techniques tend to perform poorly on datasets where the target class (the minority class) represents a small fraction of the overall data. However, sometimes it is the minority class that we are interested in. Examples include medical applications in which we try to predict the occurrence …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Several machine learning classification techniques tend to perform poorly on datasets where the target class (the minority class) represents a small fraction of the overall data. However, sometimes it is the minority class that we are interested in. Examples include medical applications in which we try to predict the occurrence of a disease.&lt;/p&gt;
&lt;p&gt;We can solve this problem by creating new samples from the minority class. A common way to do this is by using SMOTE (Synthetic Minority Oversampling Technique). SMOTE picks a member from the minority class and then finds its k nearest neighbors. It attempts to draw a line between these samples and then picks a point on this line to synthesize a new sample. SMOTE was original suggested in 2002, &lt;a href="https://arxiv.org/abs/1106.1813"&gt; you can find the paper here.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This leads to realistic samples and models perform better than simply duplicating minority class samples because in the latter case no new information is added to the model.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.datasets&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;make_classification&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imblearn.over_sampling&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SMOTE&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;where&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_classification&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_samples&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_features&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_redundant&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
 &lt;span class="n"&gt;n_clusters_per_class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.97&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;flip_y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Original distribution: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;row_ix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Original Input Data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;Original distribution:  Counter({0: 9700, 1: 300})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/smote_output_1_1.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;oversample&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SMOTE&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;oversample&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_resample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;counter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SMOTE distribution: &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;row_ix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Input Data after SMOTE&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;SMOTE distribution:  Counter({0: 9700, 1: 9700})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/smote_output_2_1.png"&gt;&lt;/p&gt;
&lt;p&gt;As we can see in the above graphs, the distribution of our data has changed dramatically. The minority class initially represented just 3% of our data but now our dataset has equal representation from both classes.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://imbalanced-learn.readthedocs.io/"&gt;Imbalanced learn&lt;/a&gt; also supports extensions of SMOTE that are more selective about which samples to use. &lt;/p&gt;
&lt;li&gt;
    &lt;h6&gt;Borderline-SMOTE:&lt;/h6&gt;&lt;p&gt;This method arguees that misclassifefd samples of the monirity class are more likely to be close to the decision boundry and picks samples from these instances.&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
    &lt;h6&gt;Adaptive Synthetic Sampling (ADASYN):&lt;/h6&gt;&lt;p&gt; ADASYN samples from minority samples that are rarer or have lower densities in the sample space. ADASYN focuses on outliers whereas SMOTE focuses on both inliers and outliers. It selects these samples because they tend to be harder to learn.&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
    &lt;h6&gt;Random Over-Sampling:&lt;/h6&gt;&lt;p&gt;This is a simple strategy in which samples are drawn from existing members of the minority class (with replacement)&lt;/p&gt;
&lt;/li&gt;

&lt;p&gt;Below we see the results of several oversampling methods. In all cases, the classes become balanced (equally represented in our dataset).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imblearn.over_sampling&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ADASYN&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imblearn.over_sampling&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SVMSMOTE&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imblearn.over_sampling&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BorderlineSMOTE&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imblearn.over_sampling&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;RandomOverSampler&lt;/span&gt;



&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_classification&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_samples&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_features&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_redundant&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_clusters_per_class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.99&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;flip_y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SMOTE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;BorderlineSMOTE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ADASYN&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SVMSMOTE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;RandomOverSampler&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Original&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SMOTE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;BorderlineSMOTE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ADASYN&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;SVMSMOTE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;RandomOverSampler&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Original&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;continue&lt;/span&gt;

    &lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_temp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_resample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;counter_temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter_temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/smote_output_6_0.png"&gt;&lt;/p&gt;
&lt;p&gt;We will also explore the decision boundaries and accuracy scores achieved by over-sampling and KNN Classification. The authors of the original paper suggest we under-sample the majority class before applying SMOTE but we will ignore this for the exercise below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.tree&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DecisionTreeClassifier&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.neighbors&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;KNeighborsClassifier&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;roc_auc_score&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;accuracy_score&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;calc_model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;y_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;meshgrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="c1"&gt;#np.c_[xx.ravel(), yy.ravel()]&lt;/span&gt;
    &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;KNeighborsClassifier&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;Z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()])&lt;/span&gt;
    &lt;span class="n"&gt;Z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;accuracy_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;


&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;calc_model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pcolormesh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bwr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Original&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;continue&lt;/span&gt;

    &lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_temp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_resample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;calc_model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;counter_temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;counter_temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X_temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;y_temp&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pcolormesh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bwr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;, Accuracy: &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/smote_output_10_0.png"&gt;&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Applying PolynomialFeatures() to a subset of features in your pipeline using ColumnTransformer</title><link href="https://rittik97.github.io/Blog/PolynomialFeatures.html" rel="alternate"></link><published>2020-01-12T21:01:00-05:00</published><updated>2020-01-12T21:01:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-01-12:/Blog/PolynomialFeatures.html</id><summary type="html">&lt;p&gt;&lt;a href='https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.PolynomialFeatures.html'
   alt='Polynomial Features'&gt;Polynomial Features&lt;/a&gt;, which is a part of sklearn.preprocessing, allows us to feed interactions between input features to our model. It also allows us to generate higher order versions of our input features. This functionality helps us explore non-linear relationships such as income with age. It also helps us explore …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href='https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.PolynomialFeatures.html'
   alt='Polynomial Features'&gt;Polynomial Features&lt;/a&gt;, which is a part of sklearn.preprocessing, allows us to feed interactions between input features to our model. It also allows us to generate higher order versions of our input features. This functionality helps us explore non-linear relationships such as income with age. It also helps us explore interactions between features, such as #bathrooms * #bedrooms while predicting real estate prices. However, this operation can lead to a dramatic increase in the number of features. The sklearn documentation warns us of this: &lt;/p&gt;
&lt;p&gt;Be aware that the number of features in the output array scales polynomially in the number of features of the input array, and exponentially in the degree. High degrees can cause overfitting.&lt;/p&gt;
&lt;p&gt;While a powerful addition to any feature engineering toolkit, this and some other sklearn functions do not allow us to specify which columns to operate on. This can lead to a significant increase in the size of our data when the number of input features is high. As data scientists, we must always beware the &lt;a href="https://www.kdnuggets.com/2017/04/must-know-curse-dimensionality.html" alt='curse of dimensionality'&gt;curse of dimensionality&lt;/a&gt;. Below we explore how to apply PolynomialFeatures to a select number of input features.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#Import necessary packages&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;mean_squared_error&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;r2_score&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.pipeline&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;make_pipeline&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.compose&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ColumnTransformer&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.impute&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SimpleImputer&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.preprocessing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LabelBinarizer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;
&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PolynomialFeatures&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FunctionTransformer&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn_pandas&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DataFrameMapper&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.decomposition&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PCA&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.linear_model&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LassoCV&lt;/span&gt;

&lt;span class="c1"&gt;# Load the Tips dataset&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_dataset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;tips&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;

&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;tip&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;temp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;tip&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;   &lt;span class="n"&gt;total_bill&lt;/span&gt;   &lt;span class="n"&gt;tip&lt;/span&gt;     &lt;span class="n"&gt;sex&lt;/span&gt; &lt;span class="n"&gt;smoker&lt;/span&gt;  &lt;span class="k"&gt;day&lt;/span&gt;    &lt;span class="n"&gt;time&lt;/span&gt;  &lt;span class="k"&gt;size&lt;/span&gt;
&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;99&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;01&lt;/span&gt;  &lt;span class="n"&gt;Female&lt;/span&gt;     &lt;span class="k"&gt;No&lt;/span&gt;  &lt;span class="n"&gt;Sun&lt;/span&gt;  &lt;span class="n"&gt;Dinner&lt;/span&gt;     &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="mi"&gt;1&lt;/span&gt;       &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;66&lt;/span&gt;    &lt;span class="n"&gt;Male&lt;/span&gt;     &lt;span class="k"&gt;No&lt;/span&gt;  &lt;span class="n"&gt;Sun&lt;/span&gt;  &lt;span class="n"&gt;Dinner&lt;/span&gt;     &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;       &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;01&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;    &lt;span class="n"&gt;Male&lt;/span&gt;     &lt;span class="k"&gt;No&lt;/span&gt;  &lt;span class="n"&gt;Sun&lt;/span&gt;  &lt;span class="n"&gt;Dinner&lt;/span&gt;     &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;       &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;68&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;31&lt;/span&gt;    &lt;span class="n"&gt;Male&lt;/span&gt;     &lt;span class="k"&gt;No&lt;/span&gt;  &lt;span class="n"&gt;Sun&lt;/span&gt;  &lt;span class="n"&gt;Dinner&lt;/span&gt;     &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;       &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;59&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;61&lt;/span&gt;  &lt;span class="n"&gt;Female&lt;/span&gt;     &lt;span class="k"&gt;No&lt;/span&gt;  &lt;span class="n"&gt;Sun&lt;/span&gt;  &lt;span class="n"&gt;Dinner&lt;/span&gt;     &lt;span class="mi"&gt;4&lt;/span&gt;


&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;pandas.core.frame.DataFrame&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;RangeIndex&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;entries&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;243&lt;/span&gt;
&lt;span class="k"&gt;Data&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="n"&gt;total_bill&lt;/span&gt;    &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;float64&lt;/span&gt;
&lt;span class="n"&gt;tip&lt;/span&gt;           &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;float64&lt;/span&gt;
&lt;span class="n"&gt;sex&lt;/span&gt;           &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;
&lt;span class="n"&gt;smoker&lt;/span&gt;        &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;
&lt;span class="k"&gt;day&lt;/span&gt;           &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;
&lt;span class="n"&gt;time&lt;/span&gt;          &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;
&lt;span class="k"&gt;size&lt;/span&gt;          &lt;span class="mi"&gt;244&lt;/span&gt; &lt;span class="n"&gt;non&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;null&lt;/span&gt; &lt;span class="n"&gt;int64&lt;/span&gt;
&lt;span class="n"&gt;dtypes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;float64&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;int64&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;memory&lt;/span&gt; &lt;span class="k"&gt;usage&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;KB&lt;/span&gt;
&lt;span class="k"&gt;None&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We are going to use a data frame mapper to apply customized transformations to each of the categorical features in our dataset. For numeric features, we sequentially perform Imputation, Standard Scaling, and then polynomial feature transformation. In this example, the polynomial feature transformation is applied only to two columns, 'total_bill' and 'size'.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;unwrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;mapper&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrameMapper&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;strategy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;constant&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;FunctionTransformer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unwrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;validate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;smoker&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;day&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;strategy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;constant&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;most_frequent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;FunctionTransformer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unwrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;validate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LabelBinarizer&lt;/span&gt;&lt;span class="p"&gt;()]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;df_out&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;numeric_features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;total_bill&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;size&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;transformer1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Pipeline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;imputer&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;strategy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;median&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;scaler&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poly&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PolynomialFeatures&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;categorical_features&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;smoker&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;day&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;transformer2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Pipeline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;

    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mapper&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mapper&lt;/span&gt; &lt;span class="p"&gt;)])&lt;/span&gt;

&lt;span class="n"&gt;transformer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ColumnTransformer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;transformers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;numeric_transformer&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transformer1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;numeric_features&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;categorical_transformer&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transformer2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;categorical_features&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;])&lt;/span&gt;


&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;transformer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;(195, 13)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As we can see, the number of features has expanded to 13. 
&lt;ul&gt;
&lt;li&gt; 4 from PolynomialFeatures() being applied to 'total_bill','size'
&lt;li&gt; 4 from LabelBinarizer() being applied to 'day'
&lt;li&gt; Remaing 5 represent 'sex','smoker','size','time' ,'total_bill'
&lt;/ul&gt;&lt;/p&gt;
&lt;p&gt;It isn't necessary to seperate columns into numeric and categorical. Below we apply polynomial feature transformation to 'day', 'total_bill', 'time', 'size'.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrameMapper&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;SimpleImputer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;strategy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;constant&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;FunctionTransformer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;unwrap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;validate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
               &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()]),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;smoker&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;df_out&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;mapper2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrameMapper&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;day&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelBinarizer&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;total_bill&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;StandardScaler&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;LabelEncoder&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;size&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;df_out&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;features_set_one&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;total_bill&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;size&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;time&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;day&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;transformer1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Pipeline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;

    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mapper2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mapper2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poly&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PolynomialFeatures&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;features_set_two&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sex&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;smoker&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;transformer2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Pipeline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;

    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mapper&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mapper&lt;/span&gt; &lt;span class="p"&gt;)])&lt;/span&gt;

&lt;span class="n"&gt;transformer2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ColumnTransformer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;transformers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;plynomial_transformer&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transformer1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;features_set_one&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;transformer2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transformer2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;features_set_two&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;transformer2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;(195, 38)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The expanded number of columns are coming from polynomial feature transformation being applied to more features than before.
ColumnTransformer objects (like transformer2 in our case) can also be used to create pipelines as can be seen below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pca&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PCA&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_components&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;LassoCV&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_jobs&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_iter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;feature_pipe&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;make_pipeline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;transformer2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pca&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;feature_pipe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;feature_pipe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit_transform&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y_pred&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; R^2 (test): {r2_score(y_test,y_pred)}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; RMS: {mean_squared_error(y_test,y_pred)**0.5}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt; R^2 (test): 0.34360014381555704&lt;/span&gt;
&lt;span class="err"&gt; RMS: 1.1732410711642152&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In this post we have used ColumnTransformer but similar operations can also be performed using &lt;a href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.FeatureUnion.html#sklearn.pipeline.FeatureUnion" alt='FeatureUnion'&gt;Feature Union&lt;/a&gt;&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Minkowski distance and its effects on KNN Classification</title><link href="https://rittik97.github.io/Blog/Minkowski_distance.html" rel="alternate"></link><published>2020-01-05T16:33:00-05:00</published><updated>2020-01-05T16:33:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2020-01-05:/Blog/Minkowski_distance.html</id><summary type="html">&lt;p&gt;Minkowski distance is a generalized version of the distance calculations we are accustomed to. It can be defined as:&lt;/p&gt;
&lt;p&gt;&lt;img src='images/min.png'&gt;
&lt;br&gt;
&lt;img src='images/Manhattan.png'&gt;&lt;/p&gt;
&lt;h6&gt;Euclidean &amp; Manhattan distance:&lt;/h6&gt;

&lt;p&gt;Manhattan distances are the sum of absolute differences between the Cartesian coordinates of the points in question. Manhattan distances can be thought of as the sum of the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Minkowski distance is a generalized version of the distance calculations we are accustomed to. It can be defined as:&lt;/p&gt;
&lt;p&gt;&lt;img src='images/min.png'&gt;
&lt;br&gt;
&lt;img src='images/Manhattan.png'&gt;&lt;/p&gt;
&lt;h6&gt;Euclidean &amp; Manhattan distance:&lt;/h6&gt;

&lt;p&gt;Manhattan distances are the sum of absolute differences between the Cartesian coordinates of the points in question. Manhattan distances can be thought of as the sum of the sides of a right-angled triangle while Euclidean distances represent the hypotenuse of the triangle. Hence, Manhattan distances are usually larger than Euclidean distances. The name alludes to the path cars would take to travel between intersections in the higly grid like street layout on the island of Manhattan. &lt;/p&gt;
&lt;p&gt;In the Minkowski equation above, when p=2, we get our familar Euclidian distance (also referred to as the L2-norm or L2 Distance). When p equals 1 we get the Manhattan distance. Manhattan distances can also find them selves called L1 norm, L1 distance, city-block distance and even LASSO. New York must really be the London of our times to even inspire geometry.&lt;/p&gt;
&lt;p&gt;As p tends to infinity we get another famous distance, the Chebyshev distance. Manhattan, Euclidean, Chebyshev, and Minkowski distances are part of the scikit-learn DistanceMetric class and can be used to tune classifiers such as KNN or clustering alogorithms such as DBSCAN.  &lt;/p&gt;
&lt;p&gt;In the graph to the left below, we plot the distance between the points (-2, 3) and (2, 6). For regular euclidean distance, we expect the distance between the points to be 2, and we can see that in the graph that the value is 5 for p=2 but as p increases the distance tends to converge at 4.&lt;/p&gt;
&lt;p&gt;We can also note that the distance computed can vary wildly based on the value of p and the coordinates of the points.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;minkowski&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;distances&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minkowski&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;distance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;    

&lt;span class="n"&gt;chart1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;distances&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_line&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;distance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;clamp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Distance between (-2,3) &amp;amp; (2,6)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;chart2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;distances&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_line&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;distance&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;clamp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Distance between (7,3) &amp;amp; (4,6)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;chart1&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;chart2&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="altair-viz-1"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-1");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class="error" style="color:red;"&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" &amp;&amp; define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() =&gt; loadScript("vega-lite"))
        .then(() =&gt; loadScript("vega-embed"))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-79768d26db46531dea1428000702ea4e"}, "mark": "line", "encoding": {"x": {"type": "quantitative", "field": "p"}, "y": {"type": "quantitative", "field": "distance", "scale": {"clamp": true, "domain": [0, 8]}}}, "title": "Distance between (-2,3) &amp; (2,6)"}, {"data": {"name": "data-4b2f4581c5100485b34e99d8d54f774e"}, "mark": "line", "encoding": {"x": {"type": "quantitative", "field": "p"}, "y": {"type": "quantitative", "field": "distance", "scale": {"clamp": true, "domain": [0, 8]}}}, "title": "Distance between (7,3) &amp; (4,6)"}], "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-79768d26db46531dea1428000702ea4e": [{"distance": 7.0, "p": 1.0}, {"distance": 5.0, "p": 2.0}, {"distance": 4.497941445275415, "p": 3.0}, {"distance": 4.284572294953817, "p": 4.0}, {"distance": 4.174027662897746, "p": 5.0}, {"distance": 4.110704132575835, "p": 6.0}, {"distance": 4.072242319397026, "p": 7.0}, {"distance": 4.04799203437848, "p": 8.0}, {"distance": 4.032307299196485, "p": 9.0}, {"distance": 4.021974149822332, "p": 10.0}, {"distance": 4.015071076052405, "p": 11.0}, {"distance": 4.010408520546921, "p": 12.0}, {"distance": 4.0072309746728, "p": 13.0}, {"distance": 4.005049203883416, "p": 14.0}, {"distance": 4.003541555587008, "p": 15.0}, {"distance": 4.002493952812106, "p": 16.0}, {"distance": 4.001762467080604, "p": 17.0}, {"distance": 4.00124950127245, "p": 18.0}, {"distance": 4.000888386748128, "p": 19.0}, {"distance": 4.000633288976907, "p": 20.0}, {"distance": 4.000452517978709, "p": 21.0}, {"distance": 4.000324052693183, "p": 22.0}, {"distance": 4.0002325216982175, "p": 23.0}, {"distance": 4.000167151528524, "p": 24.0}, {"distance": 4.000120363481176, "p": 25.0}, {"distance": 4.000086808384343, "p": 26.0}, {"distance": 4.000062699176821, "p": 27.0}, {"distance": 4.000045347240692, "p": 28.0}, {"distance": 4.000032838908592, "p": 29.0}, {"distance": 4.000023808890362, "p": 30.0}, {"distance": 4.000017281017835, "p": 31.0}, {"distance": 4.000012555942296, "p": 32.0}, {"distance": 4.000009131705142, "p": 33.0}, {"distance": 4.000006647404717, "p": 34.0}, {"distance": 4.000004843142265, "p": 35.0}, {"distance": 4.000003531476029, "p": 36.0}, {"distance": 4.000002577032979, "p": 37.0}, {"distance": 4.000001881917685, "p": 38.0}, {"distance": 4.000001375250525, "p": 39.0}, {"distance": 4.000001005653586, "p": 40.0}, {"distance": 4.000000735844988, "p": 41.0}, {"distance": 4.000000538744146, "p": 42.0}, {"distance": 4.000000394661681, "p": 43.0}, {"distance": 4.000000289269223, "p": 44.0}, {"distance": 4.000000212130846, "p": 45.0}, {"distance": 4.000000155639524, "p": 46.0}, {"distance": 4.000000114246059, "p": 47.0}, {"distance": 4.000000083899463, "p": 48.0}, {"distance": 4.000000061640429, "p": 49.0}, {"distance": 4.00000004530572, "p": 50.0}], "data-4b2f4581c5100485b34e99d8d54f774e": [{"distance": 0.0, "p": 1.0}, {"distance": 4.242640687119285, "p": 2.0}, {"distance": 0.0, "p": 3.0}, {"distance": 3.5676213450081633, "p": 4.0}, {"distance": 0.0, "p": 5.0}, {"distance": 3.3673861449281186, "p": 6.0}, {"distance": 0.0, "p": 7.0}, {"distance": 3.271523197995773, "p": 8.0}, {"distance": 0.0, "p": 9.0}, {"distance": 3.21532038760888, "p": 10.0}, {"distance": 0.0, "p": 11.0}, {"distance": 3.1783892830778857, "p": 12.0}, {"distance": 0.0, "p": 13.0}, {"distance": 3.152269915959658, "p": 14.0}, {"distance": 0.0, "p": 15.0}, {"distance": 3.1328213472822415, "p": 16.0}, {"distance": 0.0, "p": 17.0}, {"distance": 3.11777767809553, "p": 18.0}, {"distance": 0.0, "p": 19.0}, {"distance": 3.1057947715241325, "p": 20.0}, {"distance": 0.0, "p": 21.0}, {"distance": 3.096024839202629, "p": 22.0}, {"distance": 0.0, "p": 23.0}, {"distance": 3.087906709930476, "p": 24.0}, {"distance": 0.0, "p": 25.0}, {"distance": 3.0810541521263177, "p": 26.0}, {"distance": 0.0, "p": 27.0}, {"distance": 3.0751926358976234, "p": 28.0}, {"distance": 0.0, "p": 29.0}, {"distance": 3.0701216759903245, "p": 30.0}, {"distance": 0.0, "p": 31.0}, {"distance": 3.06569144596235, "p": 32.0}, {"distance": 0.0, "p": 33.0}, {"distance": 3.06178772873876, "p": 34.0}, {"distance": 0.0, "p": 35.0}, {"distance": 3.0583219311064345, "p": 36.0}, {"distance": 0.0, "p": 37.0}, {"distance": 3.0552242798223057, "p": 38.0}, {"distance": 0.0, "p": 39.0}, {"distance": 3.0524390763080596, "p": 40.0}, {"distance": 0.0, "p": 41.0}, {"distance": 3.0499213181758065, "p": 42.0}, {"distance": 0.0, "p": 43.0}, {"distance": 3.0476342493166544, "p": 44.0}, {"distance": 0.0, "p": 45.0}, {"distance": 3.045547553851045, "p": 46.0}, {"distance": 0.0, "p": 47.0}, {"distance": 3.0436360048125706, "p": 48.0}, {"distance": 0.0, "p": 49.0}, {"distance": 3.0418784393700875, "p": 50.0}]}}, {"mode": "vega-lite"});
&lt;/script&gt;

&lt;p&gt;The code below visually explores the different decision boundries formed by varying p in Minkowski distance. We also explore how our performance varies on the test set.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;altair&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;alt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.neighbors&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;KNeighborsClassifier&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DistanceMetric&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.datasets&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;make_moons&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;make_circles&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;make_classification&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.metrics&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;accuracy_score&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;roc_auc_score&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.datasets&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;make_blobs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Generate our data&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_classification&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_samples&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1_000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_features&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_redundant&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_informative&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
                           &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_clusters_per_class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_classes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;magma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;edgecolors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;k&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Input Data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_7_0.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;test_size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;random_state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;117&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;x_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;y_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_max&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;meshgrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_min&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;knn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;KNeighborsClassifier&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_neighbors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;metric&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;minkowski&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_jobs&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;Z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;c_&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()])&lt;/span&gt;
    &lt;span class="n"&gt;Z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;accuracy_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;roc_auc_score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;distances&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100000000&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;accuracy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;auc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;distances&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;acc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;roc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;knn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pcolormesh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;viridis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.35&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;viridis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;k&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;P = &lt;/span&gt;&lt;span class="si"&gt;{val}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;accuracy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;acc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;auc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;roc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_9_0.png"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;accuracy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;auc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticklabels&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;50&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;100000000&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Changes in Accuracy &amp;amp; ROC AUC with increasing P &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;P&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Accuracy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ROC AUC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_10_0_1.png"&gt;&lt;/p&gt;
&lt;p&gt;We can observe stark changes to the shapes of the decision boundary and to performance as p varies. However these trends can not be generalized, and performance depends on the shape of the input data.&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Visualizing the Collatz Conjecture using Altair &amp; Matplotlib</title><link href="https://rittik97.github.io/Blog/collatz_conjecture.html" rel="alternate"></link><published>2019-12-27T11:35:00-05:00</published><updated>2019-12-27T11:35:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2019-12-27:/Blog/collatz_conjecture.html</id><summary type="html">&lt;p&gt;Introduced by Lothar Collatz in 1937, the conjecture can be defined as:
start with any positive integer, if it is even divide it by two. If it is odd, triple it and add one. Now repeat this procedure to generate a sequence.&lt;/p&gt;
&lt;p&gt;The great unsolved question in mathematics is to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Introduced by Lothar Collatz in 1937, the conjecture can be defined as:
start with any positive integer, if it is even divide it by two. If it is odd, triple it and add one. Now repeat this procedure to generate a sequence.&lt;/p&gt;
&lt;p&gt;The great unsolved question in mathematics is to prove that this sequence will reach 1 for all positive integer initial values. The problem is widely believed to be out of reach of present day mathematics. The great martian Paul Erdos said of the conjecture, "Mathematics may not be ready for such problems."&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;altair&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;alt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;                             
        &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;

&lt;span class="n"&gt;runs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5000&lt;/span&gt;
&lt;span class="n"&gt;seen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="n"&gt;sequence_lengths&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;runs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;sequence_lengths&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;        
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In the 1970s, mathematicians showed that almost all Collatz sequences eventually reach a number that’s smaller than where you started. Terence Tao, one of the most gifted minds of our generation, used partial differential equations to prove that 99% of starting values will reach a value that is quite close to 1. It is arguably the strongest result in the long history of the conjecture.&lt;/p&gt;
&lt;p&gt;However, his method can not lead to a full proof and another approach is required.&lt;/p&gt;
&lt;p&gt;“You can get as close as you want to the Collatz conjecture, but it’s still out of reach” - Terence Tao&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;runs&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;sequence_lengths&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;i&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;len&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;is_even&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Odd&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Even&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Chart&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mark_point&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;opacity&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5050&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;len&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Length of Collatz Sequence&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Color&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;is_even:N&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;alt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scheme&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;darkblue&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;600&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;400&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Collatz Sequence&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;configure_axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;configure_view&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;strokeOpacity&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="altair-viz-1"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  (function(spec, embedOpt){
    const outputDiv = document.getElementById("altair-viz-1");
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.0.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class="error" style="color:red;"&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" &amp;&amp; define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() =&gt; loadScript("vega-lite"))
        .then(() =&gt; loadScript("vega-embed"))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "strokeOpacity": 0}, "axis": {"grid": false}}, "data": {"name": "data-943bd958b2a0bf81b4b107db1315aaa9"}, "mark": {"type": "point", "opacity": 0.2}, "encoding": {"color": {"type": "nominal", "field": "is_even", "legend": null, "scale": {"scheme": "darkblue"}}, "x": {"type": "quantitative", "axis": {"title": "N"}, "field": "i", "scale": {"domain": [0, 5050]}}, "y": {"type": "quantitative", "axis": {"title": "Length of Collatz Sequence"}, "field": "len"}}, "height": 400, "title": "Collatz Sequence", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v4.0.0.json", "datasets": {"data-943bd958b2a0bf81b4b107db1315aaa9": [{"i": 1, "len": 1, "is_even": 0}, {"i": 2, "len": 2, "is_even": 1}, {"i": 3, "len": 8, "is_even": 0}, {"i": 4, "len": 3, "is_even": 1}, {"i": 5, "len": 6, "is_even": 0}, {"i": 6, "len": 9, "is_even": 1}, {"i": 7, "len": 17, "is_even": 0}, {"i": 8, "len": 4, "is_even": 1}, {"i": 9, "len": 20, "is_even": 0}, {"i": 10, "len": 7, "is_even": 1}, {"i": 11, "len": 15, "is_even": 0}, {"i": 12, "len": 10, "is_even": 1}, {"i": 13, "len": 10, "is_even": 0}, {"i": 14, "len": 18, "is_even": 1}, {"i": 15, "len": 18, "is_even": 0}, {"i": 16, "len": 5, "is_even": 1}, {"i": 17, "len": 13, "is_even": 0}, {"i": 18, "len": 21, "is_even": 1}, {"i": 19, "len": 21, "is_even": 0}, {"i": 20, "len": 8, "is_even": 1}, {"i": 21, "len": 8, "is_even": 0}, {"i": 22, "len": 16, "is_even": 1}, {"i": 23, "len": 16, "is_even": 0}, {"i": 24, "len": 11, "is_even": 1}, {"i": 25, "len": 24, "is_even": 0}, {"i": 26, "len": 11, "is_even": 1}, {"i": 27, "len": 112, "is_even": 0}, {"i": 28, "len": 19, "is_even": 1}, {"i": 29, "len": 19, "is_even": 0}, {"i": 30, "len": 19, "is_even": 1}, {"i": 31, "len": 107, "is_even": 0}, {"i": 32, "len": 6, "is_even": 1}, {"i": 33, "len": 27, "is_even": 0}, {"i": 34, "len": 14, "is_even": 1}, {"i": 35, "len": 14, "is_even": 0}, {"i": 36, "len": 22, "is_even": 1}, {"i": 37, "len": 22, "is_even": 0}, {"i": 38, "len": 22, "is_even": 1}, {"i": 39, "len": 35, "is_even": 0}, {"i": 40, "len": 9, "is_even": 1}, {"i": 41, "len": 110, "is_even": 0}, {"i": 42, "len": 9, "is_even": 1}, {"i": 43, "len": 30, "is_even": 0}, {"i": 44, "len": 17, "is_even": 1}, {"i": 45, "len": 17, "is_even": 0}, {"i": 46, "len": 17, "is_even": 1}, {"i": 47, "len": 105, "is_even": 0}, {"i": 48, "len": 12, "is_even": 1}, {"i": 49, "len": 25, "is_even": 0}, {"i": 50, "len": 25, "is_even": 1}, {"i": 51, "len": 25, "is_even": 0}, {"i": 52, "len": 12, "is_even": 1}, {"i": 53, "len": 12, "is_even": 0}, {"i": 54, "len": 113, "is_even": 1}, {"i": 55, "len": 113, "is_even": 0}, {"i": 56, "len": 20, "is_even": 1}, {"i": 57, "len": 33, "is_even": 0}, {"i": 58, "len": 20, "is_even": 1}, {"i": 59, "len": 33, "is_even": 0}, {"i": 60, "len": 20, "is_even": 1}, {"i": 61, "len": 20, "is_even": 0}, {"i": 62, "len": 108, "is_even": 1}, {"i": 63, "len": 108, "is_even": 0}, {"i": 64, "len": 7, "is_even": 1}, {"i": 65, "len": 28, "is_even": 0}, {"i": 66, "len": 28, "is_even": 1}, {"i": 67, "len": 28, "is_even": 0}, {"i": 68, "len": 15, "is_even": 1}, {"i": 69, "len": 15, "is_even": 0}, {"i": 70, "len": 15, "is_even": 1}, {"i": 71, "len": 103, "is_even": 0}, {"i": 72, "len": 23, "is_even": 1}, {"i": 73, "len": 116, "is_even": 0}, {"i": 74, "len": 23, "is_even": 1}, {"i": 75, "len": 15, "is_even": 0}, {"i": 76, "len": 23, "is_even": 1}, {"i": 77, "len": 23, "is_even": 0}, {"i": 78, "len": 36, "is_even": 1}, {"i": 79, "len": 36, "is_even": 0}, {"i": 80, "len": 10, "is_even": 1}, {"i": 81, "len": 23, "is_even": 0}, {"i": 82, "len": 111, "is_even": 1}, {"i": 83, "len": 111, "is_even": 0}, {"i": 84, "len": 10, "is_even": 1}, {"i": 85, "len": 10, "is_even": 0}, {"i": 86, "len": 31, "is_even": 1}, {"i": 87, "len": 31, "is_even": 0}, {"i": 88, "len": 18, "is_even": 1}, {"i": 89, "len": 31, "is_even": 0}, {"i": 90, "len": 18, "is_even": 1}, {"i": 91, "len": 93, "is_even": 0}, {"i": 92, "len": 18, "is_even": 1}, {"i": 93, "len": 18, "is_even": 0}, {"i": 94, "len": 106, "is_even": 1}, {"i": 95, "len": 106, "is_even": 0}, {"i": 96, "len": 13, "is_even": 1}, {"i": 97, "len": 119, "is_even": 0}, {"i": 98, "len": 26, "is_even": 1}, {"i": 99, "len": 26, "is_even": 0}, {"i": 100, "len": 26, "is_even": 1}, {"i": 101, "len": 26, "is_even": 0}, {"i": 102, "len": 26, "is_even": 1}, {"i": 103, "len": 88, "is_even": 0}, {"i": 104, "len": 13, "is_even": 1}, {"i": 105, "len": 39, "is_even": 0}, {"i": 106, "len": 13, "is_even": 1}, {"i": 107, "len": 101, "is_even": 0}, {"i": 108, "len": 114, "is_even": 1}, {"i": 109, "len": 114, "is_even": 0}, {"i": 110, "len": 114, "is_even": 1}, {"i": 111, "len": 70, "is_even": 0}, {"i": 112, "len": 21, "is_even": 1}, {"i": 113, "len": 13, "is_even": 0}, {"i": 114, "len": 34, "is_even": 1}, {"i": 115, "len": 34, "is_even": 0}, {"i": 116, "len": 21, "is_even": 1}, {"i": 117, "len": 21, "is_even": 0}, {"i": 118, "len": 34, "is_even": 1}, {"i": 119, "len": 34, "is_even": 0}, {"i": 120, "len": 21, "is_even": 1}, {"i": 121, "len": 96, "is_even": 0}, {"i": 122, "len": 21, "is_even": 1}, {"i": 123, "len": 47, "is_even": 0}, {"i": 124, "len": 109, "is_even": 1}, {"i": 125, "len": 109, "is_even": 0}, {"i": 126, "len": 109, "is_even": 1}, {"i": 127, "len": 47, "is_even": 0}, {"i": 128, "len": 8, "is_even": 1}, {"i": 129, "len": 122, "is_even": 0}, {"i": 130, "len": 29, "is_even": 1}, {"i": 131, "len": 29, "is_even": 0}, {"i": 132, "len": 29, "is_even": 1}, {"i": 133, "len": 29, "is_even": 0}, {"i": 134, "len": 29, "is_even": 1}, {"i": 135, "len": 42, "is_even": 0}, {"i": 136, "len": 16, "is_even": 1}, {"i": 137, "len": 91, "is_even": 0}, {"i": 138, "len": 16, "is_even": 1}, {"i": 139, "len": 42, "is_even": 0}, {"i": 140, "len": 16, "is_even": 1}, {"i": 141, "len": 16, "is_even": 0}, {"i": 142, "len": 104, "is_even": 1}, {"i": 143, "len": 104, "is_even": 0}, {"i": 144, "len": 24, "is_even": 1}, {"i": 145, "len": 117, "is_even": 0}, {"i": 146, "len": 117, "is_even": 1}, {"i": 147, "len": 117, "is_even": 0}, {"i": 148, "len": 24, "is_even": 1}, {"i": 149, "len": 24, "is_even": 0}, {"i": 150, "len": 16, "is_even": 1}, {"i": 151, "len": 16, "is_even": 0}, {"i": 152, "len": 24, "is_even": 1}, {"i": 153, "len": 37, "is_even": 0}, {"i": 154, "len": 24, "is_even": 1}, {"i": 155, "len": 86, "is_even": 0}, {"i": 156, "len": 37, "is_even": 1}, {"i": 157, "len": 37, "is_even": 0}, {"i": 158, "len": 37, "is_even": 1}, {"i": 159, "len": 55, "is_even": 0}, {"i": 160, "len": 11, "is_even": 1}, {"i": 161, "len": 99, "is_even": 0}, {"i": 162, "len": 24, "is_even": 1}, {"i": 163, "len": 24, "is_even": 0}, {"i": 164, "len": 112, "is_even": 1}, {"i": 165, "len": 112, "is_even": 0}, {"i": 166, "len": 112, "is_even": 1}, {"i": 167, "len": 68, "is_even": 0}, {"i": 168, "len": 11, "is_even": 1}, {"i": 169, "len": 50, "is_even": 0}, {"i": 170, "len": 11, "is_even": 1}, {"i": 171, "len": 125, "is_even": 0}, {"i": 172, "len": 32, "is_even": 1}, {"i": 173, "len": 32, "is_even": 0}, {"i": 174, "len": 32, "is_even": 1}, {"i": 175, "len": 81, "is_even": 0}, {"i": 176, "len": 19, "is_even": 1}, {"i": 177, "len": 32, "is_even": 0}, {"i": 178, "len": 32, "is_even": 1}, {"i": 179, "len": 32, "is_even": 0}, {"i": 180, "len": 19, "is_even": 1}, {"i": 181, "len": 19, "is_even": 0}, {"i": 182, "len": 94, "is_even": 1}, {"i": 183, "len": 94, "is_even": 0}, {"i": 184, "len": 19, "is_even": 1}, {"i": 185, "len": 45, "is_even": 0}, {"i": 186, "len": 19, "is_even": 1}, {"i": 187, "len": 45, "is_even": 0}, {"i": 188, "len": 107, "is_even": 1}, {"i": 189, "len": 107, "is_even": 0}, {"i": 190, "len": 107, "is_even": 1}, {"i": 191, "len": 45, "is_even": 0}, {"i": 192, "len": 14, "is_even": 1}, {"i": 193, "len": 120, "is_even": 0}, {"i": 194, "len": 120, "is_even": 1}, {"i": 195, "len": 120, "is_even": 0}, {"i": 196, "len": 27, "is_even": 1}, {"i": 197, "len": 27, "is_even": 0}, {"i": 198, "len": 27, "is_even": 1}, {"i": 199, "len": 120, "is_even": 0}, {"i": 200, "len": 27, "is_even": 1}, {"i": 201, "len": 19, "is_even": 0}, {"i": 202, "len": 27, "is_even": 1}, {"i": 203, "len": 40, "is_even": 0}, {"i": 204, "len": 27, "is_even": 1}, {"i": 205, "len": 27, "is_even": 0}, {"i": 206, "len": 89, "is_even": 1}, {"i": 207, "len": 89, "is_even": 0}, {"i": 208, "len": 14, "is_even": 1}, {"i": 209, "len": 40, "is_even": 0}, {"i": 210, "len": 40, "is_even": 1}, {"i": 211, "len": 40, "is_even": 0}, {"i": 212, "len": 14, "is_even": 1}, {"i": 213, "len": 14, "is_even": 0}, {"i": 214, "len": 102, "is_even": 1}, {"i": 215, "len": 102, "is_even": 0}, {"i": 216, "len": 115, "is_even": 1}, {"i": 217, "len": 27, "is_even": 0}, {"i": 218, "len": 115, "is_even": 1}, {"i": 219, "len": 53, "is_even": 0}, {"i": 220, "len": 115, "is_even": 1}, {"i": 221, "len": 115, "is_even": 0}, {"i": 222, "len": 71, "is_even": 1}, {"i": 223, "len": 71, "is_even": 0}, {"i": 224, "len": 22, "is_even": 1}, {"i": 225, "len": 53, "is_even": 0}, {"i": 226, "len": 14, "is_even": 1}, {"i": 227, "len": 14, "is_even": 0}, {"i": 228, "len": 35, "is_even": 1}, {"i": 229, "len": 35, "is_even": 0}, {"i": 230, "len": 35, "is_even": 1}, {"i": 231, "len": 128, "is_even": 0}, {"i": 232, "len": 22, "is_even": 1}, {"i": 233, "len": 84, "is_even": 0}, {"i": 234, "len": 22, "is_even": 1}, {"i": 235, "len": 128, "is_even": 0}, {"i": 236, "len": 35, "is_even": 1}, {"i": 237, "len": 35, "is_even": 0}, {"i": 238, "len": 35, "is_even": 1}, {"i": 239, "len": 53, "is_even": 0}, {"i": 240, "len": 22, "is_even": 1}, {"i": 241, "len": 22, "is_even": 0}, {"i": 242, "len": 97, "is_even": 1}, {"i": 243, "len": 97, "is_even": 0}, {"i": 244, "len": 22, "is_even": 1}, {"i": 245, "len": 22, "is_even": 0}, {"i": 246, "len": 48, "is_even": 1}, {"i": 247, "len": 48, "is_even": 0}, {"i": 248, "len": 110, "is_even": 1}, {"i": 249, "len": 48, "is_even": 0}, {"i": 250, "len": 110, "is_even": 1}, {"i": 251, "len": 66, "is_even": 0}, {"i": 252, "len": 110, "is_even": 1}, {"i": 253, "len": 110, "is_even": 0}, {"i": 254, "len": 48, "is_even": 1}, {"i": 255, "len": 48, "is_even": 0}, {"i": 256, "len": 9, "is_even": 1}, {"i": 257, "len": 123, "is_even": 0}, {"i": 258, "len": 123, "is_even": 1}, {"i": 259, "len": 123, "is_even": 0}, {"i": 260, "len": 30, "is_even": 1}, {"i": 261, "len": 30, "is_even": 0}, {"i": 262, "len": 30, "is_even": 1}, {"i": 263, "len": 79, "is_even": 0}, {"i": 264, "len": 30, "is_even": 1}, {"i": 265, "len": 123, "is_even": 0}, {"i": 266, "len": 30, "is_even": 1}, {"i": 267, "len": 22, "is_even": 0}, {"i": 268, "len": 30, "is_even": 1}, {"i": 269, "len": 30, "is_even": 0}, {"i": 270, "len": 43, "is_even": 1}, {"i": 271, "len": 43, "is_even": 0}, {"i": 272, "len": 17, "is_even": 1}, {"i": 273, "len": 30, "is_even": 0}, {"i": 274, "len": 92, "is_even": 1}, {"i": 275, "len": 92, "is_even": 0}, {"i": 276, "len": 17, "is_even": 1}, {"i": 277, "len": 17, "is_even": 0}, {"i": 278, "len": 43, "is_even": 1}, {"i": 279, "len": 43, "is_even": 0}, {"i": 280, "len": 17, "is_even": 1}, {"i": 281, "len": 43, "is_even": 0}, {"i": 282, "len": 17, "is_even": 1}, {"i": 283, "len": 61, "is_even": 0}, {"i": 284, "len": 105, "is_even": 1}, {"i": 285, "len": 105, "is_even": 0}, {"i": 286, "len": 105, "is_even": 1}, {"i": 287, "len": 43, "is_even": 0}, {"i": 288, "len": 25, "is_even": 1}, {"i": 289, "len": 30, "is_even": 0}, {"i": 290, "len": 118, "is_even": 1}, {"i": 291, "len": 118, "is_even": 0}, {"i": 292, "len": 118, "is_even": 1}, {"i": 293, "len": 118, "is_even": 0}, {"i": 294, "len": 118, "is_even": 1}, {"i": 295, "len": 56, "is_even": 0}, {"i": 296, "len": 25, "is_even": 1}, {"i": 297, "len": 74, "is_even": 0}, {"i": 298, "len": 25, "is_even": 1}, {"i": 299, "len": 118, "is_even": 0}, {"i": 300, "len": 17, "is_even": 1}, {"i": 301, "len": 17, "is_even": 0}, {"i": 302, "len": 17, "is_even": 1}, {"i": 303, "len": 43, "is_even": 0}, {"i": 304, "len": 25, "is_even": 1}, {"i": 305, "len": 38, "is_even": 0}, {"i": 306, "len": 38, "is_even": 1}, {"i": 307, "len": 38, "is_even": 0}, {"i": 308, "len": 25, "is_even": 1}, {"i": 309, "len": 25, "is_even": 0}, {"i": 310, "len": 87, "is_even": 1}, {"i": 311, "len": 87, "is_even": 0}, {"i": 312, "len": 38, "is_even": 1}, {"i": 313, "len": 131, "is_even": 0}, {"i": 314, "len": 38, "is_even": 1}, {"i": 315, "len": 38, "is_even": 0}, {"i": 316, "len": 38, "is_even": 1}, {"i": 317, "len": 38, "is_even": 0}, {"i": 318, "len": 56, "is_even": 1}, {"i": 319, "len": 56, "is_even": 0}, {"i": 320, "len": 12, "is_even": 1}, {"i": 321, "len": 25, "is_even": 0}, {"i": 322, "len": 100, "is_even": 1}, {"i": 323, "len": 100, "is_even": 0}, {"i": 324, "len": 25, "is_even": 1}, {"i": 325, "len": 25, "is_even": 0}, {"i": 326, "len": 25, "is_even": 1}, {"i": 327, "len": 144, "is_even": 0}, {"i": 328, "len": 113, "is_even": 1}, {"i": 329, "len": 51, "is_even": 0}, {"i": 330, "len": 113, "is_even": 1}, {"i": 331, "len": 25, "is_even": 0}, {"i": 332, "len": 113, "is_even": 1}, {"i": 333, "len": 113, "is_even": 0}, {"i": 334, "len": 69, "is_even": 1}, {"i": 335, "len": 69, "is_even": 0}, {"i": 336, "len": 12, "is_even": 1}, {"i": 337, "len": 113, "is_even": 0}, {"i": 338, "len": 51, "is_even": 1}, {"i": 339, "len": 51, "is_even": 0}, {"i": 340, "len": 12, "is_even": 1}, {"i": 341, "len": 12, "is_even": 0}, {"i": 342, "len": 126, "is_even": 1}, {"i": 343, "len": 126, "is_even": 0}, {"i": 344, "len": 33, "is_even": 1}, {"i": 345, "len": 126, "is_even": 0}, {"i": 346, "len": 33, "is_even": 1}, {"i": 347, "len": 126, "is_even": 0}, {"i": 348, "len": 33, "is_even": 1}, {"i": 349, "len": 33, "is_even": 0}, {"i": 350, "len": 82, "is_even": 1}, {"i": 351, "len": 82, "is_even": 0}, {"i": 352, "len": 20, "is_even": 1}, {"i": 353, "len": 126, "is_even": 0}, {"i": 354, "len": 33, "is_even": 1}, {"i": 355, "len": 33, "is_even": 0}, {"i": 356, "len": 33, "is_even": 1}, {"i": 357, "len": 33, "is_even": 0}, {"i": 358, "len": 33, "is_even": 1}, {"i": 359, "len": 51, "is_even": 0}, {"i": 360, "len": 20, "is_even": 1}, {"i": 361, "len": 46, "is_even": 0}, {"i": 362, "len": 20, "is_even": 1}, {"i": 363, "len": 46, "is_even": 0}, {"i": 364, "len": 95, "is_even": 1}, {"i": 365, "len": 95, "is_even": 0}, {"i": 366, "len": 95, "is_even": 1}, {"i": 367, "len": 46, "is_even": 0}, {"i": 368, "len": 20, "is_even": 1}, {"i": 369, "len": 20, "is_even": 0}, {"i": 370, "len": 46, "is_even": 1}, {"i": 371, "len": 46, "is_even": 0}, {"i": 372, "len": 20, "is_even": 1}, {"i": 373, "len": 20, "is_even": 0}, {"i": 374, "len": 46, "is_even": 1}, {"i": 375, "len": 46, "is_even": 0}, {"i": 376, "len": 108, "is_even": 1}, {"i": 377, "len": 64, "is_even": 0}, {"i": 378, "len": 108, "is_even": 1}, {"i": 379, "len": 59, "is_even": 0}, {"i": 380, "len": 108, "is_even": 1}, {"i": 381, "len": 108, "is_even": 0}, {"i": 382, "len": 46, "is_even": 1}, {"i": 383, "len": 46, "is_even": 0}, {"i": 384, "len": 15, "is_even": 1}, {"i": 385, "len": 33, "is_even": 0}, {"i": 386, "len": 121, "is_even": 1}, {"i": 387, "len": 121, "is_even": 0}, {"i": 388, "len": 121, "is_even": 1}, {"i": 389, "len": 121, "is_even": 0}, {"i": 390, "len": 121, "is_even": 1}, {"i": 391, "len": 121, "is_even": 0}, {"i": 392, "len": 28, "is_even": 1}, {"i": 393, "len": 59, "is_even": 0}, {"i": 394, "len": 28, "is_even": 1}, {"i": 395, "len": 77, "is_even": 0}, {"i": 396, "len": 28, "is_even": 1}, {"i": 397, "len": 28, "is_even": 0}, {"i": 398, "len": 121, "is_even": 1}, {"i": 399, "len": 121, "is_even": 0}, {"i": 400, "len": 28, "is_even": 1}, {"i": 401, "len": 20, "is_even": 0}, {"i": 402, "len": 20, "is_even": 1}, {"i": 403, "len": 20, "is_even": 0}, {"i": 404, "len": 28, "is_even": 1}, {"i": 405, "len": 28, "is_even": 0}, {"i": 406, "len": 41, "is_even": 1}, {"i": 407, "len": 41, "is_even": 0}, {"i": 408, "len": 28, "is_even": 1}, {"i": 409, "len": 41, "is_even": 0}, {"i": 410, "len": 28, "is_even": 1}, {"i": 411, "len": 134, "is_even": 0}, {"i": 412, "len": 90, "is_even": 1}, {"i": 413, "len": 90, "is_even": 0}, {"i": 414, "len": 90, "is_even": 1}, {"i": 415, "len": 134, "is_even": 0}, {"i": 416, "len": 15, "is_even": 1}, {"i": 417, "len": 134, "is_even": 0}, {"i": 418, "len": 41, "is_even": 1}, {"i": 419, "len": 41, "is_even": 0}, {"i": 420, "len": 41, "is_even": 1}, {"i": 421, "len": 41, "is_even": 0}, {"i": 422, "len": 41, "is_even": 1}, {"i": 423, "len": 33, "is_even": 0}, {"i": 424, "len": 15, "is_even": 1}, {"i": 425, "len": 59, "is_even": 0}, {"i": 426, "len": 15, "is_even": 1}, {"i": 427, "len": 54, "is_even": 0}, {"i": 428, "len": 103, "is_even": 1}, {"i": 429, "len": 103, "is_even": 0}, {"i": 430, "len": 103, "is_even": 1}, {"i": 431, "len": 41, "is_even": 0}, {"i": 432, "len": 116, "is_even": 1}, {"i": 433, "len": 28, "is_even": 0}, {"i": 434, "len": 28, "is_even": 1}, {"i": 435, "len": 28, "is_even": 0}, {"i": 436, "len": 116, "is_even": 1}, {"i": 437, "len": 116, "is_even": 0}, {"i": 438, "len": 54, "is_even": 1}, {"i": 439, "len": 54, "is_even": 0}, {"i": 440, "len": 116, "is_even": 1}, {"i": 441, "len": 28, "is_even": 0}, {"i": 442, "len": 116, "is_even": 1}, {"i": 443, "len": 54, "is_even": 0}, {"i": 444, "len": 72, "is_even": 1}, {"i": 445, "len": 72, "is_even": 0}, {"i": 446, "len": 72, "is_even": 1}, {"i": 447, "len": 98, "is_even": 0}, {"i": 448, "len": 23, "is_even": 1}, {"i": 449, "len": 116, "is_even": 0}, {"i": 450, "len": 54, "is_even": 1}, {"i": 451, "len": 54, "is_even": 0}, {"i": 452, "len": 15, "is_even": 1}, {"i": 453, "len": 15, "is_even": 0}, {"i": 454, "len": 15, "is_even": 1}, {"i": 455, "len": 41, "is_even": 0}, {"i": 456, "len": 36, "is_even": 1}, {"i": 457, "len": 129, "is_even": 0}, {"i": 458, "len": 36, "is_even": 1}, {"i": 459, "len": 129, "is_even": 0}, {"i": 460, "len": 36, "is_even": 1}, {"i": 461, "len": 36, "is_even": 0}, {"i": 462, "len": 129, "is_even": 1}, {"i": 463, "len": 129, "is_even": 0}, {"i": 464, "len": 23, "is_even": 1}, {"i": 465, "len": 36, "is_even": 0}, {"i": 466, "len": 85, "is_even": 1}, {"i": 467, "len": 85, "is_even": 0}, {"i": 468, "len": 23, "is_even": 1}, {"i": 469, "len": 23, "is_even": 0}, {"i": 470, "len": 129, "is_even": 1}, {"i": 471, "len": 129, "is_even": 0}, {"i": 472, "len": 36, "is_even": 1}, {"i": 473, "len": 36, "is_even": 0}, {"i": 474, "len": 36, "is_even": 1}, {"i": 475, "len": 28, "is_even": 0}, {"i": 476, "len": 36, "is_even": 1}, {"i": 477, "len": 36, "is_even": 0}, {"i": 478, "len": 54, "is_even": 1}, {"i": 479, "len": 54, "is_even": 0}, {"i": 480, "len": 23, "is_even": 1}, {"i": 481, "len": 49, "is_even": 0}, {"i": 482, "len": 23, "is_even": 1}, {"i": 483, "len": 23, "is_even": 0}, {"i": 484, "len": 98, "is_even": 1}, {"i": 485, "len": 98, "is_even": 0}, {"i": 486, "len": 98, "is_even": 1}, {"i": 487, "len": 142, "is_even": 0}, {"i": 488, "len": 23, "is_even": 1}, {"i": 489, "len": 49, "is_even": 0}, {"i": 490, "len": 23, "is_even": 1}, {"i": 491, "len": 142, "is_even": 0}, {"i": 492, "len": 49, "is_even": 1}, {"i": 493, "len": 49, "is_even": 0}, {"i": 494, "len": 49, "is_even": 1}, {"i": 495, "len": 98, "is_even": 0}, {"i": 496, "len": 111, "is_even": 1}, {"i": 497, "len": 23, "is_even": 0}, {"i": 498, "len": 49, "is_even": 1}, {"i": 499, "len": 49, "is_even": 0}, {"i": 500, "len": 111, "is_even": 1}, {"i": 501, "len": 111, "is_even": 0}, {"i": 502, "len": 67, "is_even": 1}, {"i": 503, "len": 67, "is_even": 0}, {"i": 504, "len": 111, "is_even": 1}, {"i": 505, "len": 62, "is_even": 0}, {"i": 506, "len": 111, "is_even": 1}, {"i": 507, "len": 36, "is_even": 0}, {"i": 508, "len": 49, "is_even": 1}, {"i": 509, "len": 49, "is_even": 0}, {"i": 510, "len": 49, "is_even": 1}, {"i": 511, "len": 62, "is_even": 0}, {"i": 512, "len": 10, "is_even": 1}, {"i": 513, "len": 36, "is_even": 0}, {"i": 514, "len": 124, "is_even": 1}, {"i": 515, "len": 124, "is_even": 0}, {"i": 516, "len": 124, "is_even": 1}, {"i": 517, "len": 124, "is_even": 0}, {"i": 518, "len": 124, "is_even": 1}, {"i": 519, "len": 62, "is_even": 0}, {"i": 520, "len": 31, "is_even": 1}, {"i": 521, "len": 124, "is_even": 0}, {"i": 522, "len": 31, "is_even": 1}, {"i": 523, "len": 124, "is_even": 0}, {"i": 524, "len": 31, "is_even": 1}, {"i": 525, "len": 31, "is_even": 0}, {"i": 526, "len": 80, "is_even": 1}, {"i": 527, "len": 80, "is_even": 0}, {"i": 528, "len": 31, "is_even": 1}, {"i": 529, "len": 31, "is_even": 0}, {"i": 530, "len": 124, "is_even": 1}, {"i": 531, "len": 124, "is_even": 0}, {"i": 532, "len": 31, "is_even": 1}, {"i": 533, "len": 31, "is_even": 0}, {"i": 534, "len": 23, "is_even": 1}, {"i": 535, "len": 23, "is_even": 0}, {"i": 536, "len": 31, "is_even": 1}, {"i": 537, "len": 23, "is_even": 0}, {"i": 538, "len": 31, "is_even": 1}, {"i": 539, "len": 49, "is_even": 0}, {"i": 540, "len": 44, "is_even": 1}, {"i": 541, "len": 44, "is_even": 0}, {"i": 542, "len": 44, "is_even": 1}, {"i": 543, "len": 137, "is_even": 0}, {"i": 544, "len": 18, "is_even": 1}, {"i": 545, "len": 44, "is_even": 0}, {"i": 546, "len": 31, "is_even": 1}, {"i": 547, "len": 31, "is_even": 0}, {"i": 548, "len": 93, "is_even": 1}, {"i": 549, "len": 93, "is_even": 0}, {"i": 550, "len": 93, "is_even": 1}, {"i": 551, "len": 44, "is_even": 0}, {"i": 552, "len": 18, "is_even": 1}, {"i": 553, "len": 137, "is_even": 0}, {"i": 554, "len": 18, "is_even": 1}, {"i": 555, "len": 31, "is_even": 0}, {"i": 556, "len": 44, "is_even": 1}, {"i": 557, "len": 44, "is_even": 0}, {"i": 558, "len": 44, "is_even": 1}, {"i": 559, "len": 88, "is_even": 0}, {"i": 560, "len": 18, "is_even": 1}, {"i": 561, "len": 44, "is_even": 0}, {"i": 562, "len": 44, "is_even": 1}, {"i": 563, "len": 44, "is_even": 0}, {"i": 564, "len": 18, "is_even": 1}, {"i": 565, "len": 18, "is_even": 0}, {"i": 566, "len": 62, "is_even": 1}, {"i": 567, "len": 62, "is_even": 0}, {"i": 568, "len": 106, "is_even": 1}, {"i": 569, "len": 57, "is_even": 0}, {"i": 570, "len": 106, "is_even": 1}, {"i": 571, "len": 31, "is_even": 0}, {"i": 572, "len": 106, "is_even": 1}, {"i": 573, "len": 106, "is_even": 0}, {"i": 574, "len": 44, "is_even": 1}, {"i": 575, "len": 44, "is_even": 0}, {"i": 576, "len": 26, "is_even": 1}, {"i": 577, "len": 31, "is_even": 0}, {"i": 578, "len": 31, "is_even": 1}, {"i": 579, "len": 31, "is_even": 0}, {"i": 580, "len": 119, "is_even": 1}, {"i": 581, "len": 119, "is_even": 0}, {"i": 582, "len": 119, "is_even": 1}, {"i": 583, "len": 31, "is_even": 0}, {"i": 584, "len": 119, "is_even": 1}, {"i": 585, "len": 57, "is_even": 0}, {"i": 586, "len": 119, "is_even": 1}, {"i": 587, "len": 119, "is_even": 0}, {"i": 588, "len": 119, "is_even": 1}, {"i": 589, "len": 119, "is_even": 0}, {"i": 590, "len": 57, "is_even": 1}, {"i": 591, "len": 57, "is_even": 0}, {"i": 592, "len": 26, "is_even": 1}, {"i": 593, "len": 75, "is_even": 0}, {"i": 594, "len": 75, "is_even": 1}, {"i": 595, "len": 75, "is_even": 0}, {"i": 596, "len": 26, "is_even": 1}, {"i": 597, "len": 26, "is_even": 0}, {"i": 598, "len": 119, "is_even": 1}, {"i": 599, "len": 119, "is_even": 0}, {"i": 600, "len": 18, "is_even": 1}, {"i": 601, "len": 57, "is_even": 0}, {"i": 602, "len": 18, "is_even": 1}, {"i": 603, "len": 70, "is_even": 0}, {"i": 604, "len": 18, "is_even": 1}, {"i": 605, "len": 18, "is_even": 0}, {"i": 606, "len": 44, "is_even": 1}, {"i": 607, "len": 44, "is_even": 0}, {"i": 608, "len": 26, "is_even": 1}, {"i": 609, "len": 132, "is_even": 0}, {"i": 610, "len": 39, "is_even": 1}, {"i": 611, "len": 39, "is_even": 0}, {"i": 612, "len": 39, "is_even": 1}, {"i": 613, "len": 39, "is_even": 0}, {"i": 614, "len": 39, "is_even": 1}, {"i": 615, "len": 70, "is_even": 0}, {"i": 616, "len": 26, "is_even": 1}, {"i": 617, "len": 132, "is_even": 0}, {"i": 618, "len": 26, "is_even": 1}, {"i": 619, "len": 132, "is_even": 0}, {"i": 620, "len": 88, "is_even": 1}, {"i": 621, "len": 88, "is_even": 0}, {"i": 622, "len": 88, "is_even": 1}, {"i": 623, "len": 132, "is_even": 0}, {"i": 624, "len": 39, "is_even": 1}, {"i": 625, "len": 26, "is_even": 0}, {"i": 626, "len": 132, "is_even": 1}, {"i": 627, "len": 132, "is_even": 0}, {"i": 628, "len": 39, "is_even": 1}, {"i": 629, "len": 39, "is_even": 0}, {"i": 630, "len": 39, "is_even": 1}, {"i": 631, "len": 39, "is_even": 0}, {"i": 632, "len": 39, "is_even": 1}, {"i": 633, "len": 31, "is_even": 0}, {"i": 634, "len": 39, "is_even": 1}, {"i": 635, "len": 31, "is_even": 0}, {"i": 636, "len": 57, "is_even": 1}, {"i": 637, "len": 57, "is_even": 0}, {"i": 638, "len": 57, "is_even": 1}, {"i": 639, "len": 132, "is_even": 0}, {"i": 640, "len": 13, "is_even": 1}, {"i": 641, "len": 52, "is_even": 0}, {"i": 642, "len": 26, "is_even": 1}, {"i": 643, "len": 26, "is_even": 0}, {"i": 644, "len": 101, "is_even": 1}, {"i": 645, "len": 101, "is_even": 0}, {"i": 646, "len": 101, "is_even": 1}, {"i": 647, "len": 39, "is_even": 0}, {"i": 648, "len": 26, "is_even": 1}, {"i": 649, "len": 145, "is_even": 0}, {"i": 650, "len": 26, "is_even": 1}, {"i": 651, "len": 101, "is_even": 0}, {"i": 652, "len": 26, "is_even": 1}, {"i": 653, "len": 26, "is_even": 0}, {"i": 654, "len": 145, "is_even": 1}, {"i": 655, "len": 145, "is_even": 0}, {"i": 656, "len": 114, "is_even": 1}, {"i": 657, "len": 52, "is_even": 0}, {"i": 658, "len": 52, "is_even": 1}, {"i": 659, "len": 52, "is_even": 0}, {"i": 660, "len": 114, "is_even": 1}, {"i": 661, "len": 114, "is_even": 0}, {"i": 662, "len": 26, "is_even": 1}, {"i": 663, "len": 26, "is_even": 0}, {"i": 664, "len": 114, "is_even": 1}, {"i": 665, "len": 52, "is_even": 0}, {"i": 666, "len": 114, "is_even": 1}, {"i": 667, "len": 145, "is_even": 0}, {"i": 668, "len": 70, "is_even": 1}, {"i": 669, "len": 70, "is_even": 0}, {"i": 670, "len": 70, "is_even": 1}, {"i": 671, "len": 96, "is_even": 0}, {"i": 672, "len": 13, "is_even": 1}, {"i": 673, "len": 65, "is_even": 0}, {"i": 674, "len": 114, "is_even": 1}, {"i": 675, "len": 114, "is_even": 0}, {"i": 676, "len": 52, "is_even": 1}, {"i": 677, "len": 52, "is_even": 0}, {"i": 678, "len": 52, "is_even": 1}, {"i": 679, "len": 65, "is_even": 0}, {"i": 680, "len": 13, "is_even": 1}, {"i": 681, "len": 65, "is_even": 0}, {"i": 682, "len": 13, "is_even": 1}, {"i": 683, "len": 39, "is_even": 0}, {"i": 684, "len": 127, "is_even": 1}, {"i": 685, "len": 127, "is_even": 0}, {"i": 686, "len": 127, "is_even": 1}, {"i": 687, "len": 39, "is_even": 0}, {"i": 688, "len": 34, "is_even": 1}, {"i": 689, "len": 127, "is_even": 0}, {"i": 690, "len": 127, "is_even": 1}, {"i": 691, "len": 127, "is_even": 0}, {"i": 692, "len": 34, "is_even": 1}, {"i": 693, "len": 34, "is_even": 0}, {"i": 694, "len": 127, "is_even": 1}, {"i": 695, "len": 127, "is_even": 0}, {"i": 696, "len": 34, "is_even": 1}, {"i": 697, "len": 127, "is_even": 0}, {"i": 698, "len": 34, "is_even": 1}, {"i": 699, "len": 65, "is_even": 0}, {"i": 700, "len": 83, "is_even": 1}, {"i": 701, "len": 83, "is_even": 0}, {"i": 702, "len": 83, "is_even": 1}, {"i": 703, "len": 171, "is_even": 0}, {"i": 704, "len": 21, "is_even": 1}, {"i": 705, "len": 34, "is_even": 0}, {"i": 706, "len": 127, "is_even": 1}, {"i": 707, "len": 127, "is_even": 0}, {"i": 708, "len": 34, "is_even": 1}, {"i": 709, "len": 34, "is_even": 0}, {"i": 710, "len": 34, "is_even": 1}, {"i": 711, "len": 65, "is_even": 0}, {"i": 712, "len": 34, "is_even": 1}, {"i": 713, "len": 26, "is_even": 0}, {"i": 714, "len": 34, "is_even": 1}, {"i": 715, "len": 26, "is_even": 0}, {"i": 716, "len": 34, "is_even": 1}, {"i": 717, "len": 34, "is_even": 0}, {"i": 718, "len": 52, "is_even": 1}, {"i": 719, "len": 52, "is_even": 0}, {"i": 720, "len": 21, "is_even": 1}, {"i": 721, "len": 47, "is_even": 0}, {"i": 722, "len": 47, "is_even": 1}, {"i": 723, "len": 47, "is_even": 0}, {"i": 724, "len": 21, "is_even": 1}, {"i": 725, "len": 21, "is_even": 0}, {"i": 726, "len": 47, "is_even": 1}, {"i": 727, "len": 47, "is_even": 0}, {"i": 728, "len": 96, "is_even": 1}, {"i": 729, "len": 34, "is_even": 0}, {"i": 730, "len": 96, "is_even": 1}, {"i": 731, "len": 140, "is_even": 0}, {"i": 732, "len": 96, "is_even": 1}, {"i": 733, "len": 96, "is_even": 0}, {"i": 734, "len": 47, "is_even": 1}, {"i": 735, "len": 47, "is_even": 0}, {"i": 736, "len": 21, "is_even": 1}, {"i": 737, "len": 140, "is_even": 0}, {"i": 738, "len": 21, "is_even": 1}, {"i": 739, "len": 21, "is_even": 0}, {"i": 740, "len": 47, "is_even": 1}, {"i": 741, "len": 47, "is_even": 0}, {"i": 742, "len": 47, "is_even": 1}, {"i": 743, "len": 96, "is_even": 0}, {"i": 744, "len": 21, "is_even": 1}, {"i": 745, "len": 91, "is_even": 0}, {"i": 746, "len": 21, "is_even": 1}, {"i": 747, "len": 47, "is_even": 0}, {"i": 748, "len": 47, "is_even": 1}, {"i": 749, "len": 47, "is_even": 0}, {"i": 750, "len": 47, "is_even": 1}, {"i": 751, "len": 140, "is_even": 0}, {"i": 752, "len": 109, "is_even": 1}, {"i": 753, "len": 21, "is_even": 0}, {"i": 754, "len": 65, "is_even": 1}, {"i": 755, "len": 65, "is_even": 0}, {"i": 756, "len": 109, "is_even": 1}, {"i": 757, "len": 109, "is_even": 0}, {"i": 758, "len": 60, "is_even": 1}, {"i": 759, "len": 60, "is_even": 0}, {"i": 760, "len": 109, "is_even": 1}, {"i": 761, "len": 34, "is_even": 0}, {"i": 762, "len": 109, "is_even": 1}, {"i": 763, "len": 153, "is_even": 0}, {"i": 764, "len": 47, "is_even": 1}, {"i": 765, "len": 47, "is_even": 0}, {"i": 766, "len": 47, "is_even": 1}, {"i": 767, "len": 60, "is_even": 0}, {"i": 768, "len": 16, "is_even": 1}, {"i": 769, "len": 34, "is_even": 0}, {"i": 770, "len": 34, "is_even": 1}, {"i": 771, "len": 34, "is_even": 0}, {"i": 772, "len": 122, "is_even": 1}, {"i": 773, "len": 122, "is_even": 0}, {"i": 774, "len": 122, "is_even": 1}, {"i": 775, "len": 153, "is_even": 0}, {"i": 776, "len": 122, "is_even": 1}, {"i": 777, "len": 34, "is_even": 0}, {"i": 778, "len": 122, "is_even": 1}, {"i": 779, "len": 60, "is_even": 0}, {"i": 780, "len": 122, "is_even": 1}, {"i": 781, "len": 122, "is_even": 0}, {"i": 782, "len": 122, "is_even": 1}, {"i": 783, "len": 122, "is_even": 0}, {"i": 784, "len": 29, "is_even": 1}, {"i": 785, "len": 122, "is_even": 0}, {"i": 786, "len": 60, "is_even": 1}, {"i": 787, "len": 60, "is_even": 0}, {"i": 788, "len": 29, "is_even": 1}, {"i": 789, "len": 29, "is_even": 0}, {"i": 790, "len": 78, "is_even": 1}, {"i": 791, "len": 78, "is_even": 0}, {"i": 792, "len": 29, "is_even": 1}, {"i": 793, "len": 78, "is_even": 0}, {"i": 794, "len": 29, "is_even": 1}, {"i": 795, "len": 104, "is_even": 0}, {"i": 796, "len": 122, "is_even": 1}, {"i": 797, "len": 122, "is_even": 0}, {"i": 798, "len": 122, "is_even": 1}, {"i": 799, "len": 73, "is_even": 0}, {"i": 800, "len": 29, "is_even": 1}, {"i": 801, "len": 60, "is_even": 0}, {"i": 802, "len": 21, "is_even": 1}, {"i": 803, "len": 21, "is_even": 0}, {"i": 804, "len": 21, "is_even": 1}, {"i": 805, "len": 21, "is_even": 0}, {"i": 806, "len": 21, "is_even": 1}, {"i": 807, "len": 73, "is_even": 0}, {"i": 808, "len": 29, "is_even": 1}, {"i": 809, "len": 47, "is_even": 0}, {"i": 810, "len": 29, "is_even": 1}, {"i": 811, "len": 135, "is_even": 0}, {"i": 812, "len": 42, "is_even": 1}, {"i": 813, "len": 42, "is_even": 0}, {"i": 814, "len": 42, "is_even": 1}, {"i": 815, "len": 135, "is_even": 0}, {"i": 816, "len": 29, "is_even": 1}, {"i": 817, "len": 42, "is_even": 0}, {"i": 818, "len": 42, "is_even": 1}, {"i": 819, "len": 42, "is_even": 0}, {"i": 820, "len": 29, "is_even": 1}, {"i": 821, "len": 29, "is_even": 0}, {"i": 822, "len": 135, "is_even": 1}, {"i": 823, "len": 135, "is_even": 0}, {"i": 824, "len": 91, "is_even": 1}, {"i": 825, "len": 135, "is_even": 0}, {"i": 826, "len": 91, "is_even": 1}, {"i": 827, "len": 42, "is_even": 0}, {"i": 828, "len": 91, "is_even": 1}, {"i": 829, "len": 91, "is_even": 0}, {"i": 830, "len": 135, "is_even": 1}, {"i": 831, "len": 135, "is_even": 0}, {"i": 832, "len": 16, "is_even": 1}, {"i": 833, "len": 29, "is_even": 0}, {"i": 834, "len": 135, "is_even": 1}, {"i": 835, "len": 135, "is_even": 0}, {"i": 836, "len": 42, "is_even": 1}, {"i": 837, "len": 42, "is_even": 0}, {"i": 838, "len": 42, "is_even": 1}, {"i": 839, "len": 86, "is_even": 0}, {"i": 840, "len": 42, "is_even": 1}, {"i": 841, "len": 42, "is_even": 0}, {"i": 842, "len": 42, "is_even": 1}, {"i": 843, "len": 42, "is_even": 0}, {"i": 844, "len": 42, "is_even": 1}, {"i": 845, "len": 42, "is_even": 0}, {"i": 846, "len": 34, "is_even": 1}, {"i": 847, "len": 34, "is_even": 0}, {"i": 848, "len": 16, "is_even": 1}, {"i": 849, "len": 60, "is_even": 0}, {"i": 850, "len": 60, "is_even": 1}, {"i": 851, "len": 60, "is_even": 0}, {"i": 852, "len": 16, "is_even": 1}, {"i": 853, "len": 16, "is_even": 0}, {"i": 854, "len": 55, "is_even": 1}, {"i": 855, "len": 55, "is_even": 0}, {"i": 856, "len": 104, "is_even": 1}, {"i": 857, "len": 29, "is_even": 0}, {"i": 858, "len": 104, "is_even": 1}, {"i": 859, "len": 148, "is_even": 0}, {"i": 860, "len": 104, "is_even": 1}, {"i": 861, "len": 104, "is_even": 0}, {"i": 862, "len": 42, "is_even": 1}, {"i": 863, "len": 42, "is_even": 0}, {"i": 864, "len": 117, "is_even": 1}, {"i": 865, "len": 148, "is_even": 0}, {"i": 866, "len": 29, "is_even": 1}, {"i": 867, "len": 29, "is_even": 0}, {"i": 868, "len": 29, "is_even": 1}, {"i": 869, "len": 29, "is_even": 0}, {"i": 870, "len": 29, "is_even": 1}, {"i": 871, "len": 179, "is_even": 0}, {"i": 872, "len": 117, "is_even": 1}, {"i": 873, "len": 148, "is_even": 0}, {"i": 874, "len": 117, "is_even": 1}, {"i": 875, "len": 29, "is_even": 0}, {"i": 876, "len": 55, "is_even": 1}, {"i": 877, "len": 55, "is_even": 0}, {"i": 878, "len": 55, "is_even": 1}, {"i": 879, "len": 148, "is_even": 0}, {"i": 880, "len": 117, "is_even": 1}, {"i": 881, "len": 117, "is_even": 0}, {"i": 882, "len": 29, "is_even": 1}, {"i": 883, "len": 29, "is_even": 0}, {"i": 884, "len": 117, "is_even": 1}, {"i": 885, "len": 117, "is_even": 0}, {"i": 886, "len": 55, "is_even": 1}, {"i": 887, "len": 55, "is_even": 0}, {"i": 888, "len": 73, "is_even": 1}, {"i": 889, "len": 148, "is_even": 0}, {"i": 890, "len": 73, "is_even": 1}, {"i": 891, "len": 47, "is_even": 0}, {"i": 892, "len": 73, "is_even": 1}, {"i": 893, "len": 73, "is_even": 0}, {"i": 894, "len": 99, "is_even": 1}, {"i": 895, "len": 99, "is_even": 0}, {"i": 896, "len": 24, "is_even": 1}, {"i": 897, "len": 68, "is_even": 0}, {"i": 898, "len": 117, "is_even": 1}, {"i": 899, "len": 117, "is_even": 0}, {"i": 900, "len": 55, "is_even": 1}, {"i": 901, "len": 55, "is_even": 0}, {"i": 902, "len": 55, "is_even": 1}, {"i": 903, "len": 117, "is_even": 0}, {"i": 904, "len": 16, "is_even": 1}, {"i": 905, "len": 68, "is_even": 0}, {"i": 906, "len": 16, "is_even": 1}, {"i": 907, "len": 55, "is_even": 0}, {"i": 908, "len": 16, "is_even": 1}, {"i": 909, "len": 16, "is_even": 0}, {"i": 910, "len": 42, "is_even": 1}, {"i": 911, "len": 42, "is_even": 0}, {"i": 912, "len": 37, "is_even": 1}, {"i": 913, "len": 130, "is_even": 0}, {"i": 914, "len": 130, "is_even": 1}, {"i": 915, "len": 130, "is_even": 0}, {"i": 916, "len": 37, "is_even": 1}, {"i": 917, "len": 37, "is_even": 0}, {"i": 918, "len": 130, "is_even": 1}, {"i": 919, "len": 130, "is_even": 0}, {"i": 920, "len": 37, "is_even": 1}, {"i": 921, "len": 130, "is_even": 0}, {"i": 922, "len": 37, "is_even": 1}, {"i": 923, "len": 68, "is_even": 0}, {"i": 924, "len": 130, "is_even": 1}, {"i": 925, "len": 130, "is_even": 0}, {"i": 926, "len": 130, "is_even": 1}, {"i": 927, "len": 117, "is_even": 0}, {"i": 928, "len": 24, "is_even": 1}, {"i": 929, "len": 130, "is_even": 0}, {"i": 930, "len": 37, "is_even": 1}, {"i": 931, "len": 37, "is_even": 0}, {"i": 932, "len": 86, "is_even": 1}, {"i": 933, "len": 86, "is_even": 0}, {"i": 934, "len": 86, "is_even": 1}, {"i": 935, "len": 130, "is_even": 0}, {"i": 936, "len": 24, "is_even": 1}, {"i": 937, "len": 174, "is_even": 0}, {"i": 938, "len": 24, "is_even": 1}, {"i": 939, "len": 86, "is_even": 0}, {"i": 940, "len": 130, "is_even": 1}, {"i": 941, "len": 130, "is_even": 0}, {"i": 942, "len": 130, "is_even": 1}, {"i": 943, "len": 37, "is_even": 0}, {"i": 944, "len": 37, "is_even": 1}, {"i": 945, "len": 37, "is_even": 0}, {"i": 946, "len": 37, "is_even": 1}, {"i": 947, "len": 37, "is_even": 0}, {"i": 948, "len": 37, "is_even": 1}, {"i": 949, "len": 37, "is_even": 0}, {"i": 950, "len": 29, "is_even": 1}, {"i": 951, "len": 29, "is_even": 0}, {"i": 952, "len": 37, "is_even": 1}, {"i": 953, "len": 29, "is_even": 0}, {"i": 954, "len": 37, "is_even": 1}, {"i": 955, "len": 29, "is_even": 0}, {"i": 956, "len": 55, "is_even": 1}, {"i": 957, "len": 55, "is_even": 0}, {"i": 958, "len": 55, "is_even": 1}, {"i": 959, "len": 130, "is_even": 0}, {"i": 960, "len": 24, "is_even": 1}, {"i": 961, "len": 50, "is_even": 0}, {"i": 962, "len": 50, "is_even": 1}, {"i": 963, "len": 50, "is_even": 0}, {"i": 964, "len": 24, "is_even": 1}, {"i": 965, "len": 24, "is_even": 0}, {"i": 966, "len": 24, "is_even": 1}, {"i": 967, "len": 143, "is_even": 0}, {"i": 968, "len": 99, "is_even": 1}, {"i": 969, "len": 50, "is_even": 0}, {"i": 970, "len": 99, "is_even": 1}, {"i": 971, "len": 37, "is_even": 0}, {"i": 972, "len": 99, "is_even": 1}, {"i": 973, "len": 99, "is_even": 0}, {"i": 974, "len": 143, "is_even": 1}, {"i": 975, "len": 143, "is_even": 0}, {"i": 976, "len": 24, "is_even": 1}, {"i": 977, "len": 99, "is_even": 0}, {"i": 978, "len": 50, "is_even": 1}, {"i": 979, "len": 50, "is_even": 0}, {"i": 980, "len": 24, "is_even": 1}, {"i": 981, "len": 24, "is_even": 0}, {"i": 982, "len": 143, "is_even": 1}, {"i": 983, "len": 143, "is_even": 0}, {"i": 984, "len": 50, "is_even": 1}, {"i": 985, "len": 24, "is_even": 0}, {"i": 986, "len": 50, "is_even": 1}, {"i": 987, "len": 37, "is_even": 0}, {"i": 988, "len": 50, "is_even": 1}, {"i": 989, "len": 50, "is_even": 0}, {"i": 990, "len": 99, "is_even": 1}, {"i": 991, "len": 99, "is_even": 0}, {"i": 992, "len": 112, "is_even": 1}, {"i": 993, "len": 94, "is_even": 0}, {"i": 994, "len": 24, "is_even": 1}, {"i": 995, "len": 24, "is_even": 0}, {"i": 996, "len": 50, "is_even": 1}, {"i": 997, "len": 50, "is_even": 0}, {"i": 998, "len": 50, "is_even": 1}, {"i": 999, "len": 50, "is_even": 0}, {"i": 1000, "len": 112, "is_even": 1}, {"i": 1001, "len": 143, "is_even": 0}, {"i": 1002, "len": 112, "is_even": 1}, {"i": 1003, "len": 42, "is_even": 0}, {"i": 1004, "len": 68, "is_even": 1}, {"i": 1005, "len": 68, "is_even": 0}, {"i": 1006, "len": 68, "is_even": 1}, {"i": 1007, "len": 94, "is_even": 0}, {"i": 1008, "len": 112, "is_even": 1}, {"i": 1009, "len": 112, "is_even": 0}, {"i": 1010, "len": 63, "is_even": 1}, {"i": 1011, "len": 63, "is_even": 0}, {"i": 1012, "len": 112, "is_even": 1}, {"i": 1013, "len": 112, "is_even": 0}, {"i": 1014, "len": 37, "is_even": 1}, {"i": 1015, "len": 37, "is_even": 0}, {"i": 1016, "len": 50, "is_even": 1}, {"i": 1017, "len": 156, "is_even": 0}, {"i": 1018, "len": 50, "is_even": 1}, {"i": 1019, "len": 63, "is_even": 0}, {"i": 1020, "len": 50, "is_even": 1}, {"i": 1021, "len": 50, "is_even": 0}, {"i": 1022, "len": 63, "is_even": 1}, {"i": 1023, "len": 63, "is_even": 0}, {"i": 1024, "len": 11, "is_even": 1}, {"i": 1025, "len": 37, "is_even": 0}, {"i": 1026, "len": 37, "is_even": 1}, {"i": 1027, "len": 37, "is_even": 0}, {"i": 1028, "len": 125, "is_even": 1}, {"i": 1029, "len": 125, "is_even": 0}, {"i": 1030, "len": 125, "is_even": 1}, {"i": 1031, "len": 37, "is_even": 0}, {"i": 1032, "len": 125, "is_even": 1}, {"i": 1033, "len": 156, "is_even": 0}, {"i": 1034, "len": 125, "is_even": 1}, {"i": 1035, "len": 125, "is_even": 0}, {"i": 1036, "len": 125, "is_even": 1}, {"i": 1037, "len": 125, "is_even": 0}, {"i": 1038, "len": 63, "is_even": 1}, {"i": 1039, "len": 63, "is_even": 0}, {"i": 1040, "len": 32, "is_even": 1}, {"i": 1041, "len": 125, "is_even": 0}, {"i": 1042, "len": 125, "is_even": 1}, {"i": 1043, "len": 125, "is_even": 0}, {"i": 1044, "len": 32, "is_even": 1}, {"i": 1045, "len": 32, "is_even": 0}, {"i": 1046, "len": 125, "is_even": 1}, {"i": 1047, "len": 125, "is_even": 0}, {"i": 1048, "len": 32, "is_even": 1}, {"i": 1049, "len": 63, "is_even": 0}, {"i": 1050, "len": 32, "is_even": 1}, {"i": 1051, "len": 94, "is_even": 0}, {"i": 1052, "len": 81, "is_even": 1}, {"i": 1053, "len": 81, "is_even": 0}, {"i": 1054, "len": 81, "is_even": 1}, {"i": 1055, "len": 169, "is_even": 0}, {"i": 1056, "len": 32, "is_even": 1}, {"i": 1057, "len": 81, "is_even": 0}, {"i": 1058, "len": 32, "is_even": 1}, {"i": 1059, "len": 32, "is_even": 0}, {"i": 1060, "len": 125, "is_even": 1}, {"i": 1061, "len": 125, "is_even": 0}, {"i": 1062, "len": 125, "is_even": 1}, {"i": 1063, "len": 76, "is_even": 0}, {"i": 1064, "len": 32, "is_even": 1}, {"i": 1065, "len": 76, "is_even": 0}, {"i": 1066, "len": 32, "is_even": 1}, {"i": 1067, "len": 63, "is_even": 0}, {"i": 1068, "len": 24, "is_even": 1}, {"i": 1069, "len": 24, "is_even": 0}, {"i": 1070, "len": 24, "is_even": 1}, {"i": 1071, "len": 169, "is_even": 0}, {"i": 1072, "len": 32, "is_even": 1}, {"i": 1073, "len": 24, "is_even": 0}, {"i": 1074, "len": 24, "is_even": 1}, {"i": 1075, "len": 24, "is_even": 0}, {"i": 1076, "len": 32, "is_even": 1}, {"i": 1077, "len": 32, "is_even": 0}, {"i": 1078, "len": 50, "is_even": 1}, {"i": 1079, "len": 50, "is_even": 0}, {"i": 1080, "len": 45, "is_even": 1}, {"i": 1081, "len": 138, "is_even": 0}, {"i": 1082, "len": 45, "is_even": 1}, {"i": 1083, "len": 138, "is_even": 0}, {"i": 1084, "len": 45, "is_even": 1}, {"i": 1085, "len": 45, "is_even": 0}, {"i": 1086, "len": 138, "is_even": 1}, {"i": 1087, "len": 138, "is_even": 0}, {"i": 1088, "len": 19, "is_even": 1}, {"i": 1089, "len": 45, "is_even": 0}, {"i": 1090, "len": 45, "is_even": 1}, {"i": 1091, "len": 45, "is_even": 0}, {"i": 1092, "len": 32, "is_even": 1}, {"i": 1093, "len": 32, "is_even": 0}, {"i": 1094, "len": 32, "is_even": 1}, {"i": 1095, "len": 76, "is_even": 0}, {"i": 1096, "len": 94, "is_even": 1}, {"i": 1097, "len": 138, "is_even": 0}, {"i": 1098, "len": 94, "is_even": 1}, {"i": 1099, "len": 32, "is_even": 0}, {"i": 1100, "len": 94, "is_even": 1}, {"i": 1101, "len": 94, "is_even": 0}, {"i": 1102, "len": 45, "is_even": 1}, {"i": 1103, "len": 45, "is_even": 0}, {"i": 1104, "len": 19, "is_even": 1}, {"i": 1105, "len": 94, "is_even": 0}, {"i": 1106, "len": 138, "is_even": 1}, {"i": 1107, "len": 138, "is_even": 0}, {"i": 1108, "len": 19, "is_even": 1}, {"i": 1109, "len": 19, "is_even": 0}, {"i": 1110, "len": 32, "is_even": 1}, {"i": 1111, "len": 32, "is_even": 0}, {"i": 1112, "len": 45, "is_even": 1}, {"i": 1113, "len": 138, "is_even": 0}, {"i": 1114, "len": 45, "is_even": 1}, {"i": 1115, "len": 94, "is_even": 0}, {"i": 1116, "len": 45, "is_even": 1}, {"i": 1117, "len": 45, "is_even": 0}, {"i": 1118, "len": 89, "is_even": 1}, {"i": 1119, "len": 89, "is_even": 0}, {"i": 1120, "len": 19, "is_even": 1}, {"i": 1121, "len": 45, "is_even": 0}, {"i": 1122, "len": 45, "is_even": 1}, {"i": 1123, "len": 45, "is_even": 0}, {"i": 1124, "len": 45, "is_even": 1}, {"i": 1125, "len": 45, "is_even": 0}, {"i": 1126, "len": 45, "is_even": 1}, {"i": 1127, "len": 138, "is_even": 0}, {"i": 1128, "len": 19, "is_even": 1}, {"i": 1129, "len": 37, "is_even": 0}, {"i": 1130, "len": 19, "is_even": 1}, {"i": 1131, "len": 37, "is_even": 0}, {"i": 1132, "len": 63, "is_even": 1}, {"i": 1133, "len": 63, "is_even": 0}, {"i": 1134, "len": 63, "is_even": 1}, {"i": 1135, "len": 63, "is_even": 0}, {"i": 1136, "len": 107, "is_even": 1}, {"i": 1137, "len": 19, "is_even": 0}, {"i": 1138, "len": 58, "is_even": 1}, {"i": 1139, "len": 58, "is_even": 0}, {"i": 1140, "len": 107, "is_even": 1}, {"i": 1141, "len": 107, "is_even": 0}, {"i": 1142, "len": 32, "is_even": 1}, {"i": 1143, "len": 32, "is_even": 0}, {"i": 1144, "len": 107, "is_even": 1}, {"i": 1145, "len": 151, "is_even": 0}, {"i": 1146, "len": 107, "is_even": 1}, {"i": 1147, "len": 58, "is_even": 0}, {"i": 1148, "len": 45, "is_even": 1}, {"i": 1149, "len": 45, "is_even": 0}, {"i": 1150, "len": 45, "is_even": 1}, {"i": 1151, "len": 58, "is_even": 0}, {"i": 1152, "len": 27, "is_even": 1}, {"i": 1153, "len": 151, "is_even": 0}, {"i": 1154, "len": 32, "is_even": 1}, {"i": 1155, "len": 32, "is_even": 0}, {"i": 1156, "len": 32, "is_even": 1}, {"i": 1157, "len": 32, "is_even": 0}, {"i": 1158, "len": 32, "is_even": 1}, {"i": 1159, "len": 58, "is_even": 0}, {"i": 1160, "len": 120, "is_even": 1}, {"i": 1161, "len": 182, "is_even": 0}, {"i": 1162, "len": 120, "is_even": 1}, {"i": 1163, "len": 151, "is_even": 0}, {"i": 1164, "len": 120, "is_even": 1}, {"i": 1165, "len": 120, "is_even": 0}, {"i": 1166, "len": 32, "is_even": 1}, {"i": 1167, "len": 32, "is_even": 0}, {"i": 1168, "len": 120, "is_even": 1}, {"i": 1169, "len": 58, "is_even": 0}, {"i": 1170, "len": 58, "is_even": 1}, {"i": 1171, "len": 58, "is_even": 0}, {"i": 1172, "len": 120, "is_even": 1}, {"i": 1173, "len": 120, "is_even": 0}, {"i": 1174, "len": 120, "is_even": 1}, {"i": 1175, "len": 120, "is_even": 0}, {"i": 1176, "len": 120, "is_even": 1}, {"i": 1177, "len": 32, "is_even": 0}, {"i": 1178, "len": 120, "is_even": 1}, {"i": 1179, "len": 58, "is_even": 0}, {"i": 1180, "len": 58, "is_even": 1}, {"i": 1181, "len": 58, "is_even": 0}, {"i": 1182, "len": 58, "is_even": 1}, {"i": 1183, "len": 89, "is_even": 0}, {"i": 1184, "len": 27, "is_even": 1}, {"i": 1185, "len": 151, "is_even": 0}, {"i": 1186, "len": 76, "is_even": 1}, {"i": 1187, "len": 76, "is_even": 0}, {"i": 1188, "len": 76, "is_even": 1}, {"i": 1189, "len": 76, "is_even": 0}, {"i": 1190, "len": 76, "is_even": 1}, {"i": 1191, "len": 50, "is_even": 0}, {"i": 1192, "len": 27, "is_even": 1}, {"i": 1193, "len": 102, "is_even": 0}, {"i": 1194, "len": 27, "is_even": 1}, {"i": 1195, "len": 120, "is_even": 0}, {"i": 1196, "len": 120, "is_even": 1}, {"i": 1197, "len": 120, "is_even": 0}, {"i": 1198, "len": 120, "is_even": 1}, {"i": 1199, "len": 71, "is_even": 0}, {"i": 1200, "len": 19, "is_even": 1}, {"i": 1201, "len": 58, "is_even": 0}, {"i": 1202, "len": 58, "is_even": 1}, {"i": 1203, "len": 58, "is_even": 0}, {"i": 1204, "len": 19, "is_even": 1}, {"i": 1205, "len": 19, "is_even": 0}, {"i": 1206, "len": 71, "is_even": 1}, {"i": 1207, "len": 71, "is_even": 0}, {"i": 1208, "len": 19, "is_even": 1}, {"i": 1209, "len": 58, "is_even": 0}, {"i": 1210, "len": 19, "is_even": 1}, {"i": 1211, "len": 71, "is_even": 0}, {"i": 1212, "len": 45, "is_even": 1}, {"i": 1213, "len": 45, "is_even": 0}, {"i": 1214, "len": 45, "is_even": 1}, {"i": 1215, "len": 164, "is_even": 0}, {"i": 1216, "len": 27, "is_even": 1}, {"i": 1217, "len": 133, "is_even": 0}, {"i": 1218, "len": 133, "is_even": 1}, {"i": 1219, "len": 133, "is_even": 0}, {"i": 1220, "len": 40, "is_even": 1}, {"i": 1221, "len": 40, "is_even": 0}, {"i": 1222, "len": 40, "is_even": 1}, {"i": 1223, "len": 133, "is_even": 0}, {"i": 1224, "len": 40, "is_even": 1}, {"i": 1225, "len": 133, "is_even": 0}, {"i": 1226, "len": 40, "is_even": 1}, {"i": 1227, "len": 133, "is_even": 0}, {"i": 1228, "len": 40, "is_even": 1}, {"i": 1229, "len": 40, "is_even": 0}, {"i": 1230, "len": 71, "is_even": 1}, {"i": 1231, "len": 71, "is_even": 0}, {"i": 1232, "len": 27, "is_even": 1}, {"i": 1233, "len": 133, "is_even": 0}, {"i": 1234, "len": 133, "is_even": 1}, {"i": 1235, "len": 133, "is_even": 0}, {"i": 1236, "len": 27, "is_even": 1}, {"i": 1237, "len": 27, "is_even": 0}, {"i": 1238, "len": 133, "is_even": 1}, {"i": 1239, "len": 133, "is_even": 0}, {"i": 1240, "len": 89, "is_even": 1}, {"i": 1241, "len": 40, "is_even": 0}, {"i": 1242, "len": 89, "is_even": 1}, {"i": 1243, "len": 71, "is_even": 0}, {"i": 1244, "len": 89, "is_even": 1}, {"i": 1245, "len": 89, "is_even": 0}, {"i": 1246, "len": 133, "is_even": 1}, {"i": 1247, "len": 133, "is_even": 0}, {"i": 1248, "len": 40, "is_even": 1}, {"i": 1249, "len": 177, "is_even": 0}, {"i": 1250, "len": 27, "is_even": 1}, {"i": 1251, "len": 27, "is_even": 0}, {"i": 1252, "len": 133, "is_even": 1}, {"i": 1253, "len": 133, "is_even": 0}, {"i": 1254, "len": 133, "is_even": 1}, {"i": 1255, "len": 89, "is_even": 0}, {"i": 1256, "len": 40, "is_even": 1}, {"i": 1257, "len": 40, "is_even": 0}, {"i": 1258, "len": 40, "is_even": 1}, {"i": 1259, "len": 84, "is_even": 0}, {"i": 1260, "len": 40, "is_even": 1}, {"i": 1261, "len": 40, "is_even": 0}, {"i": 1262, "len": 40, "is_even": 1}, {"i": 1263, "len": 177, "is_even": 0}, {"i": 1264, "len": 40, "is_even": 1}, {"i": 1265, "len": 40, "is_even": 0}, {"i": 1266, "len": 32, "is_even": 1}, {"i": 1267, "len": 32, "is_even": 0}, {"i": 1268, "len": 40, "is_even": 1}, {"i": 1269, "len": 40, "is_even": 0}, {"i": 1270, "len": 32, "is_even": 1}, {"i": 1271, "len": 32, "is_even": 0}, {"i": 1272, "len": 58, "is_even": 1}, {"i": 1273, "len": 32, "is_even": 0}, {"i": 1274, "len": 58, "is_even": 1}, {"i": 1275, "len": 84, "is_even": 0}, {"i": 1276, "len": 58, "is_even": 1}, {"i": 1277, "len": 58, "is_even": 0}, {"i": 1278, "len": 133, "is_even": 1}, {"i": 1279, "len": 133, "is_even": 0}, {"i": 1280, "len": 14, "is_even": 1}, {"i": 1281, "len": 53, "is_even": 0}, {"i": 1282, "len": 53, "is_even": 1}, {"i": 1283, "len": 53, "is_even": 0}, {"i": 1284, "len": 27, "is_even": 1}, {"i": 1285, "len": 27, "is_even": 0}, {"i": 1286, "len": 27, "is_even": 1}, {"i": 1287, "len": 146, "is_even": 0}, {"i": 1288, "len": 102, "is_even": 1}, {"i": 1289, "len": 146, "is_even": 0}, {"i": 1290, "len": 102, "is_even": 1}, {"i": 1291, "len": 53, "is_even": 0}, {"i": 1292, "len": 102, "is_even": 1}, {"i": 1293, "len": 102, "is_even": 0}, {"i": 1294, "len": 40, "is_even": 1}, {"i": 1295, "len": 40, "is_even": 0}, {"i": 1296, "len": 27, "is_even": 1}, {"i": 1297, "len": 102, "is_even": 0}, {"i": 1298, "len": 146, "is_even": 1}, {"i": 1299, "len": 146, "is_even": 0}, {"i": 1300, "len": 27, "is_even": 1}, {"i": 1301, "len": 27, "is_even": 0}, {"i": 1302, "len": 102, "is_even": 1}, {"i": 1303, "len": 102, "is_even": 0}, {"i": 1304, "len": 27, "is_even": 1}, {"i": 1305, "len": 53, "is_even": 0}, {"i": 1306, "len": 27, "is_even": 1}, {"i": 1307, "len": 177, "is_even": 0}, {"i": 1308, "len": 146, "is_even": 1}, {"i": 1309, "len": 146, "is_even": 0}, {"i": 1310, "len": 146, "is_even": 1}, {"i": 1311, "len": 102, "is_even": 0}, {"i": 1312, "len": 115, "is_even": 1}, {"i": 1313, "len": 27, "is_even": 0}, {"i": 1314, "len": 53, "is_even": 1}, {"i": 1315, "len": 53, "is_even": 0}, {"i": 1316, "len": 53, "is_even": 1}, {"i": 1317, "len": 53, "is_even": 0}, {"i": 1318, "len": 53, "is_even": 1}, {"i": 1319, "len": 146, "is_even": 0}, {"i": 1320, "len": 115, "is_even": 1}, {"i": 1321, "len": 102, "is_even": 0}, {"i": 1322, "len": 115, "is_even": 1}, {"i": 1323, "len": 53, "is_even": 0}, {"i": 1324, "len": 27, "is_even": 1}, {"i": 1325, "len": 27, "is_even": 0}, {"i": 1326, "len": 27, "is_even": 1}, {"i": 1327, "len": 53, "is_even": 0}, {"i": 1328, "len": 115, "is_even": 1}, {"i": 1329, "len": 53, "is_even": 0}, {"i": 1330, "len": 53, "is_even": 1}, {"i": 1331, "len": 53, "is_even": 0}, {"i": 1332, "len": 115, "is_even": 1}, {"i": 1333, "len": 115, "is_even": 0}, {"i": 1334, "len": 146, "is_even": 1}, {"i": 1335, "len": 146, "is_even": 0}, {"i": 1336, "len": 71, "is_even": 1}, {"i": 1337, "len": 45, "is_even": 0}, {"i": 1338, "len": 71, "is_even": 1}, {"i": 1339, "len": 27, "is_even": 0}, {"i": 1340, "len": 71, "is_even": 1}, {"i": 1341, "len": 71, "is_even": 0}, {"i": 1342, "len": 97, "is_even": 1}, {"i": 1343, "len": 97, "is_even": 0}, {"i": 1344, "len": 14, "is_even": 1}, {"i": 1345, "len": 115, "is_even": 0}, {"i": 1346, "len": 66, "is_even": 1}, {"i": 1347, "len": 66, "is_even": 0}, {"i": 1348, "len": 115, "is_even": 1}, {"i": 1349, "len": 115, "is_even": 0}, {"i": 1350, "len": 115, "is_even": 1}, {"i": 1351, "len": 159, "is_even": 0}, {"i": 1352, "len": 53, "is_even": 1}, {"i": 1353, "len": 40, "is_even": 0}, {"i": 1354, "len": 53, "is_even": 1}, {"i": 1355, "len": 115, "is_even": 0}, {"i": 1356, "len": 53, "is_even": 1}, {"i": 1357, "len": 53, "is_even": 0}, {"i": 1358, "len": 66, "is_even": 1}, {"i": 1359, "len": 66, "is_even": 0}, {"i": 1360, "len": 14, "is_even": 1}, {"i": 1361, "len": 53, "is_even": 0}, {"i": 1362, "len": 66, "is_even": 1}, {"i": 1363, "len": 66, "is_even": 0}, {"i": 1364, "len": 14, "is_even": 1}, {"i": 1365, "len": 14, "is_even": 0}, {"i": 1366, "len": 40, "is_even": 1}, {"i": 1367, "len": 40, "is_even": 0}, {"i": 1368, "len": 128, "is_even": 1}, {"i": 1369, "len": 40, "is_even": 0}, {"i": 1370, "len": 128, "is_even": 1}, {"i": 1371, "len": 115, "is_even": 0}, {"i": 1372, "len": 128, "is_even": 1}, {"i": 1373, "len": 128, "is_even": 0}, {"i": 1374, "len": 40, "is_even": 1}, {"i": 1375, "len": 40, "is_even": 0}, {"i": 1376, "len": 35, "is_even": 1}, {"i": 1377, "len": 159, "is_even": 0}, {"i": 1378, "len": 128, "is_even": 1}, {"i": 1379, "len": 128, "is_even": 0}, {"i": 1380, "len": 128, "is_even": 1}, {"i": 1381, "len": 128, "is_even": 0}, {"i": 1382, "len": 128, "is_even": 1}, {"i": 1383, "len": 97, "is_even": 0}, {"i": 1384, "len": 35, "is_even": 1}, {"i": 1385, "len": 66, "is_even": 0}, {"i": 1386, "len": 35, "is_even": 1}, {"i": 1387, "len": 66, "is_even": 0}, {"i": 1388, "len": 128, "is_even": 1}, {"i": 1389, "len": 128, "is_even": 0}, {"i": 1390, "len": 128, "is_even": 1}, {"i": 1391, "len": 115, "is_even": 0}, {"i": 1392, "len": 35, "is_even": 1}, {"i": 1393, "len": 35, "is_even": 0}, {"i": 1394, "len": 128, "is_even": 1}, {"i": 1395, "len": 128, "is_even": 0}, {"i": 1396, "len": 35, "is_even": 1}, {"i": 1397, "len": 35, "is_even": 0}, {"i": 1398, "len": 66, "is_even": 1}, {"i": 1399, "len": 66, "is_even": 0}, {"i": 1400, "len": 84, "is_even": 1}, {"i": 1401, "len": 97, "is_even": 0}, {"i": 1402, "len": 84, "is_even": 1}, {"i": 1403, "len": 128, "is_even": 0}, {"i": 1404, "len": 84, "is_even": 1}, {"i": 1405, "len": 84, "is_even": 0}, {"i": 1406, "len": 172, "is_even": 1}, {"i": 1407, "len": 172, "is_even": 0}, {"i": 1408, "len": 22, "is_even": 1}, {"i": 1409, "len": 84, "is_even": 0}, {"i": 1410, "len": 35, "is_even": 1}, {"i": 1411, "len": 35, "is_even": 0}, {"i": 1412, "len": 128, "is_even": 1}, {"i": 1413, "len": 128, "is_even": 0}, {"i": 1414, "len": 128, "is_even": 1}, {"i": 1415, "len": 35, "is_even": 0}, {"i": 1416, "len": 35, "is_even": 1}, {"i": 1417, "len": 79, "is_even": 0}, {"i": 1418, "len": 35, "is_even": 1}, {"i": 1419, "len": 128, "is_even": 0}, {"i": 1420, "len": 35, "is_even": 1}, {"i": 1421, "len": 35, "is_even": 0}, {"i": 1422, "len": 66, "is_even": 1}, {"i": 1423, "len": 66, "is_even": 0}, {"i": 1424, "len": 35, "is_even": 1}, {"i": 1425, "len": 27, "is_even": 0}, {"i": 1426, "len": 27, "is_even": 1}, {"i": 1427, "len": 27, "is_even": 0}, {"i": 1428, "len": 35, "is_even": 1}, {"i": 1429, "len": 35, "is_even": 0}, {"i": 1430, "len": 27, "is_even": 1}, {"i": 1431, "len": 27, "is_even": 0}, {"i": 1432, "len": 35, "is_even": 1}, {"i": 1433, "len": 27, "is_even": 0}, {"i": 1434, "len": 35, "is_even": 1}, {"i": 1435, "len": 79, "is_even": 0}, {"i": 1436, "len": 53, "is_even": 1}, {"i": 1437, "len": 53, "is_even": 0}, {"i": 1438, "len": 53, "is_even": 1}, {"i": 1439, "len": 128, "is_even": 0}, {"i": 1440, "len": 22, "is_even": 1}, {"i": 1441, "len": 141, "is_even": 0}, {"i": 1442, "len": 48, "is_even": 1}, {"i": 1443, "len": 48, "is_even": 0}, {"i": 1444, "len": 48, "is_even": 1}, {"i": 1445, "len": 48, "is_even": 0}, {"i": 1446, "len": 48, "is_even": 1}, {"i": 1447, "len": 53, "is_even": 0}, {"i": 1448, "len": 22, "is_even": 1}, {"i": 1449, "len": 141, "is_even": 0}, {"i": 1450, "len": 22, "is_even": 1}, {"i": 1451, "len": 141, "is_even": 0}, {"i": 1452, "len": 48, "is_even": 1}, {"i": 1453, "len": 48, "is_even": 0}, {"i": 1454, "len": 48, "is_even": 1}, {"i": 1455, "len": 141, "is_even": 0}, {"i": 1456, "len": 97, "is_even": 1}, {"i": 1457, "len": 35, "is_even": 0}, {"i": 1458, "len": 35, "is_even": 1}, {"i": 1459, "len": 35, "is_even": 0}, {"i": 1460, "len": 97, "is_even": 1}, {"i": 1461, "len": 97, "is_even": 0}, {"i": 1462, "len": 141, "is_even": 1}, {"i": 1463, "len": 141, "is_even": 0}, {"i": 1464, "len": 97, "is_even": 1}, {"i": 1465, "len": 35, "is_even": 0}, {"i": 1466, "len": 97, "is_even": 1}, {"i": 1467, "len": 141, "is_even": 0}, {"i": 1468, "len": 48, "is_even": 1}, {"i": 1469, "len": 48, "is_even": 0}, {"i": 1470, "len": 48, "is_even": 1}, {"i": 1471, "len": 172, "is_even": 0}, {"i": 1472, "len": 22, "is_even": 1}, {"i": 1473, "len": 97, "is_even": 0}, {"i": 1474, "len": 141, "is_even": 1}, {"i": 1475, "len": 141, "is_even": 0}, {"i": 1476, "len": 22, "is_even": 1}, {"i": 1477, "len": 22, "is_even": 0}, {"i": 1478, "len": 22, "is_even": 1}, {"i": 1479, "len": 97, "is_even": 0}, {"i": 1480, "len": 48, "is_even": 1}, {"i": 1481, "len": 35, "is_even": 0}, {"i": 1482, "len": 48, "is_even": 1}, {"i": 1483, "len": 141, "is_even": 0}, {"i": 1484, "len": 48, "is_even": 1}, {"i": 1485, "len": 48, "is_even": 0}, {"i": 1486, "len": 97, "is_even": 1}, {"i": 1487, "len": 97, "is_even": 0}, {"i": 1488, "len": 22, "is_even": 1}, {"i": 1489, "len": 48, "is_even": 0}, {"i": 1490, "len": 92, "is_even": 1}, {"i": 1491, "len": 92, "is_even": 0}, {"i": 1492, "len": 22, "is_even": 1}, {"i": 1493, "len": 22, "is_even": 0}, {"i": 1494, "len": 48, "is_even": 1}, {"i": 1495, "len": 48, "is_even": 0}, {"i": 1496, "len": 48, "is_even": 1}, {"i": 1497, "len": 48, "is_even": 0}, {"i": 1498, "len": 48, "is_even": 1}, {"i": 1499, "len": 48, "is_even": 0}, {"i": 1500, "len": 48, "is_even": 1}, {"i": 1501, "len": 48, "is_even": 0}, {"i": 1502, "len": 141, "is_even": 1}, {"i": 1503, "len": 141, "is_even": 0}, {"i": 1504, "len": 110, "is_even": 1}, {"i": 1505, "len": 40, "is_even": 0}, {"i": 1506, "len": 22, "is_even": 1}, {"i": 1507, "len": 22, "is_even": 0}, {"i": 1508, "len": 66, "is_even": 1}, {"i": 1509, "len": 66, "is_even": 0}, {"i": 1510, "len": 66, "is_even": 1}, {"i": 1511, "len": 92, "is_even": 0}, {"i": 1512, "len": 110, "is_even": 1}, {"i": 1513, "len": 66, "is_even": 0}, {"i": 1514, "len": 110, "is_even": 1}, {"i": 1515, "len": 141, "is_even": 0}, {"i": 1516, "len": 61, "is_even": 1}, {"i": 1517, "len": 61, "is_even": 0}, {"i": 1518, "len": 61, "is_even": 1}, {"i": 1519, "len": 154, "is_even": 0}, {"i": 1520, "len": 110, "is_even": 1}, {"i": 1521, "len": 110, "is_even": 0}, {"i": 1522, "len": 35, "is_even": 1}, {"i": 1523, "len": 35, "is_even": 0}, {"i": 1524, "len": 110, "is_even": 1}, {"i": 1525, "len": 110, "is_even": 0}, {"i": 1526, "len": 154, "is_even": 1}, {"i": 1527, "len": 154, "is_even": 0}, {"i": 1528, "len": 48, "is_even": 1}, {"i": 1529, "len": 61, "is_even": 0}, {"i": 1530, "len": 48, "is_even": 1}, {"i": 1531, "len": 61, "is_even": 0}, {"i": 1532, "len": 48, "is_even": 1}, {"i": 1533, "len": 48, "is_even": 0}, {"i": 1534, "len": 61, "is_even": 1}, {"i": 1535, "len": 61, "is_even": 0}, {"i": 1536, "len": 17, "is_even": 1}, {"i": 1537, "len": 154, "is_even": 0}, {"i": 1538, "len": 35, "is_even": 1}, {"i": 1539, "len": 35, "is_even": 0}, {"i": 1540, "len": 35, "is_even": 1}, {"i": 1541, "len": 35, "is_even": 0}, {"i": 1542, "len": 35, "is_even": 1}, {"i": 1543, "len": 110, "is_even": 0}, {"i": 1544, "len": 123, "is_even": 1}, {"i": 1545, "len": 61, "is_even": 0}, {"i": 1546, "len": 123, "is_even": 1}, {"i": 1547, "len": 35, "is_even": 0}, {"i": 1548, "len": 123, "is_even": 1}, {"i": 1549, "len": 123, "is_even": 0}, {"i": 1550, "len": 154, "is_even": 1}, {"i": 1551, "len": 154, "is_even": 0}, {"i": 1552, "len": 123, "is_even": 1}, {"i": 1553, "len": 123, "is_even": 0}, {"i": 1554, "len": 35, "is_even": 1}, {"i": 1555, "len": 35, "is_even": 0}, {"i": 1556, "len": 123, "is_even": 1}, {"i": 1557, "len": 123, "is_even": 0}, {"i": 1558, "len": 61, "is_even": 1}, {"i": 1559, "len": 61, "is_even": 0}, {"i": 1560, "len": 123, "is_even": 1}, {"i": 1561, "len": 61, "is_even": 0}, {"i": 1562, "len": 123, "is_even": 1}, {"i": 1563, "len": 154, "is_even": 0}, {"i": 1564, "len": 123, "is_even": 1}, {"i": 1565, "len": 123, "is_even": 0}, {"i": 1566, "len": 123, "is_even": 1}, {"i": 1567, "len": 61, "is_even": 0}, {"i": 1568, "len": 30, "is_even": 1}, {"i": 1569, "len": 35, "is_even": 0}, {"i": 1570, "len": 123, "is_even": 1}, {"i": 1571, "len": 123, "is_even": 0}, {"i": 1572, "len": 61, "is_even": 1}, {"i": 1573, "len": 61, "is_even": 0}, {"i": 1574, "len": 61, "is_even": 1}, {"i": 1575, "len": 61, "is_even": 0}, {"i": 1576, "len": 30, "is_even": 1}, {"i": 1577, "len": 92, "is_even": 0}, {"i": 1578, "len": 30, "is_even": 1}, {"i": 1579, "len": 123, "is_even": 0}, {"i": 1580, "len": 79, "is_even": 1}, {"i": 1581, "len": 79, "is_even": 0}, {"i": 1582, "len": 79, "is_even": 1}, {"i": 1583, "len": 167, "is_even": 0}, {"i": 1584, "len": 30, "is_even": 1}, {"i": 1585, "len": 79, "is_even": 0}, {"i": 1586, "len": 79, "is_even": 1}, {"i": 1587, "len": 79, "is_even": 0}, {"i": 1588, "len": 30, "is_even": 1}, {"i": 1589, "len": 30, "is_even": 0}, {"i": 1590, "len": 105, "is_even": 1}, {"i": 1591, "len": 105, "is_even": 0}, {"i": 1592, "len": 123, "is_even": 1}, {"i": 1593, "len": 123, "is_even": 0}, {"i": 1594, "len": 123, "is_even": 1}, {"i": 1595, "len": 74, "is_even": 0}, {"i": 1596, "len": 123, "is_even": 1}, {"i": 1597, "len": 123, "is_even": 0}, {"i": 1598, "len": 74, "is_even": 1}, {"i": 1599, "len": 74, "is_even": 0}, {"i": 1600, "len": 30, "is_even": 1}, {"i": 1601, "len": 61, "is_even": 0}, {"i": 1602, "len": 61, "is_even": 1}, {"i": 1603, "len": 61, "is_even": 0}, {"i": 1604, "len": 22, "is_even": 1}, {"i": 1605, "len": 22, "is_even": 0}, {"i": 1606, "len": 22, "is_even": 1}, {"i": 1607, "len": 167, "is_even": 0}, {"i": 1608, "len": 22, "is_even": 1}, {"i": 1609, "len": 74, "is_even": 0}, {"i": 1610, "len": 22, "is_even": 1}, {"i": 1611, "len": 22, "is_even": 0}, {"i": 1612, "len": 22, "is_even": 1}, {"i": 1613, "len": 22, "is_even": 0}, {"i": 1614, "len": 74, "is_even": 1}, {"i": 1615, "len": 74, "is_even": 0}, {"i": 1616, "len": 30, "is_even": 1}, {"i": 1617, "len": 48, "is_even": 0}, {"i": 1618, "len": 48, "is_even": 1}, {"i": 1619, "len": 48, "is_even": 0}, {"i": 1620, "len": 30, "is_even": 1}, {"i": 1621, "len": 30, "is_even": 0}, {"i": 1622, "len": 136, "is_even": 1}, {"i": 1623, "len": 136, "is_even": 0}, {"i": 1624, "len": 43, "is_even": 1}, {"i": 1625, "len": 136, "is_even": 0}, {"i": 1626, "len": 43, "is_even": 1}, {"i": 1627, "len": 74, "is_even": 0}, {"i": 1628, "len": 43, "is_even": 1}, {"i": 1629, "len": 43, "is_even": 0}, {"i": 1630, "len": 136, "is_even": 1}, {"i": 1631, "len": 136, "is_even": 0}, {"i": 1632, "len": 30, "is_even": 1}, {"i": 1633, "len": 136, "is_even": 0}, {"i": 1634, "len": 43, "is_even": 1}, {"i": 1635, "len": 43, "is_even": 0}, {"i": 1636, "len": 43, "is_even": 1}, {"i": 1637, "len": 43, "is_even": 0}, {"i": 1638, "len": 43, "is_even": 1}, {"i": 1639, "len": 105, "is_even": 0}, {"i": 1640, "len": 30, "is_even": 1}, {"i": 1641, "len": 74, "is_even": 0}, {"i": 1642, "len": 30, "is_even": 1}, {"i": 1643, "len": 74, "is_even": 0}, {"i": 1644, "len": 136, "is_even": 1}, {"i": 1645, "len": 136, "is_even": 0}, {"i": 1646, "len": 136, "is_even": 1}, {"i": 1647, "len": 136, "is_even": 0}, {"i": 1648, "len": 92, "is_even": 1}, {"i": 1649, "len": 30, "is_even": 0}, {"i": 1650, "len": 136, "is_even": 1}, {"i": 1651, "len": 136, "is_even": 0}, {"i": 1652, "len": 92, "is_even": 1}, {"i": 1653, "len": 92, "is_even": 0}, {"i": 1654, "len": 43, "is_even": 1}, {"i": 1655, "len": 43, "is_even": 0}, {"i": 1656, "len": 92, "is_even": 1}, {"i": 1657, "len": 74, "is_even": 0}, {"i": 1658, "len": 92, "is_even": 1}, {"i": 1659, "len": 43, "is_even": 0}, {"i": 1660, "len": 136, "is_even": 1}, {"i": 1661, "len": 136, "is_even": 0}, {"i": 1662, "len": 136, "is_even": 1}, {"i": 1663, "len": 74, "is_even": 0}, {"i": 1664, "len": 17, "is_even": 1}, {"i": 1665, "len": 180, "is_even": 0}, {"i": 1666, "len": 30, "is_even": 1}, {"i": 1667, "len": 30, "is_even": 0}, {"i": 1668, "len": 136, "is_even": 1}, {"i": 1669, "len": 136, "is_even": 0}, {"i": 1670, "len": 136, "is_even": 1}, {"i": 1671, "len": 43, "is_even": 0}, {"i": 1672, "len": 43, "is_even": 1}, {"i": 1673, "len": 92, "is_even": 0}, {"i": 1674, "len": 43, "is_even": 1}, {"i": 1675, "len": 136, "is_even": 0}, {"i": 1676, "len": 43, "is_even": 1}, {"i": 1677, "len": 43, "is_even": 0}, {"i": 1678, "len": 87, "is_even": 1}, {"i": 1679, "len": 87, "is_even": 0}, {"i": 1680, "len": 43, "is_even": 1}, {"i": 1681, "len": 43, "is_even": 0}, {"i": 1682, "len": 43, "is_even": 1}, {"i": 1683, "len": 43, "is_even": 0}, {"i": 1684, "len": 43, "is_even": 1}, {"i": 1685, "len": 43, "is_even": 0}, {"i": 1686, "len": 43, "is_even": 1}, {"i": 1687, "len": 43, "is_even": 0}, {"i": 1688, "len": 43, "is_even": 1}, {"i": 1689, "len": 35, "is_even": 0}, {"i": 1690, "len": 43, "is_even": 1}, {"i": 1691, "len": 136, "is_even": 0}, {"i": 1692, "len": 35, "is_even": 1}, {"i": 1693, "len": 35, "is_even": 0}, {"i": 1694, "len": 35, "is_even": 1}, {"i": 1695, "len": 180, "is_even": 0}, {"i": 1696, "len": 17, "is_even": 1}, {"i": 1697, "len": 35, "is_even": 0}, {"i": 1698, "len": 61, "is_even": 1}, {"i": 1699, "len": 61, "is_even": 0}, {"i": 1700, "len": 61, "is_even": 1}, {"i": 1701, "len": 61, "is_even": 0}, {"i": 1702, "len": 61, "is_even": 1}, {"i": 1703, "len": 61, "is_even": 0}, {"i": 1704, "len": 17, "is_even": 1}, {"i": 1705, "len": 136, "is_even": 0}, {"i": 1706, "len": 17, "is_even": 1}, {"i": 1707, "len": 149, "is_even": 0}, {"i": 1708, "len": 56, "is_even": 1}, {"i": 1709, "len": 56, "is_even": 0}, {"i": 1710, "len": 56, "is_even": 1}, {"i": 1711, "len": 149, "is_even": 0}, {"i": 1712, "len": 105, "is_even": 1}, {"i": 1713, "len": 30, "is_even": 0}, {"i": 1714, "len": 30, "is_even": 1}, {"i": 1715, "len": 30, "is_even": 0}, {"i": 1716, "len": 105, "is_even": 1}, {"i": 1717, "len": 105, "is_even": 0}, {"i": 1718, "len": 149, "is_even": 1}, {"i": 1719, "len": 149, "is_even": 0}, {"i": 1720, "len": 105, "is_even": 1}, {"i": 1721, "len": 56, "is_even": 0}, {"i": 1722, "len": 105, "is_even": 1}, {"i": 1723, "len": 56, "is_even": 0}, {"i": 1724, "len": 43, "is_even": 1}, {"i": 1725, "len": 43, "is_even": 0}, {"i": 1726, "len": 43, "is_even": 1}, {"i": 1727, "len": 56, "is_even": 0}, {"i": 1728, "len": 118, "is_even": 1}, {"i": 1729, "len": 105, "is_even": 0}, {"i": 1730, "len": 149, "is_even": 1}, {"i": 1731, "len": 149, "is_even": 0}, {"i": 1732, "len": 30, "is_even": 1}, {"i": 1733, "len": 30, "is_even": 0}, {"i": 1734, "len": 30, "is_even": 1}, {"i": 1735, "len": 105, "is_even": 0}, {"i": 1736, "len": 30, "is_even": 1}, {"i": 1737, "len": 105, "is_even": 0}, {"i": 1738, "len": 30, "is_even": 1}, {"i": 1739, "len": 56, "is_even": 0}, {"i": 1740, "len": 30, "is_even": 1}, {"i": 1741, "len": 30, "is_even": 0}, {"i": 1742, "len": 180, "is_even": 1}, {"i": 1743, "len": 180, "is_even": 0}, {"i": 1744, "len": 118, "is_even": 1}, {"i": 1745, "len": 149, "is_even": 0}, {"i": 1746, "len": 149, "is_even": 1}, {"i": 1747, "len": 149, "is_even": 0}, {"i": 1748, "len": 118, "is_even": 1}, {"i": 1749, "len": 118, "is_even": 0}, {"i": 1750, "len": 30, "is_even": 1}, {"i": 1751, "len": 30, "is_even": 0}, {"i": 1752, "len": 56, "is_even": 1}, {"i": 1753, "len": 56, "is_even": 0}, {"i": 1754, "len": 56, "is_even": 1}, {"i": 1755, "len": 43, "is_even": 0}, {"i": 1756, "len": 56, "is_even": 1}, {"i": 1757, "len": 56, "is_even": 0}, {"i": 1758, "len": 149, "is_even": 1}, {"i": 1759, "len": 149, "is_even": 0}, {"i": 1760, "len": 118, "is_even": 1}, {"i": 1761, "len": 105, "is_even": 0}, {"i": 1762, "len": 118, "is_even": 1}, {"i": 1763, "len": 118, "is_even": 0}, {"i": 1764, "len": 30, "is_even": 1}, {"i": 1765, "len": 30, "is_even": 0}, {"i": 1766, "len": 30, "is_even": 1}, {"i": 1767, "len": 149, "is_even": 0}, {"i": 1768, "len": 118, "is_even": 1}, {"i": 1769, "len": 56, "is_even": 0}, {"i": 1770, "len": 118, "is_even": 1}, {"i": 1771, "len": 56, "is_even": 0}, {"i": 1772, "len": 56, "is_even": 1}, {"i": 1773, "len": 56, "is_even": 0}, {"i": 1774, "len": 56, "is_even": 1}, {"i": 1775, "len": 87, "is_even": 0}, {"i": 1776, "len": 74, "is_even": 1}, {"i": 1777, "len": 118, "is_even": 0}, {"i": 1778, "len": 149, "is_even": 1}, {"i": 1779, "len": 149, "is_even": 0}, {"i": 1780, "len": 74, "is_even": 1}, {"i": 1781, "len": 74, "is_even": 0}, {"i": 1782, "len": 48, "is_even": 1}, {"i": 1783, "len": 48, "is_even": 0}, {"i": 1784, "len": 74, "is_even": 1}, {"i": 1785, "len": 30, "is_even": 0}, {"i": 1786, "len": 74, "is_even": 1}, {"i": 1787, "len": 48, "is_even": 0}, {"i": 1788, "len": 100, "is_even": 1}, {"i": 1789, "len": 100, "is_even": 0}, {"i": 1790, "len": 100, "is_even": 1}, {"i": 1791, "len": 100, "is_even": 0}, {"i": 1792, "len": 25, "is_even": 1}, {"i": 1793, "len": 118, "is_even": 0}, {"i": 1794, "len": 69, "is_even": 1}, {"i": 1795, "len": 69, "is_even": 0}, {"i": 1796, "len": 118, "is_even": 1}, {"i": 1797, "len": 118, "is_even": 0}, {"i": 1798, "len": 118, "is_even": 1}, {"i": 1799, "len": 69, "is_even": 0}, {"i": 1800, "len": 56, "is_even": 1}, {"i": 1801, "len": 162, "is_even": 0}, {"i": 1802, "len": 56, "is_even": 1}, {"i": 1803, "len": 43, "is_even": 0}, {"i": 1804, "len": 56, "is_even": 1}, {"i": 1805, "len": 56, "is_even": 0}, {"i": 1806, "len": 118, "is_even": 1}, {"i": 1807, "len": 118, "is_even": 0}, {"i": 1808, "len": 17, "is_even": 1}, {"i": 1809, "len": 56, "is_even": 0}, {"i": 1810, "len": 69, "is_even": 1}, {"i": 1811, "len": 69, "is_even": 0}, {"i": 1812, "len": 17, "is_even": 1}, {"i": 1813, "len": 17, "is_even": 0}, {"i": 1814, "len": 56, "is_even": 1}, {"i": 1815, "len": 56, "is_even": 0}, {"i": 1816, "len": 17, "is_even": 1}, {"i": 1817, "len": 69, "is_even": 0}, {"i": 1818, "len": 17, "is_even": 1}, {"i": 1819, "len": 162, "is_even": 0}, {"i": 1820, "len": 43, "is_even": 1}, {"i": 1821, "len": 43, "is_even": 0}, {"i": 1822, "len": 43, "is_even": 1}, {"i": 1823, "len": 162, "is_even": 0}, {"i": 1824, "len": 38, "is_even": 1}, {"i": 1825, "len": 43, "is_even": 0}, {"i": 1826, "len": 131, "is_even": 1}, {"i": 1827, "len": 131, "is_even": 0}, {"i": 1828, "len": 131, "is_even": 1}, {"i": 1829, "len": 131, "is_even": 0}, {"i": 1830, "len": 131, "is_even": 1}, {"i": 1831, "len": 69, "is_even": 0}, {"i": 1832, "len": 38, "is_even": 1}, {"i": 1833, "len": 43, "is_even": 0}, {"i": 1834, "len": 38, "is_even": 1}, {"i": 1835, "len": 131, "is_even": 0}, {"i": 1836, "len": 131, "is_even": 1}, {"i": 1837, "len": 131, "is_even": 0}, {"i": 1838, "len": 131, "is_even": 1}, {"i": 1839, "len": 162, "is_even": 0}, {"i": 1840, "len": 38, "is_even": 1}, {"i": 1841, "len": 131, "is_even": 0}, {"i": 1842, "len": 131, "is_even": 1}, {"i": 1843, "len": 131, "is_even": 0}, {"i": 1844, "len": 38, "is_even": 1}, {"i": 1845, "len": 38, "is_even": 0}, {"i": 1846, "len": 69, "is_even": 1}, {"i": 1847, "len": 69, "is_even": 0}, {"i": 1848, "len": 131, "is_even": 1}, {"i": 1849, "len": 69, "is_even": 0}, {"i": 1850, "len": 131, "is_even": 1}, {"i": 1851, "len": 131, "is_even": 0}, {"i": 1852, "len": 131, "is_even": 1}, {"i": 1853, "len": 131, "is_even": 0}, {"i": 1854, "len": 118, "is_even": 1}, {"i": 1855, "len": 118, "is_even": 0}, {"i": 1856, "len": 25, "is_even": 1}, {"i": 1857, "len": 38, "is_even": 0}, {"i": 1858, "len": 131, "is_even": 1}, {"i": 1859, "len": 131, "is_even": 0}, {"i": 1860, "len": 38, "is_even": 1}, {"i": 1861, "len": 38, "is_even": 0}, {"i": 1862, "len": 38, "is_even": 1}, {"i": 1863, "len": 69, "is_even": 0}, {"i": 1864, "len": 87, "is_even": 1}, {"i": 1865, "len": 69, "is_even": 0}, {"i": 1866, "len": 87, "is_even": 1}, {"i": 1867, "len": 38, "is_even": 0}, {"i": 1868, "len": 87, "is_even": 1}, {"i": 1869, "len": 87, "is_even": 0}, {"i": 1870, "len": 131, "is_even": 1}, {"i": 1871, "len": 131, "is_even": 0}, {"i": 1872, "len": 25, "is_even": 1}, {"i": 1873, "len": 87, "is_even": 0}, {"i": 1874, "len": 175, "is_even": 1}, {"i": 1875, "len": 175, "is_even": 0}, {"i": 1876, "len": 25, "is_even": 1}, {"i": 1877, "len": 25, "is_even": 0}, {"i": 1878, "len": 87, "is_even": 1}, {"i": 1879, "len": 87, "is_even": 0}, {"i": 1880, "len": 131, "is_even": 1}, {"i": 1881, "len": 38, "is_even": 0}, {"i": 1882, "len": 131, "is_even": 1}, {"i": 1883, "len": 87, "is_even": 0}, {"i": 1884, "len": 131, "is_even": 1}, {"i": 1885, "len": 131, "is_even": 0}, {"i": 1886, "len": 38, "is_even": 1}, {"i": 1887, "len": 38, "is_even": 0}, {"i": 1888, "len": 38, "is_even": 1}, {"i": 1889, "len": 82, "is_even": 0}, {"i": 1890, "len": 38, "is_even": 1}, {"i": 1891, "len": 38, "is_even": 0}, {"i": 1892, "len": 38, "is_even": 1}, {"i": 1893, "len": 38, "is_even": 0}, {"i": 1894, "len": 38, "is_even": 1}, {"i": 1895, "len": 175, "is_even": 0}, {"i": 1896, "len": 38, "is_even": 1}, {"i": 1897, "len": 69, "is_even": 0}, {"i": 1898, "len": 38, "is_even": 1}, {"i": 1899, "len": 69, "is_even": 0}, {"i": 1900, "len": 30, "is_even": 1}, {"i": 1901, "len": 30, "is_even": 0}, {"i": 1902, "len": 30, "is_even": 1}, {"i": 1903, "len": 131, "is_even": 0}, {"i": 1904, "len": 38, "is_even": 1}, {"i": 1905, "len": 38, "is_even": 0}, {"i": 1906, "len": 30, "is_even": 1}, {"i": 1907, "len": 30, "is_even": 0}, {"i": 1908, "len": 38, "is_even": 1}, {"i": 1909, "len": 38, "is_even": 0}, {"i": 1910, "len": 30, "is_even": 1}, {"i": 1911, "len": 30, "is_even": 0}, {"i": 1912, "len": 56, "is_even": 1}, {"i": 1913, "len": 82, "is_even": 0}, {"i": 1914, "len": 56, "is_even": 1}, {"i": 1915, "len": 175, "is_even": 0}, {"i": 1916, "len": 56, "is_even": 1}, {"i": 1917, "len": 56, "is_even": 0}, {"i": 1918, "len": 131, "is_even": 1}, {"i": 1919, "len": 131, "is_even": 0}, {"i": 1920, "len": 25, "is_even": 1}, {"i": 1921, "len": 144, "is_even": 0}, {"i": 1922, "len": 51, "is_even": 1}, {"i": 1923, "len": 51, "is_even": 0}, {"i": 1924, "len": 51, "is_even": 1}, {"i": 1925, "len": 51, "is_even": 0}, {"i": 1926, "len": 51, "is_even": 1}, {"i": 1927, "len": 51, "is_even": 0}, {"i": 1928, "len": 25, "is_even": 1}, {"i": 1929, "len": 56, "is_even": 0}, {"i": 1930, "len": 25, "is_even": 1}, {"i": 1931, "len": 144, "is_even": 0}, {"i": 1932, "len": 25, "is_even": 1}, {"i": 1933, "len": 25, "is_even": 0}, {"i": 1934, "len": 144, "is_even": 1}, {"i": 1935, "len": 144, "is_even": 0}, {"i": 1936, "len": 100, "is_even": 1}, {"i": 1937, "len": 51, "is_even": 0}, {"i": 1938, "len": 51, "is_even": 1}, {"i": 1939, "len": 51, "is_even": 0}, {"i": 1940, "len": 100, "is_even": 1}, {"i": 1941, "len": 100, "is_even": 0}, {"i": 1942, "len": 38, "is_even": 1}, {"i": 1943, "len": 38, "is_even": 0}, {"i": 1944, "len": 100, "is_even": 1}, {"i": 1945, "len": 38, "is_even": 0}, {"i": 1946, "len": 100, "is_even": 1}, {"i": 1947, "len": 82, "is_even": 0}, {"i": 1948, "len": 144, "is_even": 1}, {"i": 1949, "len": 144, "is_even": 0}, {"i": 1950, "len": 144, "is_even": 1}, {"i": 1951, "len": 175, "is_even": 0}, {"i": 1952, "len": 25, "is_even": 1}, {"i": 1953, "len": 38, "is_even": 0}, {"i": 1954, "len": 100, "is_even": 1}, {"i": 1955, "len": 100, "is_even": 0}, {"i": 1956, "len": 51, "is_even": 1}, {"i": 1957, "len": 51, "is_even": 0}, {"i": 1958, "len": 51, "is_even": 1}, {"i": 1959, "len": 82, "is_even": 0}, {"i": 1960, "len": 25, "is_even": 1}, {"i": 1961, "len": 175, "is_even": 0}, {"i": 1962, "len": 25, "is_even": 1}, {"i": 1963, "len": 82, "is_even": 0}, {"i": 1964, "len": 144, "is_even": 1}, {"i": 1965, "len": 144, "is_even": 0}, {"i": 1966, "len": 144, "is_even": 1}, {"i": 1967, "len": 100, "is_even": 0}, {"i": 1968, "len": 51, "is_even": 1}, {"i": 1969, "len": 25, "is_even": 0}, {"i": 1970, "len": 25, "is_even": 1}, {"i": 1971, "len": 25, "is_even": 0}, {"i": 1972, "len": 51, "is_even": 1}, {"i": 1973, "len": 51, "is_even": 0}, {"i": 1974, "len": 38, "is_even": 1}, {"i": 1975, "len": 38, "is_even": 0}, {"i": 1976, "len": 51, "is_even": 1}, {"i": 1977, "len": 144, "is_even": 0}, {"i": 1978, "len": 51, "is_even": 1}, {"i": 1979, "len": 144, "is_even": 0}, {"i": 1980, "len": 100, "is_even": 1}, {"i": 1981, "len": 100, "is_even": 0}, {"i": 1982, "len": 100, "is_even": 1}, {"i": 1983, "len": 51, "is_even": 0}, {"i": 1984, "len": 113, "is_even": 1}, {"i": 1985, "len": 51, "is_even": 0}, {"i": 1986, "len": 95, "is_even": 1}, {"i": 1987, "len": 95, "is_even": 0}, {"i": 1988, "len": 25, "is_even": 1}, {"i": 1989, "len": 25, "is_even": 0}, {"i": 1990, "len": 25, "is_even": 1}, {"i": 1991, "len": 51, "is_even": 0}, {"i": 1992, "len": 51, "is_even": 1}, {"i": 1993, "len": 51, "is_even": 0}, {"i": 1994, "len": 51, "is_even": 1}, {"i": 1995, "len": 51, "is_even": 0}, {"i": 1996, "len": 51, "is_even": 1}, {"i": 1997, "len": 51, "is_even": 0}, {"i": 1998, "len": 51, "is_even": 1}, {"i": 1999, "len": 51, "is_even": 0}, {"i": 2000, "len": 113, "is_even": 1}, {"i": 2001, "len": 51, "is_even": 0}, {"i": 2002, "len": 144, "is_even": 1}, {"i": 2003, "len": 144, "is_even": 0}, {"i": 2004, "len": 113, "is_even": 1}, {"i": 2005, "len": 113, "is_even": 0}, {"i": 2006, "len": 43, "is_even": 1}, {"i": 2007, "len": 43, "is_even": 0}, {"i": 2008, "len": 69, "is_even": 1}, {"i": 2009, "len": 25, "is_even": 0}, {"i": 2010, "len": 69, "is_even": 1}, {"i": 2011, "len": 43, "is_even": 0}, {"i": 2012, "len": 69, "is_even": 1}, {"i": 2013, "len": 69, "is_even": 0}, {"i": 2014, "len": 95, "is_even": 1}, {"i": 2015, "len": 95, "is_even": 0}, {"i": 2016, "len": 113, "is_even": 1}, {"i": 2017, "len": 69, "is_even": 0}, {"i": 2018, "len": 113, "is_even": 1}, {"i": 2019, "len": 113, "is_even": 0}, {"i": 2020, "len": 64, "is_even": 1}, {"i": 2021, "len": 64, "is_even": 0}, {"i": 2022, "len": 64, "is_even": 1}, {"i": 2023, "len": 157, "is_even": 0}, {"i": 2024, "len": 113, "is_even": 1}, {"i": 2025, "len": 157, "is_even": 0}, {"i": 2026, "len": 113, "is_even": 1}, {"i": 2027, "len": 157, "is_even": 0}, {"i": 2028, "len": 38, "is_even": 1}, {"i": 2029, "len": 38, "is_even": 0}, {"i": 2030, "len": 38, "is_even": 1}, {"i": 2031, "len": 64, "is_even": 0}, {"i": 2032, "len": 51, "is_even": 1}, {"i": 2033, "len": 113, "is_even": 0}, {"i": 2034, "len": 157, "is_even": 1}, {"i": 2035, "len": 157, "is_even": 0}, {"i": 2036, "len": 51, "is_even": 1}, {"i": 2037, "len": 51, "is_even": 0}, {"i": 2038, "len": 64, "is_even": 1}, {"i": 2039, "len": 64, "is_even": 0}, {"i": 2040, "len": 51, "is_even": 1}, {"i": 2041, "len": 64, "is_even": 0}, {"i": 2042, "len": 51, "is_even": 1}, {"i": 2043, "len": 157, "is_even": 0}, {"i": 2044, "len": 64, "is_even": 1}, {"i": 2045, "len": 64, "is_even": 0}, {"i": 2046, "len": 64, "is_even": 1}, {"i": 2047, "len": 157, "is_even": 0}, {"i": 2048, "len": 12, "is_even": 1}, {"i": 2049, "len": 157, "is_even": 0}, {"i": 2050, "len": 38, "is_even": 1}, {"i": 2051, "len": 38, "is_even": 0}, {"i": 2052, "len": 38, "is_even": 1}, {"i": 2053, "len": 38, "is_even": 0}, {"i": 2054, "len": 38, "is_even": 1}, {"i": 2055, "len": 38, "is_even": 0}, {"i": 2056, "len": 126, "is_even": 1}, {"i": 2057, "len": 113, "is_even": 0}, {"i": 2058, "len": 126, "is_even": 1}, {"i": 2059, "len": 38, "is_even": 0}, {"i": 2060, "len": 126, "is_even": 1}, {"i": 2061, "len": 126, "is_even": 0}, {"i": 2062, "len": 38, "is_even": 1}, {"i": 2063, "len": 38, "is_even": 0}, {"i": 2064, "len": 126, "is_even": 1}, {"i": 2065, "len": 126, "is_even": 0}, {"i": 2066, "len": 157, "is_even": 1}, {"i": 2067, "len": 157, "is_even": 0}, {"i": 2068, "len": 126, "is_even": 1}, {"i": 2069, "len": 126, "is_even": 0}, {"i": 2070, "len": 126, "is_even": 1}, {"i": 2071, "len": 126, "is_even": 0}, {"i": 2072, "len": 126, "is_even": 1}, {"i": 2073, "len": 38, "is_even": 0}, {"i": 2074, "len": 126, "is_even": 1}, {"i": 2075, "len": 95, "is_even": 0}, {"i": 2076, "len": 64, "is_even": 1}, {"i": 2077, "len": 64, "is_even": 0}, {"i": 2078, "len": 64, "is_even": 1}, {"i": 2079, "len": 51, "is_even": 0}, {"i": 2080, "len": 33, "is_even": 1}, {"i": 2081, "len": 64, "is_even": 0}, {"i": 2082, "len": 126, "is_even": 1}, {"i": 2083, "len": 126, "is_even": 0}, {"i": 2084, "len": 126, "is_even": 1}, {"i": 2085, "len": 126, "is_even": 0}, {"i": 2086, "len": 126, "is_even": 1}, {"i": 2087, "len": 113, "is_even": 0}, {"i": 2088, "len": 33, "is_even": 1}, {"i": 2089, "len": 64, "is_even": 0}, {"i": 2090, "len": 33, "is_even": 1}, {"i": 2091, "len": 38, "is_even": 0}, {"i": 2092, "len": 126, "is_even": 1}, {"i": 2093, "len": 126, "is_even": 0}, {"i": 2094, "len": 126, "is_even": 1}, {"i": 2095, "len": 108, "is_even": 0}, {"i": 2096, "len": 33, "is_even": 1}, {"i": 2097, "len": 64, "is_even": 0}, {"i": 2098, "len": 64, "is_even": 1}, {"i": 2099, "len": 64, "is_even": 0}, {"i": 2100, "len": 33, "is_even": 1}, {"i": 2101, "len": 33, "is_even": 0}, {"i": 2102, "len": 95, "is_even": 1}, {"i": 2103, "len": 95, "is_even": 0}, {"i": 2104, "len": 82, "is_even": 1}, {"i": 2105, "len": 126, "is_even": 0}, {"i": 2106, "len": 82, "is_even": 1}, {"i": 2107, "len": 157, "is_even": 0}, {"i": 2108, "len": 82, "is_even": 1}, {"i": 2109, "len": 82, "is_even": 0}, {"i": 2110, "len": 170, "is_even": 1}, {"i": 2111, "len": 170, "is_even": 0}, {"i": 2112, "len": 33, "is_even": 1}, {"i": 2113, "len": 82, "is_even": 0}, {"i": 2114, "len": 82, "is_even": 1}, {"i": 2115, "len": 82, "is_even": 0}, {"i": 2116, "len": 33, "is_even": 1}, {"i": 2117, "len": 33, "is_even": 0}, {"i": 2118, "len": 33, "is_even": 1}, {"i": 2119, "len": 82, "is_even": 0}, {"i": 2120, "len": 126, "is_even": 1}, {"i": 2121, "len": 108, "is_even": 0}, {"i": 2122, "len": 126, "is_even": 1}, {"i": 2123, "len": 33, "is_even": 0}, {"i": 2124, "len": 126, "is_even": 1}, {"i": 2125, "len": 126, "is_even": 0}, {"i": 2126, "len": 77, "is_even": 1}, {"i": 2127, "len": 77, "is_even": 0}, {"i": 2128, "len": 33, "is_even": 1}, {"i": 2129, "len": 126, "is_even": 0}, {"i": 2130, "len": 77, "is_even": 1}, {"i": 2131, "len": 77, "is_even": 0}, {"i": 2132, "len": 33, "is_even": 1}, {"i": 2133, "len": 33, "is_even": 0}, {"i": 2134, "len": 64, "is_even": 1}, {"i": 2135, "len": 64, "is_even": 0}, {"i": 2136, "len": 25, "is_even": 1}, {"i": 2137, "len": 64, "is_even": 0}, {"i": 2138, "len": 25, "is_even": 1}, {"i": 2139, "len": 77, "is_even": 0}, {"i": 2140, "len": 25, "is_even": 1}, {"i": 2141, "len": 25, "is_even": 0}, {"i": 2142, "len": 170, "is_even": 1}, {"i": 2143, "len": 170, "is_even": 0}, {"i": 2144, "len": 33, "is_even": 1}, {"i": 2145, "len": 77, "is_even": 0}, {"i": 2146, "len": 25, "is_even": 1}, {"i": 2147, "len": 25, "is_even": 0}, {"i": 2148, "len": 25, "is_even": 1}, {"i": 2149, "len": 25, "is_even": 0}, {"i": 2150, "len": 25, "is_even": 1}, {"i": 2151, "len": 108, "is_even": 0}, {"i": 2152, "len": 33, "is_even": 1}, {"i": 2153, "len": 77, "is_even": 0}, {"i": 2154, "len": 33, "is_even": 1}, {"i": 2155, "len": 170, "is_even": 0}, {"i": 2156, "len": 51, "is_even": 1}, {"i": 2157, "len": 51, "is_even": 0}, {"i": 2158, "len": 51, "is_even": 1}, {"i": 2159, "len": 126, "is_even": 0}, {"i": 2160, "len": 46, "is_even": 1}, {"i": 2161, "len": 33, "is_even": 0}, {"i": 2162, "len": 139, "is_even": 1}, {"i": 2163, "len": 139, "is_even": 0}, {"i": 2164, "len": 46, "is_even": 1}, {"i": 2165, "len": 46, "is_even": 0}, {"i": 2166, "len": 139, "is_even": 1}, {"i": 2167, "len": 139, "is_even": 0}, {"i": 2168, "len": 46, "is_even": 1}, {"i": 2169, "len": 77, "is_even": 0}, {"i": 2170, "len": 46, "is_even": 1}, {"i": 2171, "len": 51, "is_even": 0}, {"i": 2172, "len": 139, "is_even": 1}, {"i": 2173, "len": 139, "is_even": 0}, {"i": 2174, "len": 139, "is_even": 1}, {"i": 2175, "len": 77, "is_even": 0}, {"i": 2176, "len": 20, "is_even": 1}, {"i": 2177, "len": 139, "is_even": 0}, {"i": 2178, "len": 46, "is_even": 1}, {"i": 2179, "len": 46, "is_even": 0}, {"i": 2180, "len": 46, "is_even": 1}, {"i": 2181, "len": 46, "is_even": 0}, {"i": 2182, "len": 46, "is_even": 1}, {"i": 2183, "len": 139, "is_even": 0}, {"i": 2184, "len": 33, "is_even": 1}, {"i": 2185, "len": 108, "is_even": 0}, {"i": 2186, "len": 33, "is_even": 1}, {"i": 2187, "len": 77, "is_even": 0}, {"i": 2188, "len": 33, "is_even": 1}, {"i": 2189, "len": 33, "is_even": 0}, {"i": 2190, "len": 77, "is_even": 1}, {"i": 2191, "len": 77, "is_even": 0}, {"i": 2192, "len": 95, "is_even": 1}, {"i": 2193, "len": 139, "is_even": 0}, {"i": 2194, "len": 139, "is_even": 1}, {"i": 2195, "len": 139, "is_even": 0}, {"i": 2196, "len": 95, "is_even": 1}, {"i": 2197, "len": 95, "is_even": 0}, {"i": 2198, "len": 33, "is_even": 1}, {"i": 2199, "len": 33, "is_even": 0}, {"i": 2200, "len": 95, "is_even": 1}, {"i": 2201, "len": 139, "is_even": 0}, {"i": 2202, "len": 95, "is_even": 1}, {"i": 2203, "len": 51, "is_even": 0}, {"i": 2204, "len": 46, "is_even": 1}, {"i": 2205, "len": 46, "is_even": 0}, {"i": 2206, "len": 46, "is_even": 1}, {"i": 2207, "len": 170, "is_even": 0}, {"i": 2208, "len": 20, "is_even": 1}, {"i": 2209, "len": 77, "is_even": 0}, {"i": 2210, "len": 95, "is_even": 1}, {"i": 2211, "len": 95, "is_even": 0}, {"i": 2212, "len": 139, "is_even": 1}, {"i": 2213, "len": 139, "is_even": 0}, {"i": 2214, "len": 139, "is_even": 1}, {"i": 2215, "len": 121, "is_even": 0}, {"i": 2216, "len": 20, "is_even": 1}, {"i": 2217, "len": 77, "is_even": 0}, {"i": 2218, "len": 20, "is_even": 1}, {"i": 2219, "len": 95, "is_even": 0}, {"i": 2220, "len": 33, "is_even": 1}, {"i": 2221, "len": 33, "is_even": 0}, {"i": 2222, "len": 33, "is_even": 1}, {"i": 2223, "len": 183, "is_even": 0}, {"i": 2224, "len": 46, "is_even": 1}, {"i": 2225, "len": 139, "is_even": 0}, {"i": 2226, "len": 139, "is_even": 1}, {"i": 2227, "len": 139, "is_even": 0}, {"i": 2228, "len": 46, "is_even": 1}, {"i": 2229, "len": 46, "is_even": 0}, {"i": 2230, "len": 95, "is_even": 1}, {"i": 2231, "len": 95, "is_even": 0}, {"i": 2232, "len": 46, "is_even": 1}, {"i": 2233, "len": 139, "is_even": 0}, {"i": 2234, "len": 46, "is_even": 1}, {"i": 2235, "len": 46, "is_even": 0}, {"i": 2236, "len": 90, "is_even": 1}, {"i": 2237, "len": 90, "is_even": 0}, {"i": 2238, "len": 90, "is_even": 1}, {"i": 2239, "len": 139, "is_even": 0}, {"i": 2240, "len": 20, "is_even": 1}, {"i": 2241, "len": 46, "is_even": 0}, {"i": 2242, "len": 46, "is_even": 1}, {"i": 2243, "len": 46, "is_even": 0}, {"i": 2244, "len": 46, "is_even": 1}, {"i": 2245, "len": 46, "is_even": 0}, {"i": 2246, "len": 46, "is_even": 1}, {"i": 2247, "len": 77, "is_even": 0}, {"i": 2248, "len": 46, "is_even": 1}, {"i": 2249, "len": 46, "is_even": 0}, {"i": 2250, "len": 46, "is_even": 1}, {"i": 2251, "len": 38, "is_even": 0}, {"i": 2252, "len": 46, "is_even": 1}, {"i": 2253, "len": 46, "is_even": 0}, {"i": 2254, "len": 139, "is_even": 1}, {"i": 2255, "len": 139, "is_even": 0}, {"i": 2256, "len": 20, "is_even": 1}, {"i": 2257, "len": 38, "is_even": 0}, {"i": 2258, "len": 38, "is_even": 1}, {"i": 2259, "len": 38, "is_even": 0}, {"i": 2260, "len": 20, "is_even": 1}, {"i": 2261, "len": 20, "is_even": 0}, {"i": 2262, "len": 38, "is_even": 1}, {"i": 2263, "len": 38, "is_even": 0}, {"i": 2264, "len": 64, "is_even": 1}, {"i": 2265, "len": 64, "is_even": 0}, {"i": 2266, "len": 64, "is_even": 1}, {"i": 2267, "len": 90, "is_even": 0}, {"i": 2268, "len": 64, "is_even": 1}, {"i": 2269, "len": 64, "is_even": 0}, {"i": 2270, "len": 64, "is_even": 1}, {"i": 2271, "len": 64, "is_even": 0}, {"i": 2272, "len": 108, "is_even": 1}, {"i": 2273, "len": 139, "is_even": 0}, {"i": 2274, "len": 20, "is_even": 1}, {"i": 2275, "len": 20, "is_even": 0}, {"i": 2276, "len": 59, "is_even": 1}, {"i": 2277, "len": 59, "is_even": 0}, {"i": 2278, "len": 59, "is_even": 1}, {"i": 2279, "len": 152, "is_even": 0}, {"i": 2280, "len": 108, "is_even": 1}, {"i": 2281, "len": 152, "is_even": 0}, {"i": 2282, "len": 108, "is_even": 1}, {"i": 2283, "len": 59, "is_even": 0}, {"i": 2284, "len": 33, "is_even": 1}, {"i": 2285, "len": 33, "is_even": 0}, {"i": 2286, "len": 33, "is_even": 1}, {"i": 2287, "len": 121, "is_even": 0}, {"i": 2288, "len": 108, "is_even": 1}, {"i": 2289, "len": 108, "is_even": 0}, {"i": 2290, "len": 152, "is_even": 1}, {"i": 2291, "len": 152, "is_even": 0}, {"i": 2292, "len": 108, "is_even": 1}, {"i": 2293, "len": 108, "is_even": 0}, {"i": 2294, "len": 59, "is_even": 1}, {"i": 2295, "len": 59, "is_even": 0}, {"i": 2296, "len": 46, "is_even": 1}, {"i": 2297, "len": 59, "is_even": 0}, {"i": 2298, "len": 46, "is_even": 1}, {"i": 2299, "len": 152, "is_even": 0}, {"i": 2300, "len": 46, "is_even": 1}, {"i": 2301, "len": 46, "is_even": 0}, {"i": 2302, "len": 59, "is_even": 1}, {"i": 2303, "len": 59, "is_even": 0}, {"i": 2304, "len": 28, "is_even": 1}, {"i": 2305, "len": 108, "is_even": 0}, {"i": 2306, "len": 152, "is_even": 1}, {"i": 2307, "len": 152, "is_even": 0}, {"i": 2308, "len": 33, "is_even": 1}, {"i": 2309, "len": 33, "is_even": 0}, {"i": 2310, "len": 33, "is_even": 1}, {"i": 2311, "len": 152, "is_even": 0}, {"i": 2312, "len": 33, "is_even": 1}, {"i": 2313, "len": 108, "is_even": 0}, {"i": 2314, "len": 33, "is_even": 1}, {"i": 2315, "len": 108, "is_even": 0}, {"i": 2316, "len": 33, "is_even": 1}, {"i": 2317, "len": 33, "is_even": 0}, {"i": 2318, "len": 59, "is_even": 1}, {"i": 2319, "len": 59, "is_even": 0}, {"i": 2320, "len": 121, "is_even": 1}, {"i": 2321, "len": 33, "is_even": 0}, {"i": 2322, "len": 183, "is_even": 1}, {"i": 2323, "len": 183, "is_even": 0}, {"i": 2324, "len": 121, "is_even": 1}, {"i": 2325, "len": 121, "is_even": 0}, {"i": 2326, "len": 152, "is_even": 1}, {"i": 2327, "len": 152, "is_even": 0}, {"i": 2328, "len": 121, "is_even": 1}, {"i": 2329, "len": 152, "is_even": 0}, {"i": 2330, "len": 121, "is_even": 1}, {"i": 2331, "len": 108, "is_even": 0}, {"i": 2332, "len": 33, "is_even": 1}, {"i": 2333, "len": 33, "is_even": 0}, {"i": 2334, "len": 33, "is_even": 1}, {"i": 2335, "len": 90, "is_even": 0}, {"i": 2336, "len": 121, "is_even": 1}, {"i": 2337, "len": 59, "is_even": 0}, {"i": 2338, "len": 59, "is_even": 1}, {"i": 2339, "len": 59, "is_even": 0}, {"i": 2340, "len": 59, "is_even": 1}, {"i": 2341, "len": 59, "is_even": 0}, {"i": 2342, "len": 59, "is_even": 1}, {"i": 2343, "len": 152, "is_even": 0}, {"i": 2344, "len": 121, "is_even": 1}, {"i": 2345, "len": 152, "is_even": 0}, {"i": 2346, "len": 121, "is_even": 1}, {"i": 2347, "len": 108, "is_even": 0}, {"i": 2348, "len": 121, "is_even": 1}, {"i": 2349, "len": 121, "is_even": 0}, {"i": 2350, "len": 121, "is_even": 1}, {"i": 2351, "len": 59, "is_even": 0}, {"i": 2352, "len": 121, "is_even": 1}, {"i": 2353, "len": 33, "is_even": 0}, {"i": 2354, "len": 33, "is_even": 1}, {"i": 2355, "len": 33, "is_even": 0}, {"i": 2356, "len": 121, "is_even": 1}, {"i": 2357, "len": 121, "is_even": 0}, {"i": 2358, "len": 59, "is_even": 1}, {"i": 2359, "len": 59, "is_even": 0}, {"i": 2360, "len": 59, "is_even": 1}, {"i": 2361, "len": 59, "is_even": 0}, {"i": 2362, "len": 59, "is_even": 1}, {"i": 2363, "len": 59, "is_even": 0}, {"i": 2364, "len": 59, "is_even": 1}, {"i": 2365, "len": 59, "is_even": 0}, {"i": 2366, "len": 90, "is_even": 1}, {"i": 2367, "len": 90, "is_even": 0}, {"i": 2368, "len": 28, "is_even": 1}, {"i": 2369, "len": 121, "is_even": 0}, {"i": 2370, "len": 152, "is_even": 1}, {"i": 2371, "len": 152, "is_even": 0}, {"i": 2372, "len": 77, "is_even": 1}, {"i": 2373, "len": 77, "is_even": 0}, {"i": 2374, "len": 77, "is_even": 1}, {"i": 2375, "len": 165, "is_even": 0}, {"i": 2376, "len": 77, "is_even": 1}, {"i": 2377, "len": 51, "is_even": 0}, {"i": 2378, "len": 77, "is_even": 1}, {"i": 2379, "len": 77, "is_even": 0}, {"i": 2380, "len": 77, "is_even": 1}, {"i": 2381, "len": 77, "is_even": 0}, {"i": 2382, "len": 51, "is_even": 1}, {"i": 2383, "len": 51, "is_even": 0}, {"i": 2384, "len": 28, "is_even": 1}, {"i": 2385, "len": 103, "is_even": 0}, {"i": 2386, "len": 103, "is_even": 1}, {"i": 2387, "len": 103, "is_even": 0}, {"i": 2388, "len": 28, "is_even": 1}, {"i": 2389, "len": 28, "is_even": 0}, {"i": 2390, "len": 121, "is_even": 1}, {"i": 2391, "len": 121, "is_even": 0}, {"i": 2392, "len": 121, "is_even": 1}, {"i": 2393, "len": 72, "is_even": 0}, {"i": 2394, "len": 121, "is_even": 1}, {"i": 2395, "len": 33, "is_even": 0}, {"i": 2396, "len": 121, "is_even": 1}, {"i": 2397, "len": 121, "is_even": 0}, {"i": 2398, "len": 72, "is_even": 1}, {"i": 2399, "len": 72, "is_even": 0}, {"i": 2400, "len": 20, "is_even": 1}, {"i": 2401, "len": 165, "is_even": 0}, {"i": 2402, "len": 59, "is_even": 1}, {"i": 2403, "len": 59, "is_even": 0}, {"i": 2404, "len": 59, "is_even": 1}, {"i": 2405, "len": 59, "is_even": 0}, {"i": 2406, "len": 59, "is_even": 1}, {"i": 2407, "len": 72, "is_even": 0}, {"i": 2408, "len": 20, "is_even": 1}, {"i": 2409, "len": 121, "is_even": 0}, {"i": 2410, "len": 20, "is_even": 1}, {"i": 2411, "len": 165, "is_even": 0}, {"i": 2412, "len": 72, "is_even": 1}, {"i": 2413, "len": 72, "is_even": 0}, {"i": 2414, "len": 72, "is_even": 1}, {"i": 2415, "len": 121, "is_even": 0}, {"i": 2416, "len": 20, "is_even": 1}, {"i": 2417, "len": 20, "is_even": 0}, {"i": 2418, "len": 59, "is_even": 1}, {"i": 2419, "len": 59, "is_even": 0}, {"i": 2420, "len": 20, "is_even": 1}, {"i": 2421, "len": 20, "is_even": 0}, {"i": 2422, "len": 72, "is_even": 1}, {"i": 2423, "len": 72, "is_even": 0}, {"i": 2424, "len": 46, "is_even": 1}, {"i": 2425, "len": 165, "is_even": 0}, {"i": 2426, "len": 46, "is_even": 1}, {"i": 2427, "len": 121, "is_even": 0}, {"i": 2428, "len": 46, "is_even": 1}, {"i": 2429, "len": 46, "is_even": 0}, {"i": 2430, "len": 165, "is_even": 1}, {"i": 2431, "len": 165, "is_even": 0}, {"i": 2432, "len": 28, "is_even": 1}, {"i": 2433, "len": 46, "is_even": 0}, {"i": 2434, "len": 134, "is_even": 1}, {"i": 2435, "len": 134, "is_even": 0}, {"i": 2436, "len": 134, "is_even": 1}, {"i": 2437, "len": 134, "is_even": 0}, {"i": 2438, "len": 134, "is_even": 1}, {"i": 2439, "len": 134, "is_even": 0}, {"i": 2440, "len": 41, "is_even": 1}, {"i": 2441, "len": 72, "is_even": 0}, {"i": 2442, "len": 41, "is_even": 1}, {"i": 2443, "len": 46, "is_even": 0}, {"i": 2444, "len": 41, "is_even": 1}, {"i": 2445, "len": 41, "is_even": 0}, {"i": 2446, "len": 134, "is_even": 1}, {"i": 2447, "len": 134, "is_even": 0}, {"i": 2448, "len": 41, "is_even": 1}, {"i": 2449, "len": 134, "is_even": 0}, {"i": 2450, "len": 134, "is_even": 1}, {"i": 2451, "len": 134, "is_even": 0}, {"i": 2452, "len": 41, "is_even": 1}, {"i": 2453, "len": 41, "is_even": 0}, {"i": 2454, "len": 134, "is_even": 1}, {"i": 2455, "len": 134, "is_even": 0}, {"i": 2456, "len": 41, "is_even": 1}, {"i": 2457, "len": 134, "is_even": 0}, {"i": 2458, "len": 41, "is_even": 1}, {"i": 2459, "len": 103, "is_even": 0}, {"i": 2460, "len": 72, "is_even": 1}, {"i": 2461, "len": 72, "is_even": 0}, {"i": 2462, "len": 72, "is_even": 1}, {"i": 2463, "len": 209, "is_even": 0}, {"i": 2464, "len": 28, "is_even": 1}, {"i": 2465, "len": 72, "is_even": 0}, {"i": 2466, "len": 134, "is_even": 1}, {"i": 2467, "len": 134, "is_even": 0}, {"i": 2468, "len": 134, "is_even": 1}, {"i": 2469, "len": 134, "is_even": 0}, {"i": 2470, "len": 134, "is_even": 1}, {"i": 2471, "len": 134, "is_even": 0}, {"i": 2472, "len": 28, "is_even": 1}, {"i": 2473, "len": 121, "is_even": 0}, {"i": 2474, "len": 28, "is_even": 1}, {"i": 2475, "len": 72, "is_even": 0}, {"i": 2476, "len": 134, "is_even": 1}, {"i": 2477, "len": 134, "is_even": 0}, {"i": 2478, "len": 134, "is_even": 1}, {"i": 2479, "len": 46, "is_even": 0}, {"i": 2480, "len": 90, "is_even": 1}, {"i": 2481, "len": 41, "is_even": 0}, {"i": 2482, "len": 41, "is_even": 1}, {"i": 2483, "len": 41, "is_even": 0}, {"i": 2484, "len": 90, "is_even": 1}, {"i": 2485, "len": 90, "is_even": 0}, {"i": 2486, "len": 72, "is_even": 1}, {"i": 2487, "len": 72, "is_even": 0}, {"i": 2488, "len": 90, "is_even": 1}, {"i": 2489, "len": 41, "is_even": 0}, {"i": 2490, "len": 90, "is_even": 1}, {"i": 2491, "len": 103, "is_even": 0}, {"i": 2492, "len": 134, "is_even": 1}, {"i": 2493, "len": 134, "is_even": 0}, {"i": 2494, "len": 134, "is_even": 1}, {"i": 2495, "len": 72, "is_even": 0}, {"i": 2496, "len": 41, "is_even": 1}, {"i": 2497, "len": 90, "is_even": 0}, {"i": 2498, "len": 178, "is_even": 1}, {"i": 2499, "len": 178, "is_even": 0}, {"i": 2500, "len": 28, "is_even": 1}, {"i": 2501, "len": 28, "is_even": 0}, {"i": 2502, "len": 28, "is_even": 1}, {"i": 2503, "len": 64, "is_even": 0}, {"i": 2504, "len": 134, "is_even": 1}, {"i": 2505, "len": 90, "is_even": 0}, {"i": 2506, "len": 134, "is_even": 1}, {"i": 2507, "len": 41, "is_even": 0}, {"i": 2508, "len": 134, "is_even": 1}, {"i": 2509, "len": 134, "is_even": 0}, {"i": 2510, "len": 90, "is_even": 1}, {"i": 2511, "len": 90, "is_even": 0}, {"i": 2512, "len": 41, "is_even": 1}, {"i": 2513, "len": 134, "is_even": 0}, {"i": 2514, "len": 41, "is_even": 1}, {"i": 2515, "len": 41, "is_even": 0}, {"i": 2516, "len": 41, "is_even": 1}, {"i": 2517, "len": 41, "is_even": 0}, {"i": 2518, "len": 85, "is_even": 1}, {"i": 2519, "len": 85, "is_even": 0}, {"i": 2520, "len": 41, "is_even": 1}, {"i": 2521, "len": 41, "is_even": 0}, {"i": 2522, "len": 41, "is_even": 1}, {"i": 2523, "len": 134, "is_even": 0}, {"i": 2524, "len": 41, "is_even": 1}, {"i": 2525, "len": 41, "is_even": 0}, {"i": 2526, "len": 178, "is_even": 1}, {"i": 2527, "len": 178, "is_even": 0}, {"i": 2528, "len": 41, "is_even": 1}, {"i": 2529, "len": 72, "is_even": 0}, {"i": 2530, "len": 41, "is_even": 1}, {"i": 2531, "len": 41, "is_even": 0}, {"i": 2532, "len": 33, "is_even": 1}, {"i": 2533, "len": 33, "is_even": 0}, {"i": 2534, "len": 33, "is_even": 1}, {"i": 2535, "len": 85, "is_even": 0}, {"i": 2536, "len": 41, "is_even": 1}, {"i": 2537, "len": 134, "is_even": 0}, {"i": 2538, "len": 41, "is_even": 1}, {"i": 2539, "len": 178, "is_even": 0}, {"i": 2540, "len": 33, "is_even": 1}, {"i": 2541, "len": 33, "is_even": 0}, {"i": 2542, "len": 33, "is_even": 1}, {"i": 2543, "len": 178, "is_even": 0}, {"i": 2544, "len": 59, "is_even": 1}, {"i": 2545, "len": 41, "is_even": 0}, {"i": 2546, "len": 33, "is_even": 1}, {"i": 2547, "len": 33, "is_even": 0}, {"i": 2548, "len": 59, "is_even": 1}, {"i": 2549, "len": 59, "is_even": 0}, {"i": 2550, "len": 85, "is_even": 1}, {"i": 2551, "len": 85, "is_even": 0}, {"i": 2552, "len": 59, "is_even": 1}, {"i": 2553, "len": 178, "is_even": 0}, {"i": 2554, "len": 59, "is_even": 1}, {"i": 2555, "len": 59, "is_even": 0}, {"i": 2556, "len": 134, "is_even": 1}, {"i": 2557, "len": 134, "is_even": 0}, {"i": 2558, "len": 134, "is_even": 1}, {"i": 2559, "len": 116, "is_even": 0}, {"i": 2560, "len": 15, "is_even": 1}, {"i": 2561, "len": 147, "is_even": 0}, {"i": 2562, "len": 54, "is_even": 1}, {"i": 2563, "len": 54, "is_even": 0}, {"i": 2564, "len": 54, "is_even": 1}, {"i": 2565, "len": 54, "is_even": 0}, {"i": 2566, "len": 54, "is_even": 1}, {"i": 2567, "len": 147, "is_even": 0}, {"i": 2568, "len": 28, "is_even": 1}, {"i": 2569, "len": 54, "is_even": 0}, {"i": 2570, "len": 28, "is_even": 1}, {"i": 2571, "len": 54, "is_even": 0}, {"i": 2572, "len": 28, "is_even": 1}, {"i": 2573, "len": 28, "is_even": 0}, {"i": 2574, "len": 147, "is_even": 1}, {"i": 2575, "len": 147, "is_even": 0}, {"i": 2576, "len": 103, "is_even": 1}, {"i": 2577, "len": 28, "is_even": 0}, {"i": 2578, "len": 147, "is_even": 1}, {"i": 2579, "len": 147, "is_even": 0}, {"i": 2580, "len": 103, "is_even": 1}, {"i": 2581, "len": 103, "is_even": 0}, {"i": 2582, "len": 54, "is_even": 1}, {"i": 2583, "len": 54, "is_even": 0}, {"i": 2584, "len": 103, "is_even": 1}, {"i": 2585, "len": 54, "is_even": 0}, {"i": 2586, "len": 103, "is_even": 1}, {"i": 2587, "len": 147, "is_even": 0}, {"i": 2588, "len": 41, "is_even": 1}, {"i": 2589, "len": 41, "is_even": 0}, {"i": 2590, "len": 41, "is_even": 1}, {"i": 2591, "len": 54, "is_even": 0}, {"i": 2592, "len": 28, "is_even": 1}, {"i": 2593, "len": 41, "is_even": 0}, {"i": 2594, "len": 103, "is_even": 1}, {"i": 2595, "len": 103, "is_even": 0}, {"i": 2596, "len": 147, "is_even": 1}, {"i": 2597, "len": 147, "is_even": 0}, {"i": 2598, "len": 147, "is_even": 1}, {"i": 2599, "len": 147, "is_even": 0}, {"i": 2600, "len": 28, "is_even": 1}, {"i": 2601, "len": 178, "is_even": 0}, {"i": 2602, "len": 28, "is_even": 1}, {"i": 2603, "len": 103, "is_even": 0}, {"i": 2604, "len": 103, "is_even": 1}, {"i": 2605, "len": 103, "is_even": 0}, {"i": 2606, "len": 103, "is_even": 1}, {"i": 2607, "len": 85, "is_even": 0}, {"i": 2608, "len": 28, "is_even": 1}, {"i": 2609, "len": 54, "is_even": 0}, {"i": 2610, "len": 54, "is_even": 1}, {"i": 2611, "len": 54, "is_even": 0}, {"i": 2612, "len": 28, "is_even": 1}, {"i": 2613, "len": 28, "is_even": 0}, {"i": 2614, "len": 178, "is_even": 1}, {"i": 2615, "len": 178, "is_even": 0}, {"i": 2616, "len": 147, "is_even": 1}, {"i": 2617, "len": 85, "is_even": 0}, {"i": 2618, "len": 147, "is_even": 1}, {"i": 2619, "len": 103, "is_even": 0}, {"i": 2620, "len": 147, "is_even": 1}, {"i": 2621, "len": 147, "is_even": 0}, {"i": 2622, "len": 103, "is_even": 1}, {"i": 2623, "len": 103, "is_even": 0}, {"i": 2624, "len": 116, "is_even": 1}, {"i": 2625, "len": 28, "is_even": 0}, {"i": 2626, "len": 28, "is_even": 1}, {"i": 2627, "len": 28, "is_even": 0}, {"i": 2628, "len": 54, "is_even": 1}, {"i": 2629, "len": 54, "is_even": 0}, {"i": 2630, "len": 54, "is_even": 1}, {"i": 2631, "len": 191, "is_even": 0}, {"i": 2632, "len": 54, "is_even": 1}, {"i": 2633, "len": 41, "is_even": 0}, {"i": 2634, "len": 54, "is_even": 1}, {"i": 2635, "len": 54, "is_even": 0}, {"i": 2636, "len": 54, "is_even": 1}, {"i": 2637, "len": 54, "is_even": 0}, {"i": 2638, "len": 147, "is_even": 1}, {"i": 2639, "len": 147, "is_even": 0}, {"i": 2640, "len": 116, "is_even": 1}, {"i": 2641, "len": 103, "is_even": 0}, {"i": 2642, "len": 103, "is_even": 1}, {"i": 2643, "len": 103, "is_even": 0}, {"i": 2644, "len": 116, "is_even": 1}, {"i": 2645, "len": 116, "is_even": 0}, {"i": 2646, "len": 54, "is_even": 1}, {"i": 2647, "len": 54, "is_even": 0}, {"i": 2648, "len": 28, "is_even": 1}, {"i": 2649, "len": 98, "is_even": 0}, {"i": 2650, "len": 28, "is_even": 1}, {"i": 2651, "len": 147, "is_even": 0}, {"i": 2652, "len": 28, "is_even": 1}, {"i": 2653, "len": 28, "is_even": 0}, {"i": 2654, "len": 54, "is_even": 1}, {"i": 2655, "len": 54, "is_even": 0}, {"i": 2656, "len": 116, "is_even": 1}, {"i": 2657, "len": 54, "is_even": 0}, {"i": 2658, "len": 54, "is_even": 1}, {"i": 2659, "len": 54, "is_even": 0}, {"i": 2660, "len": 54, "is_even": 1}, {"i": 2661, "len": 54, "is_even": 0}, {"i": 2662, "len": 54, "is_even": 1}, {"i": 2663, "len": 85, "is_even": 0}, {"i": 2664, "len": 116, "is_even": 1}, {"i": 2665, "len": 54, "is_even": 0}, {"i": 2666, "len": 116, "is_even": 1}, {"i": 2667, "len": 46, "is_even": 0}, {"i": 2668, "len": 147, "is_even": 1}, {"i": 2669, "len": 147, "is_even": 0}, {"i": 2670, "len": 147, "is_even": 1}, {"i": 2671, "len": 46, "is_even": 0}, {"i": 2672, "len": 72, "is_even": 1}, {"i": 2673, "len": 116, "is_even": 0}, {"i": 2674, "len": 46, "is_even": 1}, {"i": 2675, "len": 46, "is_even": 0}, {"i": 2676, "len": 72, "is_even": 1}, {"i": 2677, "len": 72, "is_even": 0}, {"i": 2678, "len": 28, "is_even": 1}, {"i": 2679, "len": 28, "is_even": 0}, {"i": 2680, "len": 72, "is_even": 1}, {"i": 2681, "len": 46, "is_even": 0}, {"i": 2682, "len": 72, "is_even": 1}, {"i": 2683, "len": 72, "is_even": 0}, {"i": 2684, "len": 98, "is_even": 1}, {"i": 2685, "len": 98, "is_even": 0}, {"i": 2686, "len": 98, "is_even": 1}, {"i": 2687, "len": 98, "is_even": 0}, {"i": 2688, "len": 15, "is_even": 1}, {"i": 2689, "len": 72, "is_even": 0}, {"i": 2690, "len": 116, "is_even": 1}, {"i": 2691, "len": 116, "is_even": 0}, {"i": 2692, "len": 67, "is_even": 1}, {"i": 2693, "len": 67, "is_even": 0}, {"i": 2694, "len": 67, "is_even": 1}, {"i": 2695, "len": 28, "is_even": 0}, {"i": 2696, "len": 116, "is_even": 1}, {"i": 2697, "len": 160, "is_even": 0}, {"i": 2698, "len": 116, "is_even": 1}, {"i": 2699, "len": 67, "is_even": 0}, {"i": 2700, "len": 116, "is_even": 1}, {"i": 2701, "len": 116, "is_even": 0}, {"i": 2702, "len": 160, "is_even": 1}, {"i": 2703, "len": 160, "is_even": 0}, {"i": 2704, "len": 54, "is_even": 1}, {"i": 2705, "len": 41, "is_even": 0}, {"i": 2706, "len": 41, "is_even": 1}, {"i": 2707, "len": 41, "is_even": 0}, {"i": 2708, "len": 54, "is_even": 1}, {"i": 2709, "len": 54, "is_even": 0}, {"i": 2710, "len": 116, "is_even": 1}, {"i": 2711, "len": 116, "is_even": 0}, {"i": 2712, "len": 54, "is_even": 1}, {"i": 2713, "len": 160, "is_even": 0}, {"i": 2714, "len": 54, "is_even": 1}, {"i": 2715, "len": 98, "is_even": 0}, {"i": 2716, "len": 67, "is_even": 1}, {"i": 2717, "len": 67, "is_even": 0}, {"i": 2718, "len": 67, "is_even": 1}, {"i": 2719, "len": 67, "is_even": 0}, {"i": 2720, "len": 15, "is_even": 1}, {"i": 2721, "len": 67, "is_even": 0}, {"i": 2722, "len": 54, "is_even": 1}, {"i": 2723, "len": 54, "is_even": 0}, {"i": 2724, "len": 67, "is_even": 1}, {"i": 2725, "len": 67, "is_even": 0}, {"i": 2726, "len": 67, "is_even": 1}, {"i": 2727, "len": 129, "is_even": 0}, {"i": 2728, "len": 15, "is_even": 1}, {"i": 2729, "len": 160, "is_even": 0}, {"i": 2730, "len": 15, "is_even": 1}, {"i": 2731, "len": 116, "is_even": 0}, {"i": 2732, "len": 41, "is_even": 1}, {"i": 2733, "len": 41, "is_even": 0}, {"i": 2734, "len": 41, "is_even": 1}, {"i": 2735, "len": 160, "is_even": 0}, {"i": 2736, "len": 129, "is_even": 1}, {"i": 2737, "len": 41, "is_even": 0}, {"i": 2738, "len": 41, "is_even": 1}, {"i": 2739, "len": 41, "is_even": 0}, {"i": 2740, "len": 129, "is_even": 1}, {"i": 2741, "len": 129, "is_even": 0}, {"i": 2742, "len": 116, "is_even": 1}, {"i": 2743, "len": 116, "is_even": 0}, {"i": 2744, "len": 129, "is_even": 1}, {"i": 2745, "len": 41, "is_even": 0}, {"i": 2746, "len": 129, "is_even": 1}, {"i": 2747, "len": 67, "is_even": 0}, {"i": 2748, "len": 41, "is_even": 1}, {"i": 2749, "len": 41, "is_even": 0}, {"i": 2750, "len": 41, "is_even": 1}, {"i": 2751, "len": 173, "is_even": 0}, {"i": 2752, "len": 36, "is_even": 1}, {"i": 2753, "len": 129, "is_even": 0}, {"i": 2754, "len": 160, "is_even": 1}, {"i": 2755, "len": 160, "is_even": 0}, {"i": 2756, "len": 129, "is_even": 1}, {"i": 2757, "len": 129, "is_even": 0}, {"i": 2758, "len": 129, "is_even": 1}, {"i": 2759, "len": 160, "is_even": 0}, {"i": 2760, "len": 129, "is_even": 1}, {"i": 2761, "len": 129, "is_even": 0}, {"i": 2762, "len": 129, "is_even": 1}, {"i": 2763, "len": 41, "is_even": 0}, {"i": 2764, "len": 129, "is_even": 1}, {"i": 2765, "len": 129, "is_even": 0}, {"i": 2766, "len": 98, "is_even": 1}, {"i": 2767, "len": 98, "is_even": 0}, {"i": 2768, "len": 36, "is_even": 1}, {"i": 2769, "len": 67, "is_even": 0}, {"i": 2770, "len": 67, "is_even": 1}, {"i": 2771, "len": 67, "is_even": 0}, {"i": 2772, "len": 36, "is_even": 1}, {"i": 2773, "len": 36, "is_even": 0}, {"i": 2774, "len": 67, "is_even": 1}, {"i": 2775, "len": 67, "is_even": 0}, {"i": 2776, "len": 129, "is_even": 1}, {"i": 2777, "len": 129, "is_even": 0}, {"i": 2778, "len": 129, "is_even": 1}, {"i": 2779, "len": 160, "is_even": 0}, {"i": 2780, "len": 129, "is_even": 1}, {"i": 2781, "len": 129, "is_even": 0}, {"i": 2782, "len": 116, "is_even": 1}, {"i": 2783, "len": 116, "is_even": 0}, {"i": 2784, "len": 36, "is_even": 1}, {"i": 2785, "len": 67, "is_even": 0}, {"i": 2786, "len": 36, "is_even": 1}, {"i": 2787, "len": 36, "is_even": 0}, {"i": 2788, "len": 129, "is_even": 1}, {"i": 2789, "len": 129, "is_even": 0}, {"i": 2790, "len": 129, "is_even": 1}, {"i": 2791, "len": 67, "is_even": 0}, {"i": 2792, "len": 36, "is_even": 1}, {"i": 2793, "len": 111, "is_even": 0}, {"i": 2794, "len": 36, "is_even": 1}, {"i": 2795, "len": 67, "is_even": 0}, {"i": 2796, "len": 67, "is_even": 1}, {"i": 2797, "len": 67, "is_even": 0}, {"i": 2798, "len": 67, "is_even": 1}, {"i": 2799, "len": 67, "is_even": 0}, {"i": 2800, "len": 85, "is_even": 1}, {"i": 2801, "len": 36, "is_even": 0}, {"i": 2802, "len": 98, "is_even": 1}, {"i": 2803, "len": 98, "is_even": 0}, {"i": 2804, "len": 85, "is_even": 1}, {"i": 2805, "len": 85, "is_even": 0}, {"i": 2806, "len": 129, "is_even": 1}, {"i": 2807, "len": 129, "is_even": 0}, {"i": 2808, "len": 85, "is_even": 1}, {"i": 2809, "len": 160, "is_even": 0}, {"i": 2810, "len": 85, "is_even": 1}, {"i": 2811, "len": 59, "is_even": 0}, {"i": 2812, "len": 173, "is_even": 1}, {"i": 2813, "len": 173, "is_even": 0}, {"i": 2814, "len": 173, "is_even": 1}, {"i": 2815, "len": 160, "is_even": 0}, {"i": 2816, "len": 23, "is_even": 1}, {"i": 2817, "len": 85, "is_even": 0}, {"i": 2818, "len": 85, "is_even": 1}, {"i": 2819, "len": 85, "is_even": 0}, {"i": 2820, "len": 36, "is_even": 1}, {"i": 2821, "len": 36, "is_even": 0}, {"i": 2822, "len": 36, "is_even": 1}, {"i": 2823, "len": 59, "is_even": 0}, {"i": 2824, "len": 129, "is_even": 1}, {"i": 2825, "len": 85, "is_even": 0}, {"i": 2826, "len": 129, "is_even": 1}, {"i": 2827, "len": 111, "is_even": 0}, {"i": 2828, "len": 129, "is_even": 1}, {"i": 2829, "len": 129, "is_even": 0}, {"i": 2830, "len": 36, "is_even": 1}, {"i": 2831, "len": 36, "is_even": 0}, {"i": 2832, "len": 36, "is_even": 1}, {"i": 2833, "len": 129, "is_even": 0}, {"i": 2834, "len": 80, "is_even": 1}, {"i": 2835, "len": 80, "is_even": 0}, {"i": 2836, "len": 36, "is_even": 1}, {"i": 2837, "len": 36, "is_even": 0}, {"i": 2838, "len": 129, "is_even": 1}, {"i": 2839, "len": 129, "is_even": 0}, {"i": 2840, "len": 36, "is_even": 1}, {"i": 2841, "len": 80, "is_even": 0}, {"i": 2842, "len": 36, "is_even": 1}, {"i": 2843, "len": 173, "is_even": 0}, {"i": 2844, "len": 67, "is_even": 1}, {"i": 2845, "len": 67, "is_even": 0}, {"i": 2846, "len": 67, "is_even": 1}, {"i": 2847, "len": 173, "is_even": 0}, {"i": 2848, "len": 36, "is_even": 1}, {"i": 2849, "len": 67, "is_even": 0}, {"i": 2850, "len": 28, "is_even": 1}, {"i": 2851, "len": 28, "is_even": 0}, {"i": 2852, "len": 28, "is_even": 1}, {"i": 2853, "len": 28, "is_even": 0}, {"i": 2854, "len": 28, "is_even": 1}, {"i": 2855, "len": 129, "is_even": 0}, {"i": 2856, "len": 36, "is_even": 1}, {"i": 2857, "len": 173, "is_even": 0}, {"i": 2858, "len": 36, "is_even": 1}, {"i": 2859, "len": 80, "is_even": 0}, {"i": 2860, "len": 28, "is_even": 1}, {"i": 2861, "len": 28, "is_even": 0}, {"i": 2862, "len": 28, "is_even": 1}, {"i": 2863, "len": 80, "is_even": 0}, {"i": 2864, "len": 36, "is_even": 1}, {"i": 2865, "len": 28, "is_even": 0}, {"i": 2866, "len": 28, "is_even": 1}, {"i": 2867, "len": 28, "is_even": 0}, {"i": 2868, "len": 36, "is_even": 1}, {"i": 2869, "len": 36, "is_even": 0}, {"i": 2870, "len": 80, "is_even": 1}, {"i": 2871, "len": 80, "is_even": 0}, {"i": 2872, "len": 54, "is_even": 1}, {"i": 2873, "len": 173, "is_even": 0}, {"i": 2874, "len": 54, "is_even": 1}, {"i": 2875, "len": 54, "is_even": 0}, {"i": 2876, "len": 54, "is_even": 1}, {"i": 2877, "len": 54, "is_even": 0}, {"i": 2878, "len": 129, "is_even": 1}, {"i": 2879, "len": 129, "is_even": 0}, {"i": 2880, "len": 23, "is_even": 1}, {"i": 2881, "len": 36, "is_even": 0}, {"i": 2882, "len": 142, "is_even": 1}, {"i": 2883, "len": 142, "is_even": 0}, {"i": 2884, "len": 49, "is_even": 1}, {"i": 2885, "len": 49, "is_even": 0}, {"i": 2886, "len": 49, "is_even": 1}, {"i": 2887, "len": 129, "is_even": 0}, {"i": 2888, "len": 49, "is_even": 1}, {"i": 2889, "len": 142, "is_even": 0}, {"i": 2890, "len": 49, "is_even": 1}, {"i": 2891, "len": 49, "is_even": 0}, {"i": 2892, "len": 49, "is_even": 1}, {"i": 2893, "len": 49, "is_even": 0}, {"i": 2894, "len": 54, "is_even": 1}, {"i": 2895, "len": 54, "is_even": 0}, {"i": 2896, "len": 23, "is_even": 1}, {"i": 2897, "len": 142, "is_even": 0}, {"i": 2898, "len": 142, "is_even": 1}, {"i": 2899, "len": 142, "is_even": 0}, {"i": 2900, "len": 23, "is_even": 1}, {"i": 2901, "len": 23, "is_even": 0}, {"i": 2902, "len": 142, "is_even": 1}, {"i": 2903, "len": 142, "is_even": 0}, {"i": 2904, "len": 49, "is_even": 1}, {"i": 2905, "len": 49, "is_even": 0}, {"i": 2906, "len": 49, "is_even": 1}, {"i": 2907, "len": 142, "is_even": 0}, {"i": 2908, "len": 49, "is_even": 1}, {"i": 2909, "len": 49, "is_even": 0}, {"i": 2910, "len": 142, "is_even": 1}, {"i": 2911, "len": 142, "is_even": 0}, {"i": 2912, "len": 98, "is_even": 1}, {"i": 2913, "len": 111, "is_even": 0}, {"i": 2914, "len": 36, "is_even": 1}, {"i": 2915, "len": 36, "is_even": 0}, {"i": 2916, "len": 36, "is_even": 1}, {"i": 2917, "len": 36, "is_even": 0}, {"i": 2918, "len": 36, "is_even": 1}, {"i": 2919, "len": 217, "is_even": 0}, {"i": 2920, "len": 98, "is_even": 1}, {"i": 2921, "len": 80, "is_even": 0}, {"i": 2922, "len": 98, "is_even": 1}, {"i": 2923, "len": 142, "is_even": 0}, {"i": 2924, "len": 142, "is_even": 1}, {"i": 2925, "len": 142, "is_even": 0}, {"i": 2926, "len": 142, "is_even": 1}, {"i": 2927, "len": 173, "is_even": 0}, {"i": 2928, "len": 98, "is_even": 1}, {"i": 2929, "len": 98, "is_even": 0}, {"i": 2930, "len": 36, "is_even": 1}, {"i": 2931, "len": 36, "is_even": 0}, {"i": 2932, "len": 98, "is_even": 1}, {"i": 2933, "len": 98, "is_even": 0}, {"i": 2934, "len": 142, "is_even": 1}, {"i": 2935, "len": 142, "is_even": 0}, {"i": 2936, "len": 49, "is_even": 1}, {"i": 2937, "len": 54, "is_even": 0}, {"i": 2938, "len": 49, "is_even": 1}, {"i": 2939, "len": 80, "is_even": 0}, {"i": 2940, "len": 49, "is_even": 1}, {"i": 2941, "len": 49, "is_even": 0}, {"i": 2942, "len": 173, "is_even": 1}, {"i": 2943, "len": 173, "is_even": 0}, {"i": 2944, "len": 23, "is_even": 1}, {"i": 2945, "len": 80, "is_even": 0}, {"i": 2946, "len": 98, "is_even": 1}, {"i": 2947, "len": 98, "is_even": 0}, {"i": 2948, "len": 142, "is_even": 1}, {"i": 2949, "len": 142, "is_even": 0}, {"i": 2950, "len": 142, "is_even": 1}, {"i": 2951, "len": 98, "is_even": 0}, {"i": 2952, "len": 23, "is_even": 1}, {"i": 2953, "len": 124, "is_even": 0}, {"i": 2954, "len": 23, "is_even": 1}, {"i": 2955, "len": 142, "is_even": 0}, {"i": 2956, "len": 23, "is_even": 1}, {"i": 2957, "len": 23, "is_even": 0}, {"i": 2958, "len": 98, "is_even": 1}, {"i": 2959, "len": 98, "is_even": 0}, {"i": 2960, "len": 49, "is_even": 1}, {"i": 2961, "len": 36, "is_even": 0}, {"i": 2962, "len": 36, "is_even": 1}, {"i": 2963, "len": 36, "is_even": 0}, {"i": 2964, "len": 49, "is_even": 1}, {"i": 2965, "len": 49, "is_even": 0}, {"i": 2966, "len": 142, "is_even": 1}, {"i": 2967, "len": 142, "is_even": 0}, {"i": 2968, "len": 49, "is_even": 1}, {"i": 2969, "len": 142, "is_even": 0}, {"i": 2970, "len": 49, "is_even": 1}, {"i": 2971, "len": 49, "is_even": 0}, {"i": 2972, "len": 98, "is_even": 1}, {"i": 2973, "len": 98, "is_even": 0}, {"i": 2974, "len": 98, "is_even": 1}, {"i": 2975, "len": 49, "is_even": 0}, {"i": 2976, "len": 23, "is_even": 1}, {"i": 2977, "len": 142, "is_even": 0}, {"i": 2978, "len": 49, "is_even": 1}, {"i": 2979, "len": 49, "is_even": 0}, {"i": 2980, "len": 93, "is_even": 1}, {"i": 2981, "len": 93, "is_even": 0}, {"i": 2982, "len": 93, "is_even": 1}, {"i": 2983, "len": 142, "is_even": 0}, {"i": 2984, "len": 23, "is_even": 1}, {"i": 2985, "len": 142, "is_even": 0}, {"i": 2986, "len": 23, "is_even": 1}, {"i": 2987, "len": 49, "is_even": 0}, {"i": 2988, "len": 49, "is_even": 1}, {"i": 2989, "len": 49, "is_even": 0}, {"i": 2990, "len": 49, "is_even": 1}, {"i": 2991, "len": 49, "is_even": 0}, {"i": 2992, "len": 49, "is_even": 1}, {"i": 2993, "len": 49, "is_even": 0}, {"i": 2994, "len": 49, "is_even": 1}, {"i": 2995, "len": 49, "is_even": 0}, {"i": 2996, "len": 49, "is_even": 1}, {"i": 2997, "len": 49, "is_even": 0}, {"i": 2998, "len": 49, "is_even": 1}, {"i": 2999, "len": 49, "is_even": 0}, {"i": 3000, "len": 49, "is_even": 1}, {"i": 3001, "len": 41, "is_even": 0}, {"i": 3002, "len": 49, "is_even": 1}, {"i": 3003, "len": 41, "is_even": 0}, {"i": 3004, "len": 142, "is_even": 1}, {"i": 3005, "len": 142, "is_even": 0}, {"i": 3006, "len": 142, "is_even": 1}, {"i": 3007, "len": 155, "is_even": 0}, {"i": 3008, "len": 111, "is_even": 1}, {"i": 3009, "len": 41, "is_even": 0}, {"i": 3010, "len": 41, "is_even": 1}, {"i": 3011, "len": 41, "is_even": 0}, {"i": 3012, "len": 23, "is_even": 1}, {"i": 3013, "len": 23, "is_even": 0}, {"i": 3014, "len": 23, "is_even": 1}, {"i": 3015, "len": 93, "is_even": 0}, {"i": 3016, "len": 67, "is_even": 1}, {"i": 3017, "len": 41, "is_even": 0}, {"i": 3018, "len": 67, "is_even": 1}, {"i": 3019, "len": 67, "is_even": 0}, {"i": 3020, "len": 67, "is_even": 1}, {"i": 3021, "len": 67, "is_even": 0}, {"i": 3022, "len": 93, "is_even": 1}, {"i": 3023, "len": 93, "is_even": 0}, {"i": 3024, "len": 111, "is_even": 1}, {"i": 3025, "len": 67, "is_even": 0}, {"i": 3026, "len": 67, "is_even": 1}, {"i": 3027, "len": 67, "is_even": 0}, {"i": 3028, "len": 111, "is_even": 1}, {"i": 3029, "len": 111, "is_even": 0}, {"i": 3030, "len": 142, "is_even": 1}, {"i": 3031, "len": 142, "is_even": 0}, {"i": 3032, "len": 62, "is_even": 1}, {"i": 3033, "len": 23, "is_even": 0}, {"i": 3034, "len": 62, "is_even": 1}, {"i": 3035, "len": 155, "is_even": 0}, {"i": 3036, "len": 62, "is_even": 1}, {"i": 3037, "len": 62, "is_even": 0}, {"i": 3038, "len": 155, "is_even": 1}, {"i": 3039, "len": 155, "is_even": 0}, {"i": 3040, "len": 111, "is_even": 1}, {"i": 3041, "len": 155, "is_even": 0}, {"i": 3042, "len": 111, "is_even": 1}, {"i": 3043, "len": 111, "is_even": 0}, {"i": 3044, "len": 36, "is_even": 1}, {"i": 3045, "len": 36, "is_even": 0}, {"i": 3046, "len": 36, "is_even": 1}, {"i": 3047, "len": 62, "is_even": 0}, {"i": 3048, "len": 111, "is_even": 1}, {"i": 3049, "len": 124, "is_even": 0}, {"i": 3050, "len": 111, "is_even": 1}, {"i": 3051, "len": 155, "is_even": 0}, {"i": 3052, "len": 155, "is_even": 1}, {"i": 3053, "len": 155, "is_even": 0}, {"i": 3054, "len": 155, "is_even": 1}, {"i": 3055, "len": 93, "is_even": 0}, {"i": 3056, "len": 49, "is_even": 1}, {"i": 3057, "len": 111, "is_even": 0}, {"i": 3058, "len": 62, "is_even": 1}, {"i": 3059, "len": 62, "is_even": 0}, {"i": 3060, "len": 49, "is_even": 1}, {"i": 3061, "len": 49, "is_even": 0}, {"i": 3062, "len": 62, "is_even": 1}, {"i": 3063, "len": 62, "is_even": 0}, {"i": 3064, "len": 49, "is_even": 1}, {"i": 3065, "len": 155, "is_even": 0}, {"i": 3066, "len": 49, "is_even": 1}, {"i": 3067, "len": 62, "is_even": 0}, {"i": 3068, "len": 62, "is_even": 1}, {"i": 3069, "len": 62, "is_even": 0}, {"i": 3070, "len": 62, "is_even": 1}, {"i": 3071, "len": 155, "is_even": 0}, {"i": 3072, "len": 18, "is_even": 1}, {"i": 3073, "len": 111, "is_even": 0}, {"i": 3074, "len": 155, "is_even": 1}, {"i": 3075, "len": 155, "is_even": 0}, {"i": 3076, "len": 36, "is_even": 1}, {"i": 3077, "len": 36, "is_even": 0}, {"i": 3078, "len": 36, "is_even": 1}, {"i": 3079, "len": 155, "is_even": 0}, {"i": 3080, "len": 36, "is_even": 1}, {"i": 3081, "len": 155, "is_even": 0}, {"i": 3082, "len": 36, "is_even": 1}, {"i": 3083, "len": 36, "is_even": 0}, {"i": 3084, "len": 36, "is_even": 1}, {"i": 3085, "len": 36, "is_even": 0}, {"i": 3086, "len": 111, "is_even": 1}, {"i": 3087, "len": 111, "is_even": 0}, {"i": 3088, "len": 124, "is_even": 1}, {"i": 3089, "len": 36, "is_even": 0}, {"i": 3090, "len": 62, "is_even": 1}, {"i": 3091, "len": 62, "is_even": 0}, {"i": 3092, "len": 124, "is_even": 1}, {"i": 3093, "len": 124, "is_even": 0}, {"i": 3094, "len": 36, "is_even": 1}, {"i": 3095, "len": 36, "is_even": 0}, {"i": 3096, "len": 124, "is_even": 1}, {"i": 3097, "len": 186, "is_even": 0}, {"i": 3098, "len": 124, "is_even": 1}, {"i": 3099, "len": 137, "is_even": 0}, {"i": 3100, "len": 155, "is_even": 1}, {"i": 3101, "len": 155, "is_even": 0}, {"i": 3102, "len": 155, "is_even": 1}, {"i": 3103, "len": 93, "is_even": 0}, {"i": 3104, "len": 124, "is_even": 1}, {"i": 3105, "len": 155, "is_even": 0}, {"i": 3106, "len": 124, "is_even": 1}, {"i": 3107, "len": 124, "is_even": 0}, {"i": 3108, "len": 36, "is_even": 1}, {"i": 3109, "len": 36, "is_even": 0}, {"i": 3110, "len": 36, "is_even": 1}, {"i": 3111, "len": 36, "is_even": 0}, {"i": 3112, "len": 124, "is_even": 1}, {"i": 3113, "len": 93, "is_even": 0}, {"i": 3114, "len": 124, "is_even": 1}, {"i": 3115, "len": 62, "is_even": 0}, {"i": 3116, "len": 62, "is_even": 1}, {"i": 3117, "len": 62, "is_even": 0}, {"i": 3118, "len": 62, "is_even": 1}, {"i": 3119, "len": 49, "is_even": 0}, {"i": 3120, "len": 124, "is_even": 1}, {"i": 3121, "len": 62, "is_even": 0}, {"i": 3122, "len": 62, "is_even": 1}, {"i": 3123, "len": 62, "is_even": 0}, {"i": 3124, "len": 124, "is_even": 1}, {"i": 3125, "len": 124, "is_even": 0}, {"i": 3126, "len": 155, "is_even": 1}, {"i": 3127, "len": 155, "is_even": 0}, {"i": 3128, "len": 124, "is_even": 1}, {"i": 3129, "len": 111, "is_even": 0}, {"i": 3130, "len": 124, "is_even": 1}, {"i": 3131, "len": 111, "is_even": 0}, {"i": 3132, "len": 124, "is_even": 1}, {"i": 3133, "len": 124, "is_even": 0}, {"i": 3134, "len": 62, "is_even": 1}, {"i": 3135, "len": 62, "is_even": 0}, {"i": 3136, "len": 31, "is_even": 1}, {"i": 3137, "len": 36, "is_even": 0}, {"i": 3138, "len": 36, "is_even": 1}, {"i": 3139, "len": 36, "is_even": 0}, {"i": 3140, "len": 124, "is_even": 1}, {"i": 3141, "len": 124, "is_even": 0}, {"i": 3142, "len": 124, "is_even": 1}, {"i": 3143, "len": 106, "is_even": 0}, {"i": 3144, "len": 62, "is_even": 1}, {"i": 3145, "len": 62, "is_even": 0}, {"i": 3146, "len": 62, "is_even": 1}, {"i": 3147, "len": 124, "is_even": 0}, {"i": 3148, "len": 62, "is_even": 1}, {"i": 3149, "len": 62, "is_even": 0}, {"i": 3150, "len": 62, "is_even": 1}, {"i": 3151, "len": 62, "is_even": 0}, {"i": 3152, "len": 31, "is_even": 1}, {"i": 3153, "len": 62, "is_even": 0}, {"i": 3154, "len": 93, "is_even": 1}, {"i": 3155, "len": 93, "is_even": 0}, {"i": 3156, "len": 31, "is_even": 1}, {"i": 3157, "len": 31, "is_even": 0}, {"i": 3158, "len": 124, "is_even": 1}, {"i": 3159, "len": 124, "is_even": 0}, {"i": 3160, "len": 80, "is_even": 1}, {"i": 3161, "len": 155, "is_even": 0}, {"i": 3162, "len": 80, "is_even": 1}, {"i": 3163, "len": 54, "is_even": 0}, {"i": 3164, "len": 80, "is_even": 1}, {"i": 3165, "len": 80, "is_even": 0}, {"i": 3166, "len": 168, "is_even": 1}, {"i": 3167, "len": 168, "is_even": 0}, {"i": 3168, "len": 31, "is_even": 1}, {"i": 3169, "len": 54, "is_even": 0}, {"i": 3170, "len": 80, "is_even": 1}, {"i": 3171, "len": 80, "is_even": 0}, {"i": 3172, "len": 80, "is_even": 1}, {"i": 3173, "len": 80, "is_even": 0}, {"i": 3174, "len": 80, "is_even": 1}, {"i": 3175, "len": 199, "is_even": 0}, {"i": 3176, "len": 31, "is_even": 1}, {"i": 3177, "len": 54, "is_even": 0}, {"i": 3178, "len": 31, "is_even": 1}, {"i": 3179, "len": 80, "is_even": 0}, {"i": 3180, "len": 106, "is_even": 1}, {"i": 3181, "len": 106, "is_even": 0}, {"i": 3182, "len": 106, "is_even": 1}, {"i": 3183, "len": 62, "is_even": 0}, {"i": 3184, "len": 124, "is_even": 1}, {"i": 3185, "len": 31, "is_even": 0}, {"i": 3186, "len": 124, "is_even": 1}, {"i": 3187, "len": 124, "is_even": 0}, {"i": 3188, "len": 124, "is_even": 1}, {"i": 3189, "len": 124, "is_even": 0}, {"i": 3190, "len": 75, "is_even": 1}, {"i": 3191, "len": 75, "is_even": 0}, {"i": 3192, "len": 124, "is_even": 1}, {"i": 3193, "len": 36, "is_even": 0}, {"i": 3194, "len": 124, "is_even": 1}, {"i": 3195, "len": 75, "is_even": 0}, {"i": 3196, "len": 75, "is_even": 1}, {"i": 3197, "len": 75, "is_even": 0}, {"i": 3198, "len": 75, "is_even": 1}, {"i": 3199, "len": 168, "is_even": 0}, {"i": 3200, "len": 31, "is_even": 1}, {"i": 3201, "len": 168, "is_even": 0}, {"i": 3202, "len": 62, "is_even": 1}, {"i": 3203, "len": 62, "is_even": 0}, {"i": 3204, "len": 62, "is_even": 1}, {"i": 3205, "len": 62, "is_even": 0}, {"i": 3206, "len": 62, "is_even": 1}, {"i": 3207, "len": 49, "is_even": 0}, {"i": 3208, "len": 23, "is_even": 1}, {"i": 3209, "len": 75, "is_even": 0}, {"i": 3210, "len": 23, "is_even": 1}, {"i": 3211, "len": 124, "is_even": 0}, {"i": 3212, "len": 23, "is_even": 1}, {"i": 3213, "len": 23, "is_even": 0}, {"i": 3214, "len": 168, "is_even": 1}, {"i": 3215, "len": 168, "is_even": 0}, {"i": 3216, "len": 23, "is_even": 1}, {"i": 3217, "len": 75, "is_even": 0}, {"i": 3218, "len": 75, "is_even": 1}, {"i": 3219, "len": 75, "is_even": 0}, {"i": 3220, "len": 23, "is_even": 1}, {"i": 3221, "len": 23, "is_even": 0}, {"i": 3222, "len": 23, "is_even": 1}, {"i": 3223, "len": 23, "is_even": 0}, {"i": 3224, "len": 23, "is_even": 1}, {"i": 3225, "len": 62, "is_even": 0}, {"i": 3226, "len": 23, "is_even": 1}, {"i": 3227, "len": 106, "is_even": 0}, {"i": 3228, "len": 75, "is_even": 1}, {"i": 3229, "len": 75, "is_even": 0}, {"i": 3230, "len": 75, "is_even": 1}, {"i": 3231, "len": 168, "is_even": 0}, {"i": 3232, "len": 31, "is_even": 1}, {"i": 3233, "len": 168, "is_even": 0}, {"i": 3234, "len": 49, "is_even": 1}, {"i": 3235, "len": 49, "is_even": 0}, {"i": 3236, "len": 49, "is_even": 1}, {"i": 3237, "len": 49, "is_even": 0}, {"i": 3238, "len": 49, "is_even": 1}, {"i": 3239, "len": 124, "is_even": 0}, {"i": 3240, "len": 31, "is_even": 1}, {"i": 3241, "len": 168, "is_even": 0}, {"i": 3242, "len": 31, "is_even": 1}, {"i": 3243, "len": 49, "is_even": 0}, {"i": 3244, "len": 137, "is_even": 1}, {"i": 3245, "len": 137, "is_even": 0}, {"i": 3246, "len": 137, "is_even": 1}, {"i": 3247, "len": 49, "is_even": 0}, {"i": 3248, "len": 44, "is_even": 1}, {"i": 3249, "len": 137, "is_even": 0}, {"i": 3250, "len": 137, "is_even": 1}, {"i": 3251, "len": 137, "is_even": 0}, {"i": 3252, "len": 44, "is_even": 1}, {"i": 3253, "len": 44, "is_even": 0}, {"i": 3254, "len": 75, "is_even": 1}, {"i": 3255, "len": 75, "is_even": 0}, {"i": 3256, "len": 44, "is_even": 1}, {"i": 3257, "len": 49, "is_even": 0}, {"i": 3258, "len": 44, "is_even": 1}, {"i": 3259, "len": 49, "is_even": 0}, {"i": 3260, "len": 137, "is_even": 1}, {"i": 3261, "len": 137, "is_even": 0}, {"i": 3262, "len": 137, "is_even": 1}, {"i": 3263, "len": 75, "is_even": 0}, {"i": 3264, "len": 31, "is_even": 1}, {"i": 3265, "len": 137, "is_even": 0}, {"i": 3266, "len": 137, "is_even": 1}, {"i": 3267, "len": 137, "is_even": 0}, {"i": 3268, "len": 44, "is_even": 1}, {"i": 3269, "len": 44, "is_even": 0}, {"i": 3270, "len": 44, "is_even": 1}, {"i": 3271, "len": 137, "is_even": 0}, {"i": 3272, "len": 44, "is_even": 1}, {"i": 3273, "len": 137, "is_even": 0}, {"i": 3274, "len": 44, "is_even": 1}, {"i": 3275, "len": 137, "is_even": 0}, {"i": 3276, "len": 44, "is_even": 1}, {"i": 3277, "len": 44, "is_even": 0}, {"i": 3278, "len": 106, "is_even": 1}, {"i": 3279, "len": 106, "is_even": 0}, {"i": 3280, "len": 31, "is_even": 1}, {"i": 3281, "len": 75, "is_even": 0}, {"i": 3282, "len": 75, "is_even": 1}, {"i": 3283, "len": 75, "is_even": 0}, {"i": 3284, "len": 31, "is_even": 1}, {"i": 3285, "len": 31, "is_even": 0}, {"i": 3286, "len": 75, "is_even": 1}, {"i": 3287, "len": 75, "is_even": 0}, {"i": 3288, "len": 137, "is_even": 1}, {"i": 3289, "len": 137, "is_even": 0}, {"i": 3290, "len": 137, "is_even": 1}, {"i": 3291, "len": 137, "is_even": 0}, {"i": 3292, "len": 137, "is_even": 1}, {"i": 3293, "len": 137, "is_even": 0}, {"i": 3294, "len": 137, "is_even": 1}, {"i": 3295, "len": 137, "is_even": 0}, {"i": 3296, "len": 93, "is_even": 1}, {"i": 3297, "len": 124, "is_even": 0}, {"i": 3298, "len": 31, "is_even": 1}, {"i": 3299, "len": 31, "is_even": 0}, {"i": 3300, "len": 137, "is_even": 1}, {"i": 3301, "len": 137, "is_even": 0}, {"i": 3302, "len": 137, "is_even": 1}, {"i": 3303, "len": 75, "is_even": 0}, {"i": 3304, "len": 93, "is_even": 1}, {"i": 3305, "len": 49, "is_even": 0}, {"i": 3306, "len": 93, "is_even": 1}, {"i": 3307, "len": 75, "is_even": 0}, {"i": 3308, "len": 44, "is_even": 1}, {"i": 3309, "len": 44, "is_even": 0}, {"i": 3310, "len": 44, "is_even": 1}, {"i": 3311, "len": 168, "is_even": 0}, {"i": 3312, "len": 93, "is_even": 1}, {"i": 3313, "len": 93, "is_even": 0}, {"i": 3314, "len": 75, "is_even": 1}, {"i": 3315, "len": 75, "is_even": 0}, {"i": 3316, "len": 93, "is_even": 1}, {"i": 3317, "len": 93, "is_even": 0}, {"i": 3318, "len": 44, "is_even": 1}, {"i": 3319, "len": 44, "is_even": 0}, {"i": 3320, "len": 137, "is_even": 1}, {"i": 3321, "len": 106, "is_even": 0}, {"i": 3322, "len": 137, "is_even": 1}, {"i": 3323, "len": 119, "is_even": 0}, {"i": 3324, "len": 137, "is_even": 1}, {"i": 3325, "len": 137, "is_even": 0}, {"i": 3326, "len": 75, "is_even": 1}, {"i": 3327, "len": 75, "is_even": 0}, {"i": 3328, "len": 18, "is_even": 1}, {"i": 3329, "len": 93, "is_even": 0}, {"i": 3330, "len": 181, "is_even": 1}, {"i": 3331, "len": 181, "is_even": 0}, {"i": 3332, "len": 31, "is_even": 1}, {"i": 3333, "len": 31, "is_even": 0}, {"i": 3334, "len": 31, "is_even": 1}, {"i": 3335, "len": 181, "is_even": 0}, {"i": 3336, "len": 137, "is_even": 1}, {"i": 3337, "len": 67, "is_even": 0}, {"i": 3338, "len": 137, "is_even": 1}, {"i": 3339, "len": 93, "is_even": 0}, {"i": 3340, "len": 137, "is_even": 1}, {"i": 3341, "len": 137, "is_even": 0}, {"i": 3342, "len": 44, "is_even": 1}, {"i": 3343, "len": 44, "is_even": 0}, {"i": 3344, "len": 44, "is_even": 1}, {"i": 3345, "len": 137, "is_even": 0}, {"i": 3346, "len": 93, "is_even": 1}, {"i": 3347, "len": 93, "is_even": 0}, {"i": 3348, "len": 44, "is_even": 1}, {"i": 3349, "len": 44, "is_even": 0}, {"i": 3350, "len": 137, "is_even": 1}, {"i": 3351, "len": 137, "is_even": 0}, {"i": 3352, "len": 44, "is_even": 1}, {"i": 3353, "len": 44, "is_even": 0}, {"i": 3354, "len": 44, "is_even": 1}, {"i": 3355, "len": 93, "is_even": 0}, {"i": 3356, "len": 88, "is_even": 1}, {"i": 3357, "len": 88, "is_even": 0}, {"i": 3358, "len": 88, "is_even": 1}, {"i": 3359, "len": 137, "is_even": 0}, {"i": 3360, "len": 44, "is_even": 1}, {"i": 3361, "len": 44, "is_even": 0}, {"i": 3362, "len": 44, "is_even": 1}, {"i": 3363, "len": 44, "is_even": 0}, {"i": 3364, "len": 44, "is_even": 1}, {"i": 3365, "len": 44, "is_even": 0}, {"i": 3366, "len": 44, "is_even": 1}, {"i": 3367, "len": 88, "is_even": 0}, {"i": 3368, "len": 44, "is_even": 1}, {"i": 3369, "len": 181, "is_even": 0}, {"i": 3370, "len": 44, "is_even": 1}, {"i": 3371, "len": 75, "is_even": 0}, {"i": 3372, "len": 44, "is_even": 1}, {"i": 3373, "len": 44, "is_even": 0}, {"i": 3374, "len": 44, "is_even": 1}, {"i": 3375, "len": 137, "is_even": 0}, {"i": 3376, "len": 44, "is_even": 1}, {"i": 3377, "len": 36, "is_even": 0}, {"i": 3378, "len": 36, "is_even": 1}, {"i": 3379, "len": 36, "is_even": 0}, {"i": 3380, "len": 44, "is_even": 1}, {"i": 3381, "len": 44, "is_even": 0}, {"i": 3382, "len": 137, "is_even": 1}, {"i": 3383, "len": 137, "is_even": 0}, {"i": 3384, "len": 36, "is_even": 1}, {"i": 3385, "len": 181, "is_even": 0}, {"i": 3386, "len": 36, "is_even": 1}, {"i": 3387, "len": 44, "is_even": 0}, {"i": 3388, "len": 36, "is_even": 1}, {"i": 3389, "len": 36, "is_even": 0}, {"i": 3390, "len": 181, "is_even": 1}, {"i": 3391, "len": 181, "is_even": 0}, {"i": 3392, "len": 18, "is_even": 1}, {"i": 3393, "len": 44, "is_even": 0}, {"i": 3394, "len": 36, "is_even": 1}, {"i": 3395, "len": 36, "is_even": 0}, {"i": 3396, "len": 62, "is_even": 1}, {"i": 3397, "len": 62, "is_even": 0}, {"i": 3398, "len": 62, "is_even": 1}, {"i": 3399, "len": 119, "is_even": 0}, {"i": 3400, "len": 62, "is_even": 1}, {"i": 3401, "len": 88, "is_even": 0}, {"i": 3402, "len": 62, "is_even": 1}, {"i": 3403, "len": 62, "is_even": 0}, {"i": 3404, "len": 62, "is_even": 1}, {"i": 3405, "len": 62, "is_even": 0}, {"i": 3406, "len": 62, "is_even": 1}, {"i": 3407, "len": 62, "is_even": 0}, {"i": 3408, "len": 18, "is_even": 1}, {"i": 3409, "len": 137, "is_even": 0}, {"i": 3410, "len": 137, "is_even": 1}, {"i": 3411, "len": 137, "is_even": 0}, {"i": 3412, "len": 18, "is_even": 1}, {"i": 3413, "len": 18, "is_even": 0}, {"i": 3414, "len": 150, "is_even": 1}, {"i": 3415, "len": 150, "is_even": 0}, {"i": 3416, "len": 57, "is_even": 1}, {"i": 3417, "len": 57, "is_even": 0}, {"i": 3418, "len": 57, "is_even": 1}, {"i": 3419, "len": 150, "is_even": 0}, {"i": 3420, "len": 57, "is_even": 1}, {"i": 3421, "len": 57, "is_even": 0}, {"i": 3422, "len": 150, "is_even": 1}, {"i": 3423, "len": 150, "is_even": 0}, {"i": 3424, "len": 106, "is_even": 1}, {"i": 3425, "len": 57, "is_even": 0}, {"i": 3426, "len": 31, "is_even": 1}, {"i": 3427, "len": 31, "is_even": 0}, {"i": 3428, "len": 31, "is_even": 1}, {"i": 3429, "len": 31, "is_even": 0}, {"i": 3430, "len": 31, "is_even": 1}, {"i": 3431, "len": 119, "is_even": 0}, {"i": 3432, "len": 106, "is_even": 1}, {"i": 3433, "len": 150, "is_even": 0}, {"i": 3434, "len": 106, "is_even": 1}, {"i": 3435, "len": 150, "is_even": 0}, {"i": 3436, "len": 150, "is_even": 1}, {"i": 3437, "len": 150, "is_even": 0}, {"i": 3438, "len": 150, "is_even": 1}, {"i": 3439, "len": 150, "is_even": 0}, {"i": 3440, "len": 106, "is_even": 1}, {"i": 3441, "len": 106, "is_even": 0}, {"i": 3442, "len": 57, "is_even": 1}, {"i": 3443, "len": 57, "is_even": 0}, {"i": 3444, "len": 106, "is_even": 1}, {"i": 3445, "len": 106, "is_even": 0}, {"i": 3446, "len": 57, "is_even": 1}, {"i": 3447, "len": 57, "is_even": 0}, {"i": 3448, "len": 44, "is_even": 1}, {"i": 3449, "len": 150, "is_even": 0}, {"i": 3450, "len": 44, "is_even": 1}, {"i": 3451, "len": 57, "is_even": 0}, {"i": 3452, "len": 44, "is_even": 1}, {"i": 3453, "len": 44, "is_even": 0}, {"i": 3454, "len": 57, "is_even": 1}, {"i": 3455, "len": 57, "is_even": 0}, {"i": 3456, "len": 119, "is_even": 1}, {"i": 3457, "len": 44, "is_even": 0}, {"i": 3458, "len": 106, "is_even": 1}, {"i": 3459, "len": 106, "is_even": 0}, {"i": 3460, "len": 150, "is_even": 1}, {"i": 3461, "len": 150, "is_even": 0}, {"i": 3462, "len": 150, "is_even": 1}, {"i": 3463, "len": 106, "is_even": 0}, {"i": 3464, "len": 31, "is_even": 1}, {"i": 3465, "len": 150, "is_even": 0}, {"i": 3466, "len": 31, "is_even": 1}, {"i": 3467, "len": 150, "is_even": 0}, {"i": 3468, "len": 31, "is_even": 1}, {"i": 3469, "len": 31, "is_even": 0}, {"i": 3470, "len": 106, "is_even": 1}, {"i": 3471, "len": 106, "is_even": 0}, {"i": 3472, "len": 31, "is_even": 1}, {"i": 3473, "len": 106, "is_even": 0}, {"i": 3474, "len": 106, "is_even": 1}, {"i": 3475, "len": 106, "is_even": 0}, {"i": 3476, "len": 31, "is_even": 1}, {"i": 3477, "len": 31, "is_even": 0}, {"i": 3478, "len": 57, "is_even": 1}, {"i": 3479, "len": 57, "is_even": 0}, {"i": 3480, "len": 31, "is_even": 1}, {"i": 3481, "len": 57, "is_even": 0}, {"i": 3482, "len": 31, "is_even": 1}, {"i": 3483, "len": 88, "is_even": 0}, {"i": 3484, "len": 181, "is_even": 1}, {"i": 3485, "len": 181, "is_even": 0}, {"i": 3486, "len": 181, "is_even": 1}, {"i": 3487, "len": 132, "is_even": 0}, {"i": 3488, "len": 119, "is_even": 1}, {"i": 3489, "len": 88, "is_even": 0}, {"i": 3490, "len": 150, "is_even": 1}, {"i": 3491, "len": 150, "is_even": 0}, {"i": 3492, "len": 150, "is_even": 1}, {"i": 3493, "len": 150, "is_even": 0}, {"i": 3494, "len": 150, "is_even": 1}, {"i": 3495, "len": 57, "is_even": 0}, {"i": 3496, "len": 119, "is_even": 1}, {"i": 3497, "len": 106, "is_even": 0}, {"i": 3498, "len": 119, "is_even": 1}, {"i": 3499, "len": 132, "is_even": 0}, {"i": 3500, "len": 31, "is_even": 1}, {"i": 3501, "len": 31, "is_even": 0}, {"i": 3502, "len": 31, "is_even": 1}, {"i": 3503, "len": 88, "is_even": 0}, {"i": 3504, "len": 57, "is_even": 1}, {"i": 3505, "len": 57, "is_even": 0}, {"i": 3506, "len": 57, "is_even": 1}, {"i": 3507, "len": 57, "is_even": 0}, {"i": 3508, "len": 57, "is_even": 1}, {"i": 3509, "len": 57, "is_even": 0}, {"i": 3510, "len": 44, "is_even": 1}, {"i": 3511, "len": 44, "is_even": 0}, {"i": 3512, "len": 57, "is_even": 1}, {"i": 3513, "len": 57, "is_even": 0}, {"i": 3514, "len": 57, "is_even": 1}, {"i": 3515, "len": 150, "is_even": 0}, {"i": 3516, "len": 150, "is_even": 1}, {"i": 3517, "len": 150, "is_even": 0}, {"i": 3518, "len": 150, "is_even": 1}, {"i": 3519, "len": 80, "is_even": 0}, {"i": 3520, "len": 119, "is_even": 1}, {"i": 3521, "len": 106, "is_even": 0}, {"i": 3522, "len": 106, "is_even": 1}, {"i": 3523, "len": 106, "is_even": 0}, {"i": 3524, "len": 119, "is_even": 1}, {"i": 3525, "len": 119, "is_even": 0}, {"i": 3526, "len": 119, "is_even": 1}, {"i": 3527, "len": 57, "is_even": 0}, {"i": 3528, "len": 31, "is_even": 1}, {"i": 3529, "len": 57, "is_even": 0}, {"i": 3530, "len": 31, "is_even": 1}, {"i": 3531, "len": 101, "is_even": 0}, {"i": 3532, "len": 31, "is_even": 1}, {"i": 3533, "len": 31, "is_even": 0}, {"i": 3534, "len": 150, "is_even": 1}, {"i": 3535, "len": 150, "is_even": 0}, {"i": 3536, "len": 119, "is_even": 1}, {"i": 3537, "len": 31, "is_even": 0}, {"i": 3538, "len": 57, "is_even": 1}, {"i": 3539, "len": 57, "is_even": 0}, {"i": 3540, "len": 119, "is_even": 1}, {"i": 3541, "len": 119, "is_even": 0}, {"i": 3542, "len": 57, "is_even": 1}, {"i": 3543, "len": 57, "is_even": 0}, {"i": 3544, "len": 57, "is_even": 1}, {"i": 3545, "len": 57, "is_even": 0}, {"i": 3546, "len": 57, "is_even": 1}, {"i": 3547, "len": 57, "is_even": 0}, {"i": 3548, "len": 57, "is_even": 1}, {"i": 3549, "len": 57, "is_even": 0}, {"i": 3550, "len": 88, "is_even": 1}, {"i": 3551, "len": 88, "is_even": 0}, {"i": 3552, "len": 75, "is_even": 1}, {"i": 3553, "len": 57, "is_even": 0}, {"i": 3554, "len": 119, "is_even": 1}, {"i": 3555, "len": 119, "is_even": 0}, {"i": 3556, "len": 150, "is_even": 1}, {"i": 3557, "len": 150, "is_even": 0}, {"i": 3558, "len": 150, "is_even": 1}, {"i": 3559, "len": 49, "is_even": 0}, {"i": 3560, "len": 75, "is_even": 1}, {"i": 3561, "len": 49, "is_even": 0}, {"i": 3562, "len": 75, "is_even": 1}, {"i": 3563, "len": 163, "is_even": 0}, {"i": 3564, "len": 49, "is_even": 1}, {"i": 3565, "len": 49, "is_even": 0}, {"i": 3566, "len": 49, "is_even": 1}, {"i": 3567, "len": 194, "is_even": 0}, {"i": 3568, "len": 75, "is_even": 1}, {"i": 3569, "len": 75, "is_even": 0}, {"i": 3570, "len": 31, "is_even": 1}, {"i": 3571, "len": 31, "is_even": 0}, {"i": 3572, "len": 75, "is_even": 1}, {"i": 3573, "len": 75, "is_even": 0}, {"i": 3574, "len": 49, "is_even": 1}, {"i": 3575, "len": 49, "is_even": 0}, {"i": 3576, "len": 101, "is_even": 1}, {"i": 3577, "len": 75, "is_even": 0}, {"i": 3578, "len": 101, "is_even": 1}, {"i": 3579, "len": 75, "is_even": 0}, {"i": 3580, "len": 101, "is_even": 1}, {"i": 3581, "len": 101, "is_even": 0}, {"i": 3582, "len": 101, "is_even": 1}, {"i": 3583, "len": 101, "is_even": 0}, {"i": 3584, "len": 26, "is_even": 1}, {"i": 3585, "len": 75, "is_even": 0}, {"i": 3586, "len": 119, "is_even": 1}, {"i": 3587, "len": 119, "is_even": 0}, {"i": 3588, "len": 70, "is_even": 1}, {"i": 3589, "len": 70, "is_even": 0}, {"i": 3590, "len": 70, "is_even": 1}, {"i": 3591, "len": 150, "is_even": 0}, {"i": 3592, "len": 119, "is_even": 1}, {"i": 3593, "len": 31, "is_even": 0}, {"i": 3594, "len": 119, "is_even": 1}, {"i": 3595, "len": 70, "is_even": 0}, {"i": 3596, "len": 119, "is_even": 1}, {"i": 3597, "len": 119, "is_even": 0}, {"i": 3598, "len": 70, "is_even": 1}, {"i": 3599, "len": 70, "is_even": 0}, {"i": 3600, "len": 57, "is_even": 1}, {"i": 3601, "len": 119, "is_even": 0}, {"i": 3602, "len": 163, "is_even": 1}, {"i": 3603, "len": 163, "is_even": 0}, {"i": 3604, "len": 57, "is_even": 1}, {"i": 3605, "len": 57, "is_even": 0}, {"i": 3606, "len": 44, "is_even": 1}, {"i": 3607, "len": 44, "is_even": 0}, {"i": 3608, "len": 57, "is_even": 1}, {"i": 3609, "len": 44, "is_even": 0}, {"i": 3610, "len": 57, "is_even": 1}, {"i": 3611, "len": 70, "is_even": 0}, {"i": 3612, "len": 119, "is_even": 1}, {"i": 3613, "len": 119, "is_even": 0}, {"i": 3614, "len": 119, "is_even": 1}, {"i": 3615, "len": 70, "is_even": 0}, {"i": 3616, "len": 18, "is_even": 1}, {"i": 3617, "len": 163, "is_even": 0}, {"i": 3618, "len": 57, "is_even": 1}, {"i": 3619, "len": 57, "is_even": 0}, {"i": 3620, "len": 70, "is_even": 1}, {"i": 3621, "len": 70, "is_even": 0}, {"i": 3622, "len": 70, "is_even": 1}, {"i": 3623, "len": 119, "is_even": 0}, {"i": 3624, "len": 18, "is_even": 1}, {"i": 3625, "len": 70, "is_even": 0}, {"i": 3626, "len": 18, "is_even": 1}, {"i": 3627, "len": 57, "is_even": 0}, {"i": 3628, "len": 57, "is_even": 1}, {"i": 3629, "len": 57, "is_even": 0}, {"i": 3630, "len": 57, "is_even": 1}, {"i": 3631, "len": 101, "is_even": 0}, {"i": 3632, "len": 18, "is_even": 1}, {"i": 3633, "len": 70, "is_even": 0}, {"i": 3634, "len": 70, "is_even": 1}, {"i": 3635, "len": 70, "is_even": 0}, {"i": 3636, "len": 18, "is_even": 1}, {"i": 3637, "len": 18, "is_even": 0}, {"i": 3638, "len": 163, "is_even": 1}, {"i": 3639, "len": 163, "is_even": 0}, {"i": 3640, "len": 44, "is_even": 1}, {"i": 3641, "len": 119, "is_even": 0}, {"i": 3642, "len": 44, "is_even": 1}, {"i": 3643, "len": 163, "is_even": 0}, {"i": 3644, "len": 44, "is_even": 1}, {"i": 3645, "len": 44, "is_even": 0}, {"i": 3646, "len": 163, "is_even": 1}, {"i": 3647, "len": 163, "is_even": 0}, {"i": 3648, "len": 39, "is_even": 1}, {"i": 3649, "len": 44, "is_even": 0}, {"i": 3650, "len": 44, "is_even": 1}, {"i": 3651, "len": 44, "is_even": 0}, {"i": 3652, "len": 132, "is_even": 1}, {"i": 3653, "len": 132, "is_even": 0}, {"i": 3654, "len": 132, "is_even": 1}, {"i": 3655, "len": 119, "is_even": 0}, {"i": 3656, "len": 132, "is_even": 1}, {"i": 3657, "len": 119, "is_even": 0}, {"i": 3658, "len": 132, "is_even": 1}, {"i": 3659, "len": 132, "is_even": 0}, {"i": 3660, "len": 132, "is_even": 1}, {"i": 3661, "len": 132, "is_even": 0}, {"i": 3662, "len": 70, "is_even": 1}, {"i": 3663, "len": 70, "is_even": 0}, {"i": 3664, "len": 39, "is_even": 1}, {"i": 3665, "len": 44, "is_even": 0}, {"i": 3666, "len": 44, "is_even": 1}, {"i": 3667, "len": 44, "is_even": 0}, {"i": 3668, "len": 39, "is_even": 1}, {"i": 3669, "len": 39, "is_even": 0}, {"i": 3670, "len": 132, "is_even": 1}, {"i": 3671, "len": 132, "is_even": 0}, {"i": 3672, "len": 132, "is_even": 1}, {"i": 3673, "len": 163, "is_even": 0}, {"i": 3674, "len": 132, "is_even": 1}, {"i": 3675, "len": 101, "is_even": 0}, {"i": 3676, "len": 132, "is_even": 1}, {"i": 3677, "len": 132, "is_even": 0}, {"i": 3678, "len": 163, "is_even": 1}, {"i": 3679, "len": 163, "is_even": 0}, {"i": 3680, "len": 39, "is_even": 1}, {"i": 3681, "len": 132, "is_even": 0}, {"i": 3682, "len": 132, "is_even": 1}, {"i": 3683, "len": 132, "is_even": 0}, {"i": 3684, "len": 132, "is_even": 1}, {"i": 3685, "len": 132, "is_even": 0}, {"i": 3686, "len": 132, "is_even": 1}, {"i": 3687, "len": 44, "is_even": 0}, {"i": 3688, "len": 39, "is_even": 1}, {"i": 3689, "len": 101, "is_even": 0}, {"i": 3690, "len": 39, "is_even": 1}, {"i": 3691, "len": 70, "is_even": 0}, {"i": 3692, "len": 70, "is_even": 1}, {"i": 3693, "len": 70, "is_even": 0}, {"i": 3694, "len": 70, "is_even": 1}, {"i": 3695, "len": 207, "is_even": 0}, {"i": 3696, "len": 132, "is_even": 1}, {"i": 3697, "len": 39, "is_even": 0}, {"i": 3698, "len": 70, "is_even": 1}, {"i": 3699, "len": 70, "is_even": 0}, {"i": 3700, "len": 132, "is_even": 1}, {"i": 3701, "len": 132, "is_even": 0}, {"i": 3702, "len": 132, "is_even": 1}, {"i": 3703, "len": 132, "is_even": 0}, {"i": 3704, "len": 132, "is_even": 1}, {"i": 3705, "len": 163, "is_even": 0}, {"i": 3706, "len": 132, "is_even": 1}, {"i": 3707, "len": 132, "is_even": 0}, {"i": 3708, "len": 119, "is_even": 1}, {"i": 3709, "len": 119, "is_even": 0}, {"i": 3710, "len": 119, "is_even": 1}, {"i": 3711, "len": 238, "is_even": 0}, {"i": 3712, "len": 26, "is_even": 1}, {"i": 3713, "len": 70, "is_even": 0}, {"i": 3714, "len": 39, "is_even": 1}, {"i": 3715, "len": 39, "is_even": 0}, {"i": 3716, "len": 132, "is_even": 1}, {"i": 3717, "len": 132, "is_even": 0}, {"i": 3718, "len": 132, "is_even": 1}, {"i": 3719, "len": 44, "is_even": 0}, {"i": 3720, "len": 39, "is_even": 1}, {"i": 3721, "len": 70, "is_even": 0}, {"i": 3722, "len": 39, "is_even": 1}, {"i": 3723, "len": 132, "is_even": 0}, {"i": 3724, "len": 39, "is_even": 1}, {"i": 3725, "len": 39, "is_even": 0}, {"i": 3726, "len": 70, "is_even": 1}, {"i": 3727, "len": 70, "is_even": 0}, {"i": 3728, "len": 88, "is_even": 1}, {"i": 3729, "len": 70, "is_even": 0}, {"i": 3730, "len": 70, "is_even": 1}, {"i": 3731, "len": 70, "is_even": 0}, {"i": 3732, "len": 88, "is_even": 1}, {"i": 3733, "len": 88, "is_even": 0}, {"i": 3734, "len": 39, "is_even": 1}, {"i": 3735, "len": 39, "is_even": 0}, {"i": 3736, "len": 88, "is_even": 1}, {"i": 3737, "len": 101, "is_even": 0}, {"i": 3738, "len": 88, "is_even": 1}, {"i": 3739, "len": 114, "is_even": 0}, {"i": 3740, "len": 132, "is_even": 1}, {"i": 3741, "len": 132, "is_even": 0}, {"i": 3742, "len": 132, "is_even": 1}, {"i": 3743, "len": 70, "is_even": 0}, {"i": 3744, "len": 26, "is_even": 1}, {"i": 3745, "len": 163, "is_even": 0}, {"i": 3746, "len": 88, "is_even": 1}, {"i": 3747, "len": 88, "is_even": 0}, {"i": 3748, "len": 176, "is_even": 1}, {"i": 3749, "len": 176, "is_even": 0}, {"i": 3750, "len": 176, "is_even": 1}, {"i": 3751, "len": 62, "is_even": 0}, {"i": 3752, "len": 26, "is_even": 1}, {"i": 3753, "len": 163, "is_even": 0}, {"i": 3754, "len": 26, "is_even": 1}, {"i": 3755, "len": 62, "is_even": 0}, {"i": 3756, "len": 88, "is_even": 1}, {"i": 3757, "len": 88, "is_even": 0}, {"i": 3758, "len": 88, "is_even": 1}, {"i": 3759, "len": 88, "is_even": 0}, {"i": 3760, "len": 132, "is_even": 1}, {"i": 3761, "len": 39, "is_even": 0}, {"i": 3762, "len": 39, "is_even": 1}, {"i": 3763, "len": 39, "is_even": 0}, {"i": 3764, "len": 132, "is_even": 1}, {"i": 3765, "len": 132, "is_even": 0}, {"i": 3766, "len": 88, "is_even": 1}, {"i": 3767, "len": 88, "is_even": 0}, {"i": 3768, "len": 132, "is_even": 1}, {"i": 3769, "len": 114, "is_even": 0}, {"i": 3770, "len": 132, "is_even": 1}, {"i": 3771, "len": 114, "is_even": 0}, {"i": 3772, "len": 39, "is_even": 1}, {"i": 3773, "len": 39, "is_even": 0}, {"i": 3774, "len": 39, "is_even": 1}, {"i": 3775, "len": 88, "is_even": 0}, {"i": 3776, "len": 39, "is_even": 1}, {"i": 3777, "len": 132, "is_even": 0}, {"i": 3778, "len": 83, "is_even": 1}, {"i": 3779, "len": 83, "is_even": 0}, {"i": 3780, "len": 39, "is_even": 1}, {"i": 3781, "len": 39, "is_even": 0}, {"i": 3782, "len": 39, "is_even": 1}, {"i": 3783, "len": 132, "is_even": 0}, {"i": 3784, "len": 39, "is_even": 1}, {"i": 3785, "len": 132, "is_even": 0}, {"i": 3786, "len": 39, "is_even": 1}, {"i": 3787, "len": 83, "is_even": 0}, {"i": 3788, "len": 39, "is_even": 1}, {"i": 3789, "len": 39, "is_even": 0}, {"i": 3790, "len": 176, "is_even": 1}, {"i": 3791, "len": 176, "is_even": 0}, {"i": 3792, "len": 39, "is_even": 1}, {"i": 3793, "len": 70, "is_even": 0}, {"i": 3794, "len": 70, "is_even": 1}, {"i": 3795, "len": 70, "is_even": 0}, {"i": 3796, "len": 39, "is_even": 1}, {"i": 3797, "len": 39, "is_even": 0}, {"i": 3798, "len": 70, "is_even": 1}, {"i": 3799, "len": 70, "is_even": 0}, {"i": 3800, "len": 31, "is_even": 1}, {"i": 3801, "len": 31, "is_even": 0}, {"i": 3802, "len": 31, "is_even": 1}, {"i": 3803, "len": 83, "is_even": 0}, {"i": 3804, "len": 31, "is_even": 1}, {"i": 3805, "len": 31, "is_even": 0}, {"i": 3806, "len": 132, "is_even": 1}, {"i": 3807, "len": 132, "is_even": 0}, {"i": 3808, "len": 39, "is_even": 1}, {"i": 3809, "len": 176, "is_even": 0}, {"i": 3810, "len": 39, "is_even": 1}, {"i": 3811, "len": 39, "is_even": 0}, {"i": 3812, "len": 31, "is_even": 1}, {"i": 3813, "len": 31, "is_even": 0}, {"i": 3814, "len": 31, "is_even": 1}, {"i": 3815, "len": 176, "is_even": 0}, {"i": 3816, "len": 39, "is_even": 1}, {"i": 3817, "len": 83, "is_even": 0}, {"i": 3818, "len": 39, "is_even": 1}, {"i": 3819, "len": 31, "is_even": 0}, {"i": 3820, "len": 31, "is_even": 1}, {"i": 3821, "len": 31, "is_even": 0}, {"i": 3822, "len": 31, "is_even": 1}, {"i": 3823, "len": 176, "is_even": 0}, {"i": 3824, "len": 57, "is_even": 1}, {"i": 3825, "len": 39, "is_even": 0}, {"i": 3826, "len": 83, "is_even": 1}, {"i": 3827, "len": 83, "is_even": 0}, {"i": 3828, "len": 57, "is_even": 1}, {"i": 3829, "len": 57, "is_even": 0}, {"i": 3830, "len": 176, "is_even": 1}, {"i": 3831, "len": 176, "is_even": 0}, {"i": 3832, "len": 57, "is_even": 1}, {"i": 3833, "len": 57, "is_even": 0}, {"i": 3834, "len": 57, "is_even": 1}, {"i": 3835, "len": 132, "is_even": 0}, {"i": 3836, "len": 132, "is_even": 1}, {"i": 3837, "len": 132, "is_even": 0}, {"i": 3838, "len": 132, "is_even": 1}, {"i": 3839, "len": 114, "is_even": 0}, {"i": 3840, "len": 26, "is_even": 1}, {"i": 3841, "len": 39, "is_even": 0}, {"i": 3842, "len": 145, "is_even": 1}, {"i": 3843, "len": 145, "is_even": 0}, {"i": 3844, "len": 52, "is_even": 1}, {"i": 3845, "len": 52, "is_even": 0}, {"i": 3846, "len": 52, "is_even": 1}, {"i": 3847, "len": 145, "is_even": 0}, {"i": 3848, "len": 52, "is_even": 1}, {"i": 3849, "len": 132, "is_even": 0}, {"i": 3850, "len": 52, "is_even": 1}, {"i": 3851, "len": 145, "is_even": 0}, {"i": 3852, "len": 52, "is_even": 1}, {"i": 3853, "len": 52, "is_even": 0}, {"i": 3854, "len": 52, "is_even": 1}, {"i": 3855, "len": 52, "is_even": 0}, {"i": 3856, "len": 26, "is_even": 1}, {"i": 3857, "len": 52, "is_even": 0}, {"i": 3858, "len": 57, "is_even": 1}, {"i": 3859, "len": 57, "is_even": 0}, {"i": 3860, "len": 26, "is_even": 1}, {"i": 3861, "len": 26, "is_even": 0}, {"i": 3862, "len": 145, "is_even": 1}, {"i": 3863, "len": 145, "is_even": 0}, {"i": 3864, "len": 26, "is_even": 1}, {"i": 3865, "len": 145, "is_even": 0}, {"i": 3866, "len": 26, "is_even": 1}, {"i": 3867, "len": 83, "is_even": 0}, {"i": 3868, "len": 145, "is_even": 1}, {"i": 3869, "len": 145, "is_even": 0}, {"i": 3870, "len": 145, "is_even": 1}, {"i": 3871, "len": 114, "is_even": 0}, {"i": 3872, "len": 101, "is_even": 1}, {"i": 3873, "len": 52, "is_even": 0}, {"i": 3874, "len": 52, "is_even": 1}, {"i": 3875, "len": 52, "is_even": 0}, {"i": 3876, "len": 52, "is_even": 1}, {"i": 3877, "len": 52, "is_even": 0}, {"i": 3878, "len": 52, "is_even": 1}, {"i": 3879, "len": 145, "is_even": 0}, {"i": 3880, "len": 101, "is_even": 1}, {"i": 3881, "len": 145, "is_even": 0}, {"i": 3882, "len": 101, "is_even": 1}, {"i": 3883, "len": 52, "is_even": 0}, {"i": 3884, "len": 39, "is_even": 1}, {"i": 3885, "len": 39, "is_even": 0}, {"i": 3886, "len": 39, "is_even": 1}, {"i": 3887, "len": 52, "is_even": 0}, {"i": 3888, "len": 101, "is_even": 1}, {"i": 3889, "len": 39, "is_even": 0}, {"i": 3890, "len": 39, "is_even": 1}, {"i": 3891, "len": 39, "is_even": 0}, {"i": 3892, "len": 101, "is_even": 1}, {"i": 3893, "len": 101, "is_even": 0}, {"i": 3894, "len": 83, "is_even": 1}, {"i": 3895, "len": 83, "is_even": 0}, {"i": 3896, "len": 145, "is_even": 1}, {"i": 3897, "len": 145, "is_even": 0}, {"i": 3898, "len": 145, "is_even": 1}, {"i": 3899, "len": 145, "is_even": 0}, {"i": 3900, "len": 145, "is_even": 1}, {"i": 3901, "len": 145, "is_even": 0}, {"i": 3902, "len": 176, "is_even": 1}, {"i": 3903, "len": 176, "is_even": 0}, {"i": 3904, "len": 26, "is_even": 1}, {"i": 3905, "len": 101, "is_even": 0}, {"i": 3906, "len": 39, "is_even": 1}, {"i": 3907, "len": 39, "is_even": 0}, {"i": 3908, "len": 101, "is_even": 1}, {"i": 3909, "len": 101, "is_even": 0}, {"i": 3910, "len": 101, "is_even": 1}, {"i": 3911, "len": 83, "is_even": 0}, {"i": 3912, "len": 52, "is_even": 1}, {"i": 3913, "len": 145, "is_even": 0}, {"i": 3914, "len": 52, "is_even": 1}, {"i": 3915, "len": 101, "is_even": 0}, {"i": 3916, "len": 52, "is_even": 1}, {"i": 3917, "len": 52, "is_even": 0}, {"i": 3918, "len": 83, "is_even": 1}, {"i": 3919, "len": 83, "is_even": 0}, {"i": 3920, "len": 26, "is_even": 1}, {"i": 3921, "len": 52, "is_even": 0}, {"i": 3922, "len": 176, "is_even": 1}, {"i": 3923, "len": 176, "is_even": 0}, {"i": 3924, "len": 26, "is_even": 1}, {"i": 3925, "len": 26, "is_even": 0}, {"i": 3926, "len": 83, "is_even": 1}, {"i": 3927, "len": 83, "is_even": 0}, {"i": 3928, "len": 145, "is_even": 1}, {"i": 3929, "len": 101, "is_even": 0}, {"i": 3930, "len": 145, "is_even": 1}, {"i": 3931, "len": 83, "is_even": 0}, {"i": 3932, "len": 145, "is_even": 1}, {"i": 3933, "len": 145, "is_even": 0}, {"i": 3934, "len": 101, "is_even": 1}, {"i": 3935, "len": 101, "is_even": 0}, {"i": 3936, "len": 52, "is_even": 1}, {"i": 3937, "len": 127, "is_even": 0}, {"i": 3938, "len": 26, "is_even": 1}, {"i": 3939, "len": 26, "is_even": 0}, {"i": 3940, "len": 26, "is_even": 1}, {"i": 3941, "len": 26, "is_even": 0}, {"i": 3942, "len": 26, "is_even": 1}, {"i": 3943, "len": 176, "is_even": 0}, {"i": 3944, "len": 52, "is_even": 1}, {"i": 3945, "len": 101, "is_even": 0}, {"i": 3946, "len": 52, "is_even": 1}, {"i": 3947, "len": 189, "is_even": 0}, {"i": 3948, "len": 39, "is_even": 1}, {"i": 3949, "len": 39, "is_even": 0}, {"i": 3950, "len": 39, "is_even": 1}, {"i": 3951, "len": 75, "is_even": 0}, {"i": 3952, "len": 52, "is_even": 1}, {"i": 3953, "len": 52, "is_even": 0}, {"i": 3954, "len": 145, "is_even": 1}, {"i": 3955, "len": 145, "is_even": 0}, {"i": 3956, "len": 52, "is_even": 1}, {"i": 3957, "len": 52, "is_even": 0}, {"i": 3958, "len": 145, "is_even": 1}, {"i": 3959, "len": 145, "is_even": 0}, {"i": 3960, "len": 101, "is_even": 1}, {"i": 3961, "len": 52, "is_even": 0}, {"i": 3962, "len": 101, "is_even": 1}, {"i": 3963, "len": 52, "is_even": 0}, {"i": 3964, "len": 101, "is_even": 1}, {"i": 3965, "len": 101, "is_even": 0}, {"i": 3966, "len": 52, "is_even": 1}, {"i": 3967, "len": 52, "is_even": 0}, {"i": 3968, "len": 114, "is_even": 1}, {"i": 3969, "len": 145, "is_even": 0}, {"i": 3970, "len": 52, "is_even": 1}, {"i": 3971, "len": 52, "is_even": 0}, {"i": 3972, "len": 96, "is_even": 1}, {"i": 3973, "len": 96, "is_even": 0}, {"i": 3974, "len": 96, "is_even": 1}, {"i": 3975, "len": 52, "is_even": 0}, {"i": 3976, "len": 26, "is_even": 1}, {"i": 3977, "len": 145, "is_even": 0}, {"i": 3978, "len": 26, "is_even": 1}, {"i": 3979, "len": 96, "is_even": 0}, {"i": 3980, "len": 26, "is_even": 1}, {"i": 3981, "len": 26, "is_even": 0}, {"i": 3982, "len": 52, "is_even": 1}, {"i": 3983, "len": 52, "is_even": 0}, {"i": 3984, "len": 52, "is_even": 1}, {"i": 3985, "len": 52, "is_even": 0}, {"i": 3986, "len": 52, "is_even": 1}, {"i": 3987, "len": 52, "is_even": 0}, {"i": 3988, "len": 52, "is_even": 1}, {"i": 3989, "len": 52, "is_even": 0}, {"i": 3990, "len": 52, "is_even": 1}, {"i": 3991, "len": 52, "is_even": 0}, {"i": 3992, "len": 52, "is_even": 1}, {"i": 3993, "len": 52, "is_even": 0}, {"i": 3994, "len": 52, "is_even": 1}, {"i": 3995, "len": 83, "is_even": 0}, {"i": 3996, "len": 52, "is_even": 1}, {"i": 3997, "len": 52, "is_even": 0}, {"i": 3998, "len": 52, "is_even": 1}, {"i": 3999, "len": 189, "is_even": 0}, {"i": 4000, "len": 114, "is_even": 1}, {"i": 4001, "len": 44, "is_even": 0}, {"i": 4002, "len": 52, "is_even": 1}, {"i": 4003, "len": 52, "is_even": 0}, {"i": 4004, "len": 145, "is_even": 1}, {"i": 4005, "len": 145, "is_even": 0}, {"i": 4006, "len": 145, "is_even": 1}, {"i": 4007, "len": 44, "is_even": 0}, {"i": 4008, "len": 114, "is_even": 1}, {"i": 4009, "len": 158, "is_even": 0}, {"i": 4010, "len": 114, "is_even": 1}, {"i": 4011, "len": 189, "is_even": 0}, {"i": 4012, "len": 44, "is_even": 1}, {"i": 4013, "len": 44, "is_even": 0}, {"i": 4014, "len": 44, "is_even": 1}, {"i": 4015, "len": 44, "is_even": 0}, {"i": 4016, "len": 70, "is_even": 1}, {"i": 4017, "len": 26, "is_even": 0}, {"i": 4018, "len": 26, "is_even": 1}, {"i": 4019, "len": 26, "is_even": 0}, {"i": 4020, "len": 70, "is_even": 1}, {"i": 4021, "len": 70, "is_even": 0}, {"i": 4022, "len": 44, "is_even": 1}, {"i": 4023, "len": 44, "is_even": 0}, {"i": 4024, "len": 70, "is_even": 1}, {"i": 4025, "len": 70, "is_even": 0}, {"i": 4026, "len": 70, "is_even": 1}, {"i": 4027, "len": 70, "is_even": 0}, {"i": 4028, "len": 96, "is_even": 1}, {"i": 4029, "len": 96, "is_even": 0}, {"i": 4030, "len": 96, "is_even": 1}, {"i": 4031, "len": 96, "is_even": 0}, {"i": 4032, "len": 114, "is_even": 1}, {"i": 4033, "len": 70, "is_even": 0}, {"i": 4034, "len": 70, "is_even": 1}, {"i": 4035, "len": 70, "is_even": 0}, {"i": 4036, "len": 114, "is_even": 1}, {"i": 4037, "len": 114, "is_even": 0}, {"i": 4038, "len": 114, "is_even": 1}, {"i": 4039, "len": 145, "is_even": 0}, {"i": 4040, "len": 65, "is_even": 1}, {"i": 4041, "len": 145, "is_even": 0}, {"i": 4042, "len": 65, "is_even": 1}, {"i": 4043, "len": 26, "is_even": 0}, {"i": 4044, "len": 65, "is_even": 1}, {"i": 4045, "len": 65, "is_even": 0}, {"i": 4046, "len": 158, "is_even": 1}, {"i": 4047, "len": 158, "is_even": 0}, {"i": 4048, "len": 114, "is_even": 1}, {"i": 4049, "len": 65, "is_even": 0}, {"i": 4050, "len": 158, "is_even": 1}, {"i": 4051, "len": 158, "is_even": 0}, {"i": 4052, "len": 114, "is_even": 1}, {"i": 4053, "len": 114, "is_even": 0}, {"i": 4054, "len": 158, "is_even": 1}, {"i": 4055, "len": 158, "is_even": 0}, {"i": 4056, "len": 39, "is_even": 1}, {"i": 4057, "len": 114, "is_even": 0}, {"i": 4058, "len": 39, "is_even": 1}, {"i": 4059, "len": 65, "is_even": 0}, {"i": 4060, "len": 39, "is_even": 1}, {"i": 4061, "len": 39, "is_even": 0}, {"i": 4062, "len": 65, "is_even": 1}, {"i": 4063, "len": 65, "is_even": 0}, {"i": 4064, "len": 52, "is_even": 1}, {"i": 4065, "len": 127, "is_even": 0}, {"i": 4066, "len": 114, "is_even": 1}, {"i": 4067, "len": 114, "is_even": 0}, {"i": 4068, "len": 158, "is_even": 1}, {"i": 4069, "len": 158, "is_even": 0}, {"i": 4070, "len": 158, "is_even": 1}, {"i": 4071, "len": 158, "is_even": 0}, {"i": 4072, "len": 52, "is_even": 1}, {"i": 4073, "len": 96, "is_even": 0}, {"i": 4074, "len": 52, "is_even": 1}, {"i": 4075, "len": 158, "is_even": 0}, {"i": 4076, "len": 65, "is_even": 1}, {"i": 4077, "len": 65, "is_even": 0}, {"i": 4078, "len": 65, "is_even": 1}, {"i": 4079, "len": 65, "is_even": 0}, {"i": 4080, "len": 52, "is_even": 1}, {"i": 4081, "len": 52, "is_even": 0}, {"i": 4082, "len": 65, "is_even": 1}, {"i": 4083, "len": 65, "is_even": 0}, {"i": 4084, "len": 52, "is_even": 1}, {"i": 4085, "len": 52, "is_even": 0}, {"i": 4086, "len": 158, "is_even": 1}, {"i": 4087, "len": 158, "is_even": 0}, {"i": 4088, "len": 65, "is_even": 1}, {"i": 4089, "len": 65, "is_even": 0}, {"i": 4090, "len": 65, "is_even": 1}, {"i": 4091, "len": 127, "is_even": 0}, {"i": 4092, "len": 65, "is_even": 1}, {"i": 4093, "len": 65, "is_even": 0}, {"i": 4094, "len": 158, "is_even": 1}, {"i": 4095, "len": 158, "is_even": 0}, {"i": 4096, "len": 13, "is_even": 1}, {"i": 4097, "len": 114, "is_even": 0}, {"i": 4098, "len": 158, "is_even": 1}, {"i": 4099, "len": 158, "is_even": 0}, {"i": 4100, "len": 39, "is_even": 1}, {"i": 4101, "len": 39, "is_even": 0}, {"i": 4102, "len": 39, "is_even": 1}, {"i": 4103, "len": 158, "is_even": 0}, {"i": 4104, "len": 39, "is_even": 1}, {"i": 4105, "len": 158, "is_even": 0}, {"i": 4106, "len": 39, "is_even": 1}, {"i": 4107, "len": 39, "is_even": 0}, {"i": 4108, "len": 39, "is_even": 1}, {"i": 4109, "len": 39, "is_even": 0}, {"i": 4110, "len": 39, "is_even": 1}, {"i": 4111, "len": 39, "is_even": 0}, {"i": 4112, "len": 127, "is_even": 1}, {"i": 4113, "len": 39, "is_even": 0}, {"i": 4114, "len": 114, "is_even": 1}, {"i": 4115, "len": 114, "is_even": 0}, {"i": 4116, "len": 127, "is_even": 1}, {"i": 4117, "len": 127, "is_even": 0}, {"i": 4118, "len": 39, "is_even": 1}, {"i": 4119, "len": 39, "is_even": 0}, {"i": 4120, "len": 127, "is_even": 1}, {"i": 4121, "len": 65, "is_even": 0}, {"i": 4122, "len": 127, "is_even": 1}, {"i": 4123, "len": 96, "is_even": 0}, {"i": 4124, "len": 39, "is_even": 1}, {"i": 4125, "len": 39, "is_even": 0}, {"i": 4126, "len": 39, "is_even": 1}, {"i": 4127, "len": 171, "is_even": 0}, {"i": 4128, "len": 127, "is_even": 1}, {"i": 4129, "len": 189, "is_even": 0}, {"i": 4130, "len": 127, "is_even": 1}, {"i": 4131, "len": 127, "is_even": 0}, {"i": 4132, "len": 158, "is_even": 1}, {"i": 4133, "len": 158, "is_even": 0}, {"i": 4134, "len": 158, "is_even": 1}, {"i": 4135, "len": 96, "is_even": 0}, {"i": 4136, "len": 127, "is_even": 1}, {"i": 4137, "len": 96, "is_even": 0}, {"i": 4138, "len": 127, "is_even": 1}, {"i": 4139, "len": 158, "is_even": 0}, {"i": 4140, "len": 127, "is_even": 1}, {"i": 4141, "len": 127, "is_even": 0}, {"i": 4142, "len": 127, "is_even": 1}, {"i": 4143, "len": 65, "is_even": 0}, {"i": 4144, "len": 127, "is_even": 1}, {"i": 4145, "len": 39, "is_even": 0}, {"i": 4146, "len": 39, "is_even": 1}, {"i": 4147, "len": 39, "is_even": 0}, {"i": 4148, "len": 127, "is_even": 1}, {"i": 4149, "len": 127, "is_even": 0}, {"i": 4150, "len": 96, "is_even": 1}, {"i": 4151, "len": 96, "is_even": 0}, {"i": 4152, "len": 65, "is_even": 1}, {"i": 4153, "len": 65, "is_even": 0}, {"i": 4154, "len": 65, "is_even": 1}, {"i": 4155, "len": 65, "is_even": 0}, {"i": 4156, "len": 65, "is_even": 1}, {"i": 4157, "len": 65, "is_even": 0}, {"i": 4158, "len": 52, "is_even": 1}, {"i": 4159, "len": 52, "is_even": 0}, {"i": 4160, "len": 34, "is_even": 1}, {"i": 4161, "len": 65, "is_even": 0}, {"i": 4162, "len": 65, "is_even": 1}, {"i": 4163, "len": 65, "is_even": 0}, {"i": 4164, "len": 127, "is_even": 1}, {"i": 4165, "len": 127, "is_even": 0}, {"i": 4166, "len": 127, "is_even": 1}, {"i": 4167, "len": 114, "is_even": 0}, {"i": 4168, "len": 127, "is_even": 1}, {"i": 4169, "len": 158, "is_even": 0}, {"i": 4170, "len": 127, "is_even": 1}, {"i": 4171, "len": 127, "is_even": 0}, {"i": 4172, "len": 127, "is_even": 1}, {"i": 4173, "len": 127, "is_even": 0}, {"i": 4174, "len": 114, "is_even": 1}, {"i": 4175, "len": 114, "is_even": 0}, {"i": 4176, "len": 34, "is_even": 1}, {"i": 4177, "len": 127, "is_even": 0}, {"i": 4178, "len": 65, "is_even": 1}, {"i": 4179, "len": 65, "is_even": 0}, {"i": 4180, "len": 34, "is_even": 1}, {"i": 4181, "len": 34, "is_even": 0}, {"i": 4182, "len": 39, "is_even": 1}, {"i": 4183, "len": 39, "is_even": 0}, {"i": 4184, "len": 127, "is_even": 1}, {"i": 4185, "len": 39, "is_even": 0}, {"i": 4186, "len": 127, "is_even": 1}, {"i": 4187, "len": 65, "is_even": 0}, {"i": 4188, "len": 127, "is_even": 1}, {"i": 4189, "len": 127, "is_even": 0}, {"i": 4190, "len": 109, "is_even": 1}, {"i": 4191, "len": 109, "is_even": 0}, {"i": 4192, "len": 34, "is_even": 1}, {"i": 4193, "len": 65, "is_even": 0}, {"i": 4194, "len": 65, "is_even": 1}, {"i": 4195, "len": 65, "is_even": 0}, {"i": 4196, "len": 65, "is_even": 1}, {"i": 4197, "len": 65, "is_even": 0}, {"i": 4198, "len": 65, "is_even": 1}, {"i": 4199, "len": 65, "is_even": 0}, {"i": 4200, "len": 34, "is_even": 1}, {"i": 4201, "len": 65, "is_even": 0}, {"i": 4202, "len": 34, "is_even": 1}, {"i": 4203, "len": 65, "is_even": 0}, {"i": 4204, "len": 96, "is_even": 1}, {"i": 4205, "len": 96, "is_even": 0}, {"i": 4206, "len": 96, "is_even": 1}, {"i": 4207, "len": 109, "is_even": 0}, {"i": 4208, "len": 83, "is_even": 1}, {"i": 4209, "len": 34, "is_even": 0}, {"i": 4210, "len": 127, "is_even": 1}, {"i": 4211, "len": 127, "is_even": 0}, {"i": 4212, "len": 83, "is_even": 1}, {"i": 4213, "len": 83, "is_even": 0}, {"i": 4214, "len": 158, "is_even": 1}, {"i": 4215, "len": 158, "is_even": 0}, {"i": 4216, "len": 83, "is_even": 1}, {"i": 4217, "len": 57, "is_even": 0}, {"i": 4218, "len": 83, "is_even": 1}, {"i": 4219, "len": 158, "is_even": 0}, {"i": 4220, "len": 171, "is_even": 1}, {"i": 4221, "len": 171, "is_even": 0}, {"i": 4222, "len": 171, "is_even": 1}, {"i": 4223, "len": 158, "is_even": 0}, {"i": 4224, "len": 34, "is_even": 1}, {"i": 4225, "len": 57, "is_even": 0}, {"i": 4226, "len": 83, "is_even": 1}, {"i": 4227, "len": 83, "is_even": 0}, {"i": 4228, "len": 83, "is_even": 1}, {"i": 4229, "len": 83, "is_even": 0}, {"i": 4230, "len": 83, "is_even": 1}, {"i": 4231, "len": 39, "is_even": 0}, {"i": 4232, "len": 34, "is_even": 1}, {"i": 4233, "len": 202, "is_even": 0}, {"i": 4234, "len": 34, "is_even": 1}, {"i": 4235, "len": 57, "is_even": 0}, {"i": 4236, "len": 34, "is_even": 1}, {"i": 4237, "len": 34, "is_even": 0}, {"i": 4238, "len": 83, "is_even": 1}, {"i": 4239, "len": 83, "is_even": 0}, {"i": 4240, "len": 127, "is_even": 1}, {"i": 4241, "len": 109, "is_even": 0}, {"i": 4242, "len": 109, "is_even": 1}, {"i": 4243, "len": 109, "is_even": 0}, {"i": 4244, "len": 127, "is_even": 1}, {"i": 4245, "len": 127, "is_even": 0}, {"i": 4246, "len": 34, "is_even": 1}, {"i": 4247, "len": 34, "is_even": 0}, {"i": 4248, "len": 127, "is_even": 1}, {"i": 4249, "len": 127, "is_even": 0}, {"i": 4250, "len": 127, "is_even": 1}, {"i": 4251, "len": 83, "is_even": 0}, {"i": 4252, "len": 78, "is_even": 1}, {"i": 4253, "len": 78, "is_even": 0}, {"i": 4254, "len": 78, "is_even": 1}, {"i": 4255, "len": 202, "is_even": 0}, {"i": 4256, "len": 34, "is_even": 1}, {"i": 4257, "len": 39, "is_even": 0}, {"i": 4258, "len": 127, "is_even": 1}, {"i": 4259, "len": 127, "is_even": 0}, {"i": 4260, "len": 78, "is_even": 1}, {"i": 4261, "len": 78, "is_even": 0}, {"i": 4262, "len": 78, "is_even": 1}, {"i": 4263, "len": 127, "is_even": 0}, {"i": 4264, "len": 34, "is_even": 1}, {"i": 4265, "len": 171, "is_even": 0}, {"i": 4266, "len": 34, "is_even": 1}, {"i": 4267, "len": 127, "is_even": 0}, {"i": 4268, "len": 65, "is_even": 1}, {"i": 4269, "len": 65, "is_even": 0}, {"i": 4270, "len": 65, "is_even": 1}, {"i": 4271, "len": 171, "is_even": 0}, {"i": 4272, "len": 26, "is_even": 1}, {"i": 4273, "len": 65, "is_even": 0}, {"i": 4274, "len": 65, "is_even": 1}, {"i": 4275, "len": 65, "is_even": 0}, {"i": 4276, "len": 26, "is_even": 1}, {"i": 4277, "len": 26, "is_even": 0}, {"i": 4278, "len": 78, "is_even": 1}, {"i": 4279, "len": 78, "is_even": 0}, {"i": 4280, "len": 26, "is_even": 1}, {"i": 4281, "len": 127, "is_even": 0}, {"i": 4282, "len": 26, "is_even": 1}, {"i": 4283, "len": 127, "is_even": 0}, {"i": 4284, "len": 171, "is_even": 1}, {"i": 4285, "len": 171, "is_even": 0}, {"i": 4286, "len": 171, "is_even": 1}, {"i": 4287, "len": 127, "is_even": 0}, {"i": 4288, "len": 34, "is_even": 1}, {"i": 4289, "len": 78, "is_even": 0}, {"i": 4290, "len": 78, "is_even": 1}, {"i": 4291, "len": 78, "is_even": 0}, {"i": 4292, "len": 26, "is_even": 1}, {"i": 4293, "len": 26, "is_even": 0}, {"i": 4294, "len": 26, "is_even": 1}, {"i": 4295, "len": 78, "is_even": 0}, {"i": 4296, "len": 26, "is_even": 1}, {"i": 4297, "len": 26, "is_even": 0}, {"i": 4298, "len": 26, "is_even": 1}, {"i": 4299, "len": 65, "is_even": 0}, {"i": 4300, "len": 26, "is_even": 1}, {"i": 4301, "len": 26, "is_even": 0}, {"i": 4302, "len": 109, "is_even": 1}, {"i": 4303, "len": 109, "is_even": 0}, {"i": 4304, "len": 34, "is_even": 1}, {"i": 4305, "len": 78, "is_even": 0}, {"i": 4306, "len": 78, "is_even": 1}, {"i": 4307, "len": 78, "is_even": 0}, {"i": 4308, "len": 34, "is_even": 1}, {"i": 4309, "len": 34, "is_even": 0}, {"i": 4310, "len": 171, "is_even": 1}, {"i": 4311, "len": 171, "is_even": 0}, {"i": 4312, "len": 52, "is_even": 1}, {"i": 4313, "len": 52, "is_even": 0}, {"i": 4314, "len": 52, "is_even": 1}, {"i": 4315, "len": 127, "is_even": 0}, {"i": 4316, "len": 52, "is_even": 1}, {"i": 4317, "len": 52, "is_even": 0}, {"i": 4318, "len": 127, "is_even": 1}, {"i": 4319, "len": 127, "is_even": 0}, {"i": 4320, "len": 47, "is_even": 1}, {"i": 4321, "len": 171, "is_even": 0}, {"i": 4322, "len": 34, "is_even": 1}, {"i": 4323, "len": 34, "is_even": 0}, {"i": 4324, "len": 140, "is_even": 1}, {"i": 4325, "len": 140, "is_even": 0}, {"i": 4326, "len": 140, "is_even": 1}, {"i": 4327, "len": 171, "is_even": 0}, {"i": 4328, "len": 47, "is_even": 1}, {"i": 4329, "len": 52, "is_even": 0}, {"i": 4330, "len": 47, "is_even": 1}, {"i": 4331, "len": 127, "is_even": 0}, {"i": 4332, "len": 140, "is_even": 1}, {"i": 4333, "len": 140, "is_even": 0}, {"i": 4334, "len": 140, "is_even": 1}, {"i": 4335, "len": 65, "is_even": 0}, {"i": 4336, "len": 47, "is_even": 1}, {"i": 4337, "len": 47, "is_even": 0}, {"i": 4338, "len": 78, "is_even": 1}, {"i": 4339, "len": 78, "is_even": 0}, {"i": 4340, "len": 47, "is_even": 1}, {"i": 4341, "len": 47, "is_even": 0}, {"i": 4342, "len": 52, "is_even": 1}, {"i": 4343, "len": 52, "is_even": 0}, {"i": 4344, "len": 140, "is_even": 1}, {"i": 4345, "len": 52, "is_even": 0}, {"i": 4346, "len": 140, "is_even": 1}, {"i": 4347, "len": 184, "is_even": 0}, {"i": 4348, "len": 140, "is_even": 1}, {"i": 4349, "len": 140, "is_even": 0}, {"i": 4350, "len": 78, "is_even": 1}, {"i": 4351, "len": 78, "is_even": 0}, {"i": 4352, "len": 21, "is_even": 1}, {"i": 4353, "len": 140, "is_even": 0}, {"i": 4354, "len": 140, "is_even": 1}, {"i": 4355, "len": 140, "is_even": 0}, {"i": 4356, "len": 47, "is_even": 1}, {"i": 4357, "len": 47, "is_even": 0}, {"i": 4358, "len": 47, "is_even": 1}, {"i": 4359, "len": 171, "is_even": 0}, {"i": 4360, "len": 47, "is_even": 1}, {"i": 4361, "len": 140, "is_even": 0}, {"i": 4362, "len": 47, "is_even": 1}, {"i": 4363, "len": 140, "is_even": 0}, {"i": 4364, "len": 47, "is_even": 1}, {"i": 4365, "len": 47, "is_even": 0}, {"i": 4366, "len": 140, "is_even": 1}, {"i": 4367, "len": 140, "is_even": 0}, {"i": 4368, "len": 34, "is_even": 1}, {"i": 4369, "len": 47, "is_even": 0}, {"i": 4370, "len": 109, "is_even": 1}, {"i": 4371, "len": 109, "is_even": 0}, {"i": 4372, "len": 34, "is_even": 1}, {"i": 4373, "len": 34, "is_even": 0}, {"i": 4374, "len": 78, "is_even": 1}, {"i": 4375, "len": 78, "is_even": 0}, {"i": 4376, "len": 34, "is_even": 1}, {"i": 4377, "len": 78, "is_even": 0}, {"i": 4378, "len": 34, "is_even": 1}, {"i": 4379, "len": 215, "is_even": 0}, {"i": 4380, "len": 78, "is_even": 1}, {"i": 4381, "len": 78, "is_even": 0}, {"i": 4382, "len": 78, "is_even": 1}, {"i": 4383, "len": 78, "is_even": 0}, {"i": 4384, "len": 96, "is_even": 1}, {"i": 4385, "len": 140, "is_even": 0}, {"i": 4386, "len": 140, "is_even": 1}, {"i": 4387, "len": 140, "is_even": 0}, {"i": 4388, "len": 140, "is_even": 1}, {"i": 4389, "len": 140, "is_even": 0}, {"i": 4390, "len": 140, "is_even": 1}, {"i": 4391, "len": 171, "is_even": 0}, {"i": 4392, "len": 96, "is_even": 1}, {"i": 4393, "len": 140, "is_even": 0}, {"i": 4394, "len": 96, "is_even": 1}, {"i": 4395, "len": 127, "is_even": 0}, {"i": 4396, "len": 34, "is_even": 1}, {"i": 4397, "len": 34, "is_even": 0}, {"i": 4398, "len": 34, "is_even": 1}, {"i": 4399, "len": 101, "is_even": 0}, {"i": 4400, "len": 96, "is_even": 1}, {"i": 4401, "len": 140, "is_even": 0}, {"i": 4402, "len": 140, "is_even": 1}, {"i": 4403, "len": 140, "is_even": 0}, {"i": 4404, "len": 96, "is_even": 1}, {"i": 4405, "len": 96, "is_even": 0}, {"i": 4406, "len": 52, "is_even": 1}, {"i": 4407, "len": 52, "is_even": 0}, {"i": 4408, "len": 47, "is_even": 1}, {"i": 4409, "len": 78, "is_even": 0}, {"i": 4410, "len": 47, "is_even": 1}, {"i": 4411, "len": 47, "is_even": 0}, {"i": 4412, "len": 47, "is_even": 1}, {"i": 4413, "len": 47, "is_even": 0}, {"i": 4414, "len": 171, "is_even": 1}, {"i": 4415, "len": 171, "is_even": 0}, {"i": 4416, "len": 21, "is_even": 1}, {"i": 4417, "len": 96, "is_even": 0}, {"i": 4418, "len": 78, "is_even": 1}, {"i": 4419, "len": 78, "is_even": 0}, {"i": 4420, "len": 96, "is_even": 1}, {"i": 4421, "len": 96, "is_even": 0}, {"i": 4422, "len": 96, "is_even": 1}, {"i": 4423, "len": 78, "is_even": 0}, {"i": 4424, "len": 140, "is_even": 1}, {"i": 4425, "len": 47, "is_even": 0}, {"i": 4426, "len": 140, "is_even": 1}, {"i": 4427, "len": 96, "is_even": 0}, {"i": 4428, "len": 140, "is_even": 1}, {"i": 4429, "len": 140, "is_even": 0}, {"i": 4430, "len": 122, "is_even": 1}, {"i": 4431, "len": 122, "is_even": 0}, {"i": 4432, "len": 21, "is_even": 1}, {"i": 4433, "len": 140, "is_even": 0}, {"i": 4434, "len": 78, "is_even": 1}, {"i": 4435, "len": 78, "is_even": 0}, {"i": 4436, "len": 21, "is_even": 1}, {"i": 4437, "len": 21, "is_even": 0}, {"i": 4438, "len": 96, "is_even": 1}, {"i": 4439, "len": 96, "is_even": 0}, {"i": 4440, "len": 34, "is_even": 1}, {"i": 4441, "len": 184, "is_even": 0}, {"i": 4442, "len": 34, "is_even": 1}, {"i": 4443, "len": 96, "is_even": 0}, {"i": 4444, "len": 34, "is_even": 1}, {"i": 4445, "len": 34, "is_even": 0}, {"i": 4446, "len": 184, "is_even": 1}, {"i": 4447, "len": 184, "is_even": 0}, {"i": 4448, "len": 47, "is_even": 1}, {"i": 4449, "len": 70, "is_even": 0}, {"i": 4450, "len": 140, "is_even": 1}, {"i": 4451, "len": 140, "is_even": 0}, {"i": 4452, "len": 140, "is_even": 1}, {"i": 4453, "len": 140, "is_even": 0}, {"i": 4454, "len": 140, "is_even": 1}, {"i": 4455, "len": 96, "is_even": 0}, {"i": 4456, "len": 47, "is_even": 1}, {"i": 4457, "len": 47, "is_even": 0}, {"i": 4458, "len": 47, "is_even": 1}, {"i": 4459, "len": 47, "is_even": 0}, {"i": 4460, "len": 96, "is_even": 1}, {"i": 4461, "len": 96, "is_even": 0}, {"i": 4462, "len": 96, "is_even": 1}, {"i": 4463, "len": 47, "is_even": 0}, {"i": 4464, "len": 47, "is_even": 1}, {"i": 4465, "len": 47, "is_even": 0}, {"i": 4466, "len": 140, "is_even": 1}, {"i": 4467, "len": 140, "is_even": 0}, {"i": 4468, "len": 47, "is_even": 1}, {"i": 4469, "len": 47, "is_even": 0}, {"i": 4470, "len": 47, "is_even": 1}, {"i": 4471, "len": 47, "is_even": 0}, {"i": 4472, "len": 91, "is_even": 1}, {"i": 4473, "len": 96, "is_even": 0}, {"i": 4474, "len": 91, "is_even": 1}, {"i": 4475, "len": 140, "is_even": 0}, {"i": 4476, "len": 91, "is_even": 1}, {"i": 4477, "len": 91, "is_even": 0}, {"i": 4478, "len": 140, "is_even": 1}, {"i": 4479, "len": 140, "is_even": 0}, {"i": 4480, "len": 21, "is_even": 1}, {"i": 4481, "len": 47, "is_even": 0}, {"i": 4482, "len": 47, "is_even": 1}, {"i": 4483, "len": 47, "is_even": 0}, {"i": 4484, "len": 47, "is_even": 1}, {"i": 4485, "len": 47, "is_even": 0}, {"i": 4486, "len": 47, "is_even": 1}, {"i": 4487, "len": 47, "is_even": 0}, {"i": 4488, "len": 47, "is_even": 1}, {"i": 4489, "len": 91, "is_even": 0}, {"i": 4490, "len": 47, "is_even": 1}, {"i": 4491, "len": 184, "is_even": 0}, {"i": 4492, "len": 47, "is_even": 1}, {"i": 4493, "len": 47, "is_even": 0}, {"i": 4494, "len": 78, "is_even": 1}, {"i": 4495, "len": 78, "is_even": 0}, {"i": 4496, "len": 47, "is_even": 1}, {"i": 4497, "len": 47, "is_even": 0}, {"i": 4498, "len": 47, "is_even": 1}, {"i": 4499, "len": 47, "is_even": 0}, {"i": 4500, "len": 47, "is_even": 1}, {"i": 4501, "len": 47, "is_even": 0}, {"i": 4502, "len": 39, "is_even": 1}, {"i": 4503, "len": 39, "is_even": 0}, {"i": 4504, "len": 47, "is_even": 1}, {"i": 4505, "len": 39, "is_even": 0}, {"i": 4506, "len": 47, "is_even": 1}, {"i": 4507, "len": 91, "is_even": 0}, {"i": 4508, "len": 140, "is_even": 1}, {"i": 4509, "len": 140, "is_even": 0}, {"i": 4510, "len": 140, "is_even": 1}, {"i": 4511, "len": 153, "is_even": 0}, {"i": 4512, "len": 21, "is_even": 1}, {"i": 4513, "len": 184, "is_even": 0}, {"i": 4514, "len": 39, "is_even": 1}, {"i": 4515, "len": 39, "is_even": 0}, {"i": 4516, "len": 39, "is_even": 1}, {"i": 4517, "len": 39, "is_even": 0}, {"i": 4518, "len": 39, "is_even": 1}, {"i": 4519, "len": 91, "is_even": 0}, {"i": 4520, "len": 21, "is_even": 1}, {"i": 4521, "len": 184, "is_even": 0}, {"i": 4522, "len": 21, "is_even": 1}, {"i": 4523, "len": 91, "is_even": 0}, {"i": 4524, "len": 39, "is_even": 1}, {"i": 4525, "len": 39, "is_even": 0}, {"i": 4526, "len": 39, "is_even": 1}, {"i": 4527, "len": 39, "is_even": 0}, {"i": 4528, "len": 65, "is_even": 1}, {"i": 4529, "len": 65, "is_even": 0}, {"i": 4530, "len": 65, "is_even": 1}, {"i": 4531, "len": 65, "is_even": 0}, {"i": 4532, "len": 65, "is_even": 1}, {"i": 4533, "len": 65, "is_even": 0}, {"i": 4534, "len": 91, "is_even": 1}, {"i": 4535, "len": 91, "is_even": 0}, {"i": 4536, "len": 65, "is_even": 1}, {"i": 4537, "len": 65, "is_even": 0}, {"i": 4538, "len": 65, "is_even": 1}, {"i": 4539, "len": 184, "is_even": 0}, {"i": 4540, "len": 65, "is_even": 1}, {"i": 4541, "len": 65, "is_even": 0}, {"i": 4542, "len": 65, "is_even": 1}, {"i": 4543, "len": 184, "is_even": 0}, {"i": 4544, "len": 109, "is_even": 1}, {"i": 4545, "len": 140, "is_even": 0}, {"i": 4546, "len": 140, "is_even": 1}, {"i": 4547, "len": 140, "is_even": 0}, {"i": 4548, "len": 21, "is_even": 1}, {"i": 4549, "len": 21, "is_even": 0}, {"i": 4550, "len": 21, "is_even": 1}, {"i": 4551, "len": 184, "is_even": 0}, {"i": 4552, "len": 60, "is_even": 1}, {"i": 4553, "len": 153, "is_even": 0}, {"i": 4554, "len": 60, "is_even": 1}, {"i": 4555, "len": 60, "is_even": 0}, {"i": 4556, "len": 60, "is_even": 1}, {"i": 4557, "len": 60, "is_even": 0}, {"i": 4558, "len": 153, "is_even": 1}, {"i": 4559, "len": 153, "is_even": 0}, {"i": 4560, "len": 109, "is_even": 1}, {"i": 4561, "len": 60, "is_even": 0}, {"i": 4562, "len": 153, "is_even": 1}, {"i": 4563, "len": 153, "is_even": 0}, {"i": 4564, "len": 109, "is_even": 1}, {"i": 4565, "len": 109, "is_even": 0}, {"i": 4566, "len": 60, "is_even": 1}, {"i": 4567, "len": 60, "is_even": 0}, {"i": 4568, "len": 34, "is_even": 1}, {"i": 4569, "len": 34, "is_even": 0}, {"i": 4570, "len": 34, "is_even": 1}, {"i": 4571, "len": 60, "is_even": 0}, {"i": 4572, "len": 34, "is_even": 1}, {"i": 4573, "len": 34, "is_even": 0}, {"i": 4574, "len": 122, "is_even": 1}, {"i": 4575, "len": 122, "is_even": 0}, {"i": 4576, "len": 109, "is_even": 1}, {"i": 4577, "len": 153, "is_even": 0}, {"i": 4578, "len": 109, "is_even": 1}, {"i": 4579, "len": 109, "is_even": 0}, {"i": 4580, "len": 153, "is_even": 1}, {"i": 4581, "len": 153, "is_even": 0}, {"i": 4582, "len": 153, "is_even": 1}, {"i": 4583, "len": 91, "is_even": 0}, {"i": 4584, "len": 109, "is_even": 1}, {"i": 4585, "len": 153, "is_even": 0}, {"i": 4586, "len": 109, "is_even": 1}, {"i": 4587, "len": 122, "is_even": 0}, {"i": 4588, "len": 60, "is_even": 1}, {"i": 4589, "len": 60, "is_even": 0}, {"i": 4590, "len": 60, "is_even": 1}, {"i": 4591, "len": 171, "is_even": 0}, {"i": 4592, "len": 47, "is_even": 1}, {"i": 4593, "len": 109, "is_even": 0}, {"i": 4594, "len": 60, "is_even": 1}, {"i": 4595, "len": 60, "is_even": 0}, {"i": 4596, "len": 47, "is_even": 1}, {"i": 4597, "len": 47, "is_even": 0}, {"i": 4598, "len": 153, "is_even": 1}, {"i": 4599, "len": 153, "is_even": 0}, {"i": 4600, "len": 47, "is_even": 1}, {"i": 4601, "len": 60, "is_even": 0}, {"i": 4602, "len": 47, "is_even": 1}, {"i": 4603, "len": 122, "is_even": 0}, {"i": 4604, "len": 60, "is_even": 1}, {"i": 4605, "len": 60, "is_even": 0}, {"i": 4606, "len": 60, "is_even": 1}, {"i": 4607, "len": 153, "is_even": 0}, {"i": 4608, "len": 29, "is_even": 1}, {"i": 4609, "len": 47, "is_even": 0}, {"i": 4610, "len": 109, "is_even": 1}, {"i": 4611, "len": 109, "is_even": 0}, {"i": 4612, "len": 153, "is_even": 1}, {"i": 4613, "len": 153, "is_even": 0}, {"i": 4614, "len": 153, "is_even": 1}, {"i": 4615, "len": 91, "is_even": 0}, {"i": 4616, "len": 34, "is_even": 1}, {"i": 4617, "len": 109, "is_even": 0}, {"i": 4618, "len": 34, "is_even": 1}, {"i": 4619, "len": 153, "is_even": 0}, {"i": 4620, "len": 34, "is_even": 1}, {"i": 4621, "len": 34, "is_even": 0}, {"i": 4622, "len": 153, "is_even": 1}, {"i": 4623, "len": 153, "is_even": 0}, {"i": 4624, "len": 34, "is_even": 1}, {"i": 4625, "len": 34, "is_even": 0}, {"i": 4626, "len": 109, "is_even": 1}, {"i": 4627, "len": 109, "is_even": 0}, {"i": 4628, "len": 34, "is_even": 1}, {"i": 4629, "len": 34, "is_even": 0}, {"i": 4630, "len": 109, "is_even": 1}, {"i": 4631, "len": 109, "is_even": 0}, {"i": 4632, "len": 34, "is_even": 1}, {"i": 4633, "len": 109, "is_even": 0}, {"i": 4634, "len": 34, "is_even": 1}, {"i": 4635, "len": 91, "is_even": 0}, {"i": 4636, "len": 60, "is_even": 1}, {"i": 4637, "len": 60, "is_even": 0}, {"i": 4638, "len": 60, "is_even": 1}, {"i": 4639, "len": 91, "is_even": 0}, {"i": 4640, "len": 122, "is_even": 1}, {"i": 4641, "len": 60, "is_even": 0}, {"i": 4642, "len": 34, "is_even": 1}, {"i": 4643, "len": 34, "is_even": 0}, {"i": 4644, "len": 184, "is_even": 1}, {"i": 4645, "len": 184, "is_even": 0}, {"i": 4646, "len": 184, "is_even": 1}, {"i": 4647, "len": 60, "is_even": 0}, {"i": 4648, "len": 122, "is_even": 1}, {"i": 4649, "len": 135, "is_even": 0}, {"i": 4650, "len": 122, "is_even": 1}, {"i": 4651, "len": 34, "is_even": 0}, {"i": 4652, "len": 153, "is_even": 1}, {"i": 4653, "len": 153, "is_even": 0}, {"i": 4654, "len": 153, "is_even": 1}, {"i": 4655, "len": 91, "is_even": 0}, {"i": 4656, "len": 122, "is_even": 1}, {"i": 4657, "len": 153, "is_even": 0}, {"i": 4658, "len": 153, "is_even": 1}, {"i": 4659, "len": 153, "is_even": 0}, {"i": 4660, "len": 122, "is_even": 1}, {"i": 4661, "len": 122, "is_even": 0}, {"i": 4662, "len": 109, "is_even": 1}, {"i": 4663, "len": 109, "is_even": 0}, {"i": 4664, "len": 34, "is_even": 1}, {"i": 4665, "len": 135, "is_even": 0}, {"i": 4666, "len": 34, "is_even": 1}, {"i": 4667, "len": 34, "is_even": 0}, {"i": 4668, "len": 34, "is_even": 1}, {"i": 4669, "len": 34, "is_even": 0}, {"i": 4670, "len": 91, "is_even": 1}, {"i": 4671, "len": 91, "is_even": 0}, {"i": 4672, "len": 122, "is_even": 1}, {"i": 4673, "len": 60, "is_even": 0}, {"i": 4674, "len": 60, "is_even": 1}, {"i": 4675, "len": 60, "is_even": 0}, {"i": 4676, "len": 60, "is_even": 1}, {"i": 4677, "len": 60, "is_even": 0}, {"i": 4678, "len": 60, "is_even": 1}, {"i": 4679, "len": 47, "is_even": 0}, {"i": 4680, "len": 60, "is_even": 1}, {"i": 4681, "len": 47, "is_even": 0}, {"i": 4682, "len": 60, "is_even": 1}, {"i": 4683, "len": 60, "is_even": 0}, {"i": 4684, "len": 60, "is_even": 1}, {"i": 4685, "len": 60, "is_even": 0}, {"i": 4686, "len": 153, "is_even": 1}, {"i": 4687, "len": 153, "is_even": 0}, {"i": 4688, "len": 122, "is_even": 1}, {"i": 4689, "len": 153, "is_even": 0}, {"i": 4690, "len": 153, "is_even": 1}, {"i": 4691, "len": 153, "is_even": 0}, {"i": 4692, "len": 122, "is_even": 1}, {"i": 4693, "len": 122, "is_even": 0}, {"i": 4694, "len": 109, "is_even": 1}, {"i": 4695, "len": 109, "is_even": 0}, {"i": 4696, "len": 122, "is_even": 1}, {"i": 4697, "len": 109, "is_even": 0}, {"i": 4698, "len": 122, "is_even": 1}, {"i": 4699, "len": 83, "is_even": 0}, {"i": 4700, "len": 122, "is_even": 1}, {"i": 4701, "len": 122, "is_even": 0}, {"i": 4702, "len": 60, "is_even": 1}, {"i": 4703, "len": 60, "is_even": 0}, {"i": 4704, "len": 122, "is_even": 1}, {"i": 4705, "len": 60, "is_even": 0}, {"i": 4706, "len": 34, "is_even": 1}, {"i": 4707, "len": 34, "is_even": 0}, {"i": 4708, "len": 34, "is_even": 1}, {"i": 4709, "len": 34, "is_even": 0}, {"i": 4710, "len": 34, "is_even": 1}, {"i": 4711, "len": 60, "is_even": 0}, {"i": 4712, "len": 122, "is_even": 1}, {"i": 4713, "len": 153, "is_even": 0}, {"i": 4714, "len": 122, "is_even": 1}, {"i": 4715, "len": 104, "is_even": 0}, {"i": 4716, "len": 60, "is_even": 1}, {"i": 4717, "len": 60, "is_even": 0}, {"i": 4718, "len": 60, "is_even": 1}, {"i": 4719, "len": 104, "is_even": 0}, {"i": 4720, "len": 60, "is_even": 1}, {"i": 4721, "len": 122, "is_even": 0}, {"i": 4722, "len": 60, "is_even": 1}, {"i": 4723, "len": 60, "is_even": 0}, {"i": 4724, "len": 60, "is_even": 1}, {"i": 4725, "len": 60, "is_even": 0}, {"i": 4726, "len": 60, "is_even": 1}, {"i": 4727, "len": 60, "is_even": 0}, {"i": 4728, "len": 60, "is_even": 1}, {"i": 4729, "len": 60, "is_even": 0}, {"i": 4730, "len": 60, "is_even": 1}, {"i": 4731, "len": 60, "is_even": 0}, {"i": 4732, "len": 91, "is_even": 1}, {"i": 4733, "len": 91, "is_even": 0}, {"i": 4734, "len": 91, "is_even": 1}, {"i": 4735, "len": 153, "is_even": 0}, {"i": 4736, "len": 29, "is_even": 1}, {"i": 4737, "len": 60, "is_even": 0}, {"i": 4738, "len": 122, "is_even": 1}, {"i": 4739, "len": 122, "is_even": 0}, {"i": 4740, "len": 153, "is_even": 1}, {"i": 4741, "len": 153, "is_even": 0}, {"i": 4742, "len": 153, "is_even": 1}, {"i": 4743, "len": 60, "is_even": 0}, {"i": 4744, "len": 78, "is_even": 1}, {"i": 4745, "len": 52, "is_even": 0}, {"i": 4746, "len": 78, "is_even": 1}, {"i": 4747, "len": 153, "is_even": 0}, {"i": 4748, "len": 78, "is_even": 1}, {"i": 4749, "len": 78, "is_even": 0}, {"i": 4750, "len": 166, "is_even": 1}, {"i": 4751, "len": 166, "is_even": 0}, {"i": 4752, "len": 78, "is_even": 1}, {"i": 4753, "len": 52, "is_even": 0}, {"i": 4754, "len": 52, "is_even": 1}, {"i": 4755, "len": 52, "is_even": 0}, {"i": 4756, "len": 78, "is_even": 1}, {"i": 4757, "len": 78, "is_even": 0}, {"i": 4758, "len": 78, "is_even": 1}, {"i": 4759, "len": 78, "is_even": 0}, {"i": 4760, "len": 78, "is_even": 1}, {"i": 4761, "len": 34, "is_even": 0}, {"i": 4762, "len": 78, "is_even": 1}, {"i": 4763, "len": 197, "is_even": 0}, {"i": 4764, "len": 52, "is_even": 1}, {"i": 4765, "len": 52, "is_even": 0}, {"i": 4766, "len": 52, "is_even": 1}, {"i": 4767, "len": 104, "is_even": 0}, {"i": 4768, "len": 29, "is_even": 1}, {"i": 4769, "len": 78, "is_even": 0}, {"i": 4770, "len": 104, "is_even": 1}, {"i": 4771, "len": 104, "is_even": 0}, {"i": 4772, "len": 104, "is_even": 1}, {"i": 4773, "len": 104, "is_even": 0}, {"i": 4774, "len": 104, "is_even": 1}, {"i": 4775, "len": 60, "is_even": 0}, {"i": 4776, "len": 29, "is_even": 1}, {"i": 4777, "len": 104, "is_even": 0}, {"i": 4778, "len": 29, "is_even": 1}, {"i": 4779, "len": 78, "is_even": 0}, {"i": 4780, "len": 122, "is_even": 1}, {"i": 4781, "len": 122, "is_even": 0}, {"i": 4782, "len": 122, "is_even": 1}, {"i": 4783, "len": 78, "is_even": 0}, {"i": 4784, "len": 122, "is_even": 1}, {"i": 4785, "len": 73, "is_even": 0}, {"i": 4786, "len": 73, "is_even": 1}, {"i": 4787, "len": 73, "is_even": 0}, {"i": 4788, "len": 122, "is_even": 1}, {"i": 4789, "len": 122, "is_even": 0}, {"i": 4790, "len": 34, "is_even": 1}, {"i": 4791, "len": 34, "is_even": 0}, {"i": 4792, "len": 122, "is_even": 1}, {"i": 4793, "len": 73, "is_even": 0}, {"i": 4794, "len": 122, "is_even": 1}, {"i": 4795, "len": 166, "is_even": 0}, {"i": 4796, "len": 73, "is_even": 1}, {"i": 4797, "len": 73, "is_even": 0}, {"i": 4798, "len": 73, "is_even": 1}, {"i": 4799, "len": 166, "is_even": 0}, {"i": 4800, "len": 21, "is_even": 1}, {"i": 4801, "len": 122, "is_even": 0}, {"i": 4802, "len": 166, "is_even": 1}, {"i": 4803, "len": 166, "is_even": 0}, {"i": 4804, "len": 60, "is_even": 1}, {"i": 4805, "len": 60, "is_even": 0}, {"i": 4806, "len": 60, "is_even": 1}, {"i": 4807, "len": 122, "is_even": 0}, {"i": 4808, "len": 60, "is_even": 1}, {"i": 4809, "len": 47, "is_even": 0}, {"i": 4810, "len": 60, "is_even": 1}, {"i": 4811, "len": 47, "is_even": 0}, {"i": 4812, "len": 60, "is_even": 1}, {"i": 4813, "len": 60, "is_even": 0}, {"i": 4814, "len": 73, "is_even": 1}, {"i": 4815, "len": 73, "is_even": 0}, {"i": 4816, "len": 21, "is_even": 1}, {"i": 4817, "len": 122, "is_even": 0}, {"i": 4818, "len": 122, "is_even": 1}, {"i": 4819, "len": 122, "is_even": 0}, {"i": 4820, "len": 21, "is_even": 1}, {"i": 4821, "len": 21, "is_even": 0}, {"i": 4822, "len": 166, "is_even": 1}, {"i": 4823, "len": 166, "is_even": 0}, {"i": 4824, "len": 73, "is_even": 1}, {"i": 4825, "len": 60, "is_even": 0}, {"i": 4826, "len": 73, "is_even": 1}, {"i": 4827, "len": 104, "is_even": 0}, {"i": 4828, "len": 73, "is_even": 1}, {"i": 4829, "len": 73, "is_even": 0}, {"i": 4830, "len": 122, "is_even": 1}, {"i": 4831, "len": 122, "is_even": 0}, {"i": 4832, "len": 21, "is_even": 1}, {"i": 4833, "len": 73, "is_even": 0}, {"i": 4834, "len": 21, "is_even": 1}, {"i": 4835, "len": 21, "is_even": 0}, {"i": 4836, "len": 60, "is_even": 1}, {"i": 4837, "len": 60, "is_even": 0}, {"i": 4838, "len": 60, "is_even": 1}, {"i": 4839, "len": 166, "is_even": 0}, {"i": 4840, "len": 21, "is_even": 1}, {"i": 4841, "len": 104, "is_even": 0}, {"i": 4842, "len": 21, "is_even": 1}, {"i": 4843, "len": 166, "is_even": 0}, {"i": 4844, "len": 73, "is_even": 1}, {"i": 4845, "len": 73, "is_even": 0}, {"i": 4846, "len": 73, "is_even": 1}, {"i": 4847, "len": 166, "is_even": 0}, {"i": 4848, "len": 47, "is_even": 1}, {"i": 4849, "len": 21, "is_even": 0}, {"i": 4850, "len": 166, "is_even": 1}, {"i": 4851, "len": 166, "is_even": 0}, {"i": 4852, "len": 47, "is_even": 1}, {"i": 4853, "len": 47, "is_even": 0}, {"i": 4854, "len": 122, "is_even": 1}, {"i": 4855, "len": 122, "is_even": 0}, {"i": 4856, "len": 47, "is_even": 1}, {"i": 4857, "len": 166, "is_even": 0}, {"i": 4858, "len": 47, "is_even": 1}, {"i": 4859, "len": 122, "is_even": 0}, {"i": 4860, "len": 166, "is_even": 1}, {"i": 4861, "len": 166, "is_even": 0}, {"i": 4862, "len": 166, "is_even": 1}, {"i": 4863, "len": 91, "is_even": 0}, {"i": 4864, "len": 29, "is_even": 1}, {"i": 4865, "len": 47, "is_even": 0}, {"i": 4866, "len": 47, "is_even": 1}, {"i": 4867, "len": 47, "is_even": 0}, {"i": 4868, "len": 135, "is_even": 1}, {"i": 4869, "len": 135, "is_even": 0}, {"i": 4870, "len": 135, "is_even": 1}, {"i": 4871, "len": 47, "is_even": 0}, {"i": 4872, "len": 135, "is_even": 1}, {"i": 4873, "len": 122, "is_even": 0}, {"i": 4874, "len": 135, "is_even": 1}, {"i": 4875, "len": 122, "is_even": 0}, {"i": 4876, "len": 135, "is_even": 1}, {"i": 4877, "len": 135, "is_even": 0}, {"i": 4878, "len": 135, "is_even": 1}, {"i": 4879, "len": 135, "is_even": 0}, {"i": 4880, "len": 42, "is_even": 1}, {"i": 4881, "len": 135, "is_even": 0}, {"i": 4882, "len": 73, "is_even": 1}, {"i": 4883, "len": 73, "is_even": 0}, {"i": 4884, "len": 42, "is_even": 1}, {"i": 4885, "len": 42, "is_even": 0}, {"i": 4886, "len": 47, "is_even": 1}, {"i": 4887, "len": 47, "is_even": 0}, {"i": 4888, "len": 42, "is_even": 1}, {"i": 4889, "len": 47, "is_even": 0}, {"i": 4890, "len": 42, "is_even": 1}, {"i": 4891, "len": 179, "is_even": 0}, {"i": 4892, "len": 135, "is_even": 1}, {"i": 4893, "len": 135, "is_even": 0}, {"i": 4894, "len": 135, "is_even": 1}, {"i": 4895, "len": 73, "is_even": 0}, {"i": 4896, "len": 42, "is_even": 1}, {"i": 4897, "len": 166, "is_even": 0}, {"i": 4898, "len": 135, "is_even": 1}, {"i": 4899, "len": 135, "is_even": 0}, {"i": 4900, "len": 135, "is_even": 1}, {"i": 4901, "len": 135, "is_even": 0}, {"i": 4902, "len": 135, "is_even": 1}, {"i": 4903, "len": 104, "is_even": 0}, {"i": 4904, "len": 42, "is_even": 1}, {"i": 4905, "len": 166, "is_even": 0}, {"i": 4906, "len": 42, "is_even": 1}, {"i": 4907, "len": 135, "is_even": 0}, {"i": 4908, "len": 135, "is_even": 1}, {"i": 4909, "len": 135, "is_even": 0}, {"i": 4910, "len": 135, "is_even": 1}, {"i": 4911, "len": 122, "is_even": 0}, {"i": 4912, "len": 42, "is_even": 1}, {"i": 4913, "len": 135, "is_even": 0}, {"i": 4914, "len": 135, "is_even": 1}, {"i": 4915, "len": 135, "is_even": 0}, {"i": 4916, "len": 42, "is_even": 1}, {"i": 4917, "len": 42, "is_even": 0}, {"i": 4918, "len": 104, "is_even": 1}, {"i": 4919, "len": 104, "is_even": 0}, {"i": 4920, "len": 73, "is_even": 1}, {"i": 4921, "len": 73, "is_even": 0}, {"i": 4922, "len": 73, "is_even": 1}, {"i": 4923, "len": 73, "is_even": 0}, {"i": 4924, "len": 73, "is_even": 1}, {"i": 4925, "len": 73, "is_even": 0}, {"i": 4926, "len": 210, "is_even": 1}, {"i": 4927, "len": 210, "is_even": 0}, {"i": 4928, "len": 29, "is_even": 1}, {"i": 4929, "len": 42, "is_even": 0}, {"i": 4930, "len": 73, "is_even": 1}, {"i": 4931, "len": 73, "is_even": 0}, {"i": 4932, "len": 135, "is_even": 1}, {"i": 4933, "len": 135, "is_even": 0}, {"i": 4934, "len": 135, "is_even": 1}, {"i": 4935, "len": 197, "is_even": 0}, {"i": 4936, "len": 135, "is_even": 1}, {"i": 4937, "len": 135, "is_even": 0}, {"i": 4938, "len": 135, "is_even": 1}, {"i": 4939, "len": 135, "is_even": 0}, {"i": 4940, "len": 135, "is_even": 1}, {"i": 4941, "len": 135, "is_even": 0}, {"i": 4942, "len": 135, "is_even": 1}, {"i": 4943, "len": 135, "is_even": 0}, {"i": 4944, "len": 29, "is_even": 1}, {"i": 4945, "len": 122, "is_even": 0}, {"i": 4946, "len": 122, "is_even": 1}, {"i": 4947, "len": 122, "is_even": 0}, {"i": 4948, "len": 29, "is_even": 1}, {"i": 4949, "len": 29, "is_even": 0}, {"i": 4950, "len": 73, "is_even": 1}, {"i": 4951, "len": 73, "is_even": 0}, {"i": 4952, "len": 135, "is_even": 1}, {"i": 4953, "len": 42, "is_even": 0}, {"i": 4954, "len": 135, "is_even": 1}, {"i": 4955, "len": 73, "is_even": 0}, {"i": 4956, "len": 135, "is_even": 1}, {"i": 4957, "len": 135, "is_even": 0}, {"i": 4958, "len": 47, "is_even": 1}, {"i": 4959, "len": 47, "is_even": 0}, {"i": 4960, "len": 91, "is_even": 1}, {"i": 4961, "len": 73, "is_even": 0}, {"i": 4962, "len": 42, "is_even": 1}, {"i": 4963, "len": 42, "is_even": 0}, {"i": 4964, "len": 42, "is_even": 1}, {"i": 4965, "len": 42, "is_even": 0}, {"i": 4966, "len": 42, "is_even": 1}, {"i": 4967, "len": 166, "is_even": 0}, {"i": 4968, "len": 91, "is_even": 1}, {"i": 4969, "len": 73, "is_even": 0}, {"i": 4970, "len": 91, "is_even": 1}, {"i": 4971, "len": 73, "is_even": 0}, {"i": 4972, "len": 73, "is_even": 1}, {"i": 4973, "len": 73, "is_even": 0}, {"i": 4974, "len": 73, "is_even": 1}, {"i": 4975, "len": 73, "is_even": 0}, {"i": 4976, "len": 91, "is_even": 1}, {"i": 4977, "len": 91, "is_even": 0}, {"i": 4978, "len": 42, "is_even": 1}, {"i": 4979, "len": 42, "is_even": 0}, {"i": 4980, "len": 91, "is_even": 1}, {"i": 4981, "len": 91, "is_even": 0}, {"i": 4982, "len": 104, "is_even": 1}, {"i": 4983, "len": 104, "is_even": 0}, {"i": 4984, "len": 135, "is_even": 1}, {"i": 4985, "len": 117, "is_even": 0}, {"i": 4986, "len": 135, "is_even": 1}, {"i": 4987, "len": 166, "is_even": 0}, {"i": 4988, "len": 135, "is_even": 1}, {"i": 4989, "len": 135, "is_even": 0}, {"i": 4990, "len": 73, "is_even": 1}, {"i": 4991, "len": 73, "is_even": 0}, {"i": 4992, "len": 42, "is_even": 1}, {"i": 4993, "len": 166, "is_even": 0}, {"i": 4994, "len": 91, "is_even": 1}, {"i": 4995, "len": 91, "is_even": 0}, {"i": 4996, "len": 179, "is_even": 1}, {"i": 4997, "len": 179, "is_even": 0}, {"i": 4998, "len": 179, "is_even": 1}, {"i": 4999, "len": 91, "is_even": 0}]}}, {"mode": "vega-lite"});
&lt;/script&gt;

&lt;p&gt;The code below visualizes collatz squences as paths for integers ranging from 1 to 2000. A rotation is applied to each point on the path based on whether the number in the sequence is odd or even.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;color_picker&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#FF5E02&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#6400FF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#E10060&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#02D1FF&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;transforms&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;even&lt;/span&gt;&lt;span class="o"&gt;=-.&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;odd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;even&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;even&lt;/span&gt;            
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;odd&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;odd&lt;/span&gt;
        &lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;runs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2000&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;runs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
    &lt;span class="n"&gt;sequence_lengths&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="c1"&gt;#ax.set_facecolor(&amp;#39;black&amp;#39;)&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;color_picker&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;     
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;&amp;lt;Figure size 720x720 with 0 Axes&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_7_1.png"&gt;&lt;/p&gt;
&lt;p&gt;The collatz function can also be represented as:
&lt;img src='images/math1.gif'&gt;&lt;/p&gt;
&lt;p&gt;This is a holomorphic function, and can be used to create fractals akin to the Julia set of fractals.
The traditional fractal pattern colors points that escape to infinity with lighter shades and those that are bounded with a darker shade.&lt;/p&gt;
&lt;p&gt;The following code, creates &lt;bold&gt;non-traditional&lt;/bold&gt; patterns by providing lighter shades to collatz sequences that have fallen below a certain threshold in a set number of sequences.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;collatz_escape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;maxiter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;escape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;magma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;    
    &lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;int&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;full&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;maxiter&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="nb"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;])))&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;escape&lt;/span&gt;
        &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;equal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;extent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;collatz_escape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;maxiter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_10_0.png"&gt;&lt;/p&gt;
&lt;h5&gt;Expanding the input range we get:&lt;/h5&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;collatz_escape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;12.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;12.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;12.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;12.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;maxiter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_12_0.png"&gt;&lt;/p&gt;
&lt;p&gt;This isn't as interesting but I was bored on a Sunday afternoon. It is a set of identical matrices colored based on the length of the collatz sequence corresponding to the row index + column index. &lt;h5&gt;Does it remind you of something?&lt;/h5&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;j&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;collatz&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots_adjust&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;auto&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;summer_r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;auto&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Spectral&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;auto&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;autumn_r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;auto&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;winter&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.67&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_15_0.png"&gt;&lt;/p&gt;
&lt;h4&gt; XKCD on the Collatz Conjecture: &lt;/h4&gt;

&lt;p&gt;&lt;img src='images/collatz_conjecture_xkcd.png'&gt;&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>OpenCV thresholding meets historic works of art</title><link href="https://rittik97.github.io/Blog/opencv2thresholding.html" rel="alternate"></link><published>2019-12-22T14:52:00-05:00</published><updated>2019-12-22T14:52:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2019-12-22:/Blog/opencv2thresholding.html</id><summary type="html">&lt;p&gt;OpenCV or Open source computer vision is a popular image processing library. Originally developed 20 years ago by Intel, it has found widespread adoption in computer vision applications and has over 18 million downloads. Here we explore the effects of OpenCV thresholding on historical artworks. &lt;/p&gt;
&lt;p&gt;Thresholding is exactly what it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;OpenCV or Open source computer vision is a popular image processing library. Originally developed 20 years ago by Intel, it has found widespread adoption in computer vision applications and has over 18 million downloads. Here we explore the effects of OpenCV thresholding on historical artworks. &lt;/p&gt;
&lt;p&gt;Thresholding is exactly what it sounds like, each pixel is compared to a threshold value, if it is less than the threshold, that pixel is set to 0, else it is set to a maximum value. Thresholding is typically applied to greyscale images but here we observe its effects on the original image as well. &lt;/p&gt;
&lt;p&gt;The code below explores simple thresholding on "Juan de Pareja" by Velázquez.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cv2&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;cv&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;

&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/juan.jpg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cvtColor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;COLOR_BGR2RGB&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;th1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;th1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;gray&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#Converting image to greyscale&lt;/span&gt;
&lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cvtColor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;COLOR_BGR2GRAY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cvtColor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;COLOR_BGR2RGB&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;th1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;th1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;gray&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_2_0.png"&gt;&lt;/p&gt;
&lt;p&gt;The Open CV library supports several kinds of thresholding, 
here we display their effects on our image.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/juan.jpg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY_INV&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TRUNC&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TOZERO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ret&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh5&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;127&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TOZERO_INV&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;th2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;adaptiveThreshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ADAPTIVE_THRESH_MEAN_C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;th3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;adaptiveThreshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ADAPTIVE_THRESH_GAUSSIAN_C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;th4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_OTSU&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;titles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Original Image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;BINARY&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;BINARY_INV&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TRUNC&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TOZERO&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TOZERO_INV&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Adaptive Mean Thresholding&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Adaptive Gaussian Thresholding&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Otsu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;images&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;thresh1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;thresh2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;thresh3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;thresh4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;thresh5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;th2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;th3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;th4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;images&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;gray&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xticks&lt;/span&gt;&lt;span class="p"&gt;([]),&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yticks&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_4_0.png"&gt;&lt;/p&gt;
&lt;p&gt;Adaptive Thresholding acknowleges that there may not be a suitable global value, and instead uses points close to the pixel in question to determine the theshold value. As a result, different areas of the image have different threshold values. This can lead to better results in certain cases, such as when the image has varied lighting.&lt;/p&gt;
&lt;p&gt;Otsu Thresholding seeks to find an optimal thresholding value. It does so by identifying the values around in which pixels tend to conentrate (these would appear as peaks in the historgram). It finds the point that minimizes the variance between these "peaks" to give us the optimal thresholding value. &lt;/p&gt;
&lt;p&gt;Detaiils for all supported thresholding functions can be found at the bottom of this post.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;### Setting processing values for each image &lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;cv2&lt;/span&gt;
&lt;span class="n"&gt;cmaps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Oranges&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Spectral&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bwr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;summer_r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;winter&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Blues&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;viridis_r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;YlGnBu&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Purples&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;

    &lt;span class="s1"&gt;&amp;#39;images/opencv2/rem.jpg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/vermeer.jpg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/oldwoman.jpeg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/mao.jpg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/goya.jpg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/medusa.jpeg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/massacre.jpeg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/satyr_drunk.jpg&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;images/opencv2/salvator-mundi.jpg&amp;#39;&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;filters&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TOZERO&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TOZERO&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY_INV&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TRUNC&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_TOZERO&lt;/span&gt; 
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_OTSU&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_OTSU&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_BINARY&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THRESH_OTSU&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;threshold_values&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="mi"&gt;25&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;
    &lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;60&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cmaps&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;filters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;threshold_values&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cmaps&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;images&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;threshold_codes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;threshold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;cmaps&lt;/th&gt;
      &lt;th&gt;images&lt;/th&gt;
      &lt;th&gt;threshold_codes&lt;/th&gt;
      &lt;th&gt;threshold&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;Oranges&lt;/td&gt;
      &lt;td&gt;images/opencv2/rem.jpg&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;25&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;Spectral&lt;/td&gt;
      &lt;td&gt;images/opencv2/vermeer.jpg&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;50&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;bwr&lt;/td&gt;
      &lt;td&gt;images/opencv2/oldwoman.jpeg&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;50&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;summer_r&lt;/td&gt;
      &lt;td&gt;images/opencv2/mao.jpg&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;20&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;winter&lt;/td&gt;
      &lt;td&gt;images/opencv2/goya.jpg&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;td&gt;Blues&lt;/td&gt;
      &lt;td&gt;images/opencv2/medusa.jpeg&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;td&gt;viridis_r&lt;/td&gt;
      &lt;td&gt;images/opencv2/massacre.jpeg&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;td&gt;YlGnBu&lt;/td&gt;
      &lt;td&gt;images/opencv2/satyr_drunk.jpg&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;200&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;td&gt;Purples&lt;/td&gt;
      &lt;td&gt;images/opencv2/salvator-mundi.jpg&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;60&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;450&lt;/span&gt;
&lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;450&lt;/span&gt;
&lt;span class="n"&gt;dim&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots_adjust&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;off&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dim&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;INTER_AREA&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cvtColor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;COLOR_BGR2RGB&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IMREAD_GRAYSCALE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;threshold&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="mi"&gt;255&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;threshold_codes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;resize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dim&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cv2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;INTER_AREA&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cmaps&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="png" src="images/output_8_0.png"&gt;&lt;/p&gt;
&lt;h1&gt;The humanity &amp; ambitions of an unsettled child Inspired by Goya's potrait of Manuel Osorio (center, left unchanged).&lt;/h1&gt;

&lt;p&gt;&lt;br&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;p&gt;The original works, all of which I have been fortunate enough to personally see (by index position):
&lt;ul&gt;
&lt;li&gt;(0,0): "Self-Portrait" - Rembrandt, 1660.
&lt;li&gt;(0,1): "Girl with a Pearl Earring" - Johannes Vermeer, 1665.
&lt;li&gt;(0,2): "Head of an Old Woman" - Orazio Borgianni, circa 1610.
&lt;li&gt;(1,0): "Mao" - Andy Warhol, 1972.
&lt;li&gt;(1,1): "Manuel Osorio Manrique de Zuñiga" - Goya, 1787-88.
&lt;li&gt;(1,2): "Medusa", Peter Paul Ruebens, circa 1618.
&lt;li&gt;(2,0): "The Massacre of the Innocents" - Peter Paul Ruebens, 1611-12.
&lt;li&gt;(2,1): "The Drunken Satyr" - Peter Paul Ruebens, circa 1620s.
&lt;li&gt;(2,2): “Salvator Mundi” - Albrecht Durer, circa 1505.&lt;/p&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src="images/thresholds.png"&gt;&lt;/p&gt;</content><category term="misc"></category></entry><entry><title>Demystifying matplotlib subplots</title><link href="https://rittik97.github.io/Blog/demystifying_matplotlib_subplots.html" rel="alternate"></link><published>2019-12-08T23:19:00-05:00</published><updated>2019-12-08T23:19:00-05:00</updated><author><name>Rittik Ghosh</name></author><id>tag:rittik97.github.io,2019-12-08:/Blog/demystifying_matplotlib_subplots.html</id><summary type="html">&lt;h1&gt;Demystifying matplotlib subplots&lt;/h1&gt;
&lt;p&gt;Everyone who has explored visualizations in python has encountered the infamous:
fig, ax= plt.subplots()&lt;/p&gt;
&lt;p&gt;However, it isn't always obvious what's happening behind the scenes. In this post, we explore what it means and how we can utilize subplots to create powerful visualizations.
The subplot function accepts …&lt;/p&gt;</summary><content type="html">&lt;h1&gt;Demystifying matplotlib subplots&lt;/h1&gt;
&lt;p&gt;Everyone who has explored visualizations in python has encountered the infamous:
fig, ax= plt.subplots()&lt;/p&gt;
&lt;p&gt;However, it isn't always obvious what's happening behind the scenes. In this post, we explore what it means and how we can utilize subplots to create powerful visualizations.
The subplot function accepts, nrows &amp;amp; ncols as parameters. Setting nrows = 2 and ncols = 2 creates a 2 by 2 grid that can be filled with 4 graphs (by default subplots creates a 1 by 1 grid for one graph). We can also have shared axes between all the graphs by setting sharex=True and/or sharey=True.&lt;/p&gt;
&lt;p&gt;The subplot() function returns figure and axes objects. The figure (fig) acts as a container for all the subplots. By manipulating fig we can make changes to our entire graphing area but not to individual plots.&lt;/p&gt;
&lt;h4&gt;Subplotting our data with no formatting:&lt;/h4&gt;
&lt;p&gt;&lt;img src="images/first.png"&gt;&lt;/p&gt;
&lt;h4&gt;Here are some useful operations on fig:&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy.random&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;# Let&amp;#39;s add some padding between the graphs&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Increase the width of the plotting area:&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Increase the Height of the plotting area:&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Adding a background color.&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_facecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#f2f2f2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;After some formatting with the fig object:&lt;/h4&gt;
&lt;p&gt;&lt;img src="images/middle.png"&gt;&lt;/p&gt;
&lt;h3&gt;We can also achieve greater control in positioning for our subplots by calling plt.subplots_adjust()&lt;/h3&gt;
&lt;p&gt;&lt;img src="images/adjust.png"&gt;&lt;/p&gt;
&lt;p&gt;The axes object (ax) returned by the subplot helps us control each individual graph or plot. In our case, we have created a 2 * 2 grid and the graph on the top-left can be manipulated by using ax at [0, 0].
This lets us add individual styling to each graph. We can also use loops to programmatically create and/or edit plots.&lt;/p&gt;
&lt;p&gt;Let's try to add some formatting to each individual graph using ax.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tight_layout&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figwidth&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_figheight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_facecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#f2f2f2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#Graph 1, Position [0,0]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#00ff40&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Plot 1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;This is the graph at position 0,0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#Graph 2, Position [0,1]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Plot 2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#Graph 3, Position [1,0]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fill_between&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.75&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Plot 3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;#Graph 4, Position [1,1]&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Plot 4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_facecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Adding formatting to individual plots with ax:&lt;/h4&gt;
&lt;p&gt;&lt;img src="images/final.png"&gt;&lt;/p&gt;
&lt;p&gt;This is a brief introduction to subplots. Matplotlib is a powerful library with several customization options. Here are links to official documentation.
&lt;br&gt;
&lt;a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.add_subplot"&gt; Figure &lt;/a&gt;
&lt;br&gt;
&lt;a href="https://matplotlib.org/3.1.1/api/axes_api.html#matplotlib.axes.Axes"&gt; Axes &lt;/a&gt;
&lt;br&gt;
&lt;a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.subplots.html"&gt; Subplots &lt;/a&gt;
&lt;br&gt;
&lt;a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D"&gt; Formatting options for lines&lt;/a&gt;
&lt;br&gt;    &lt;/p&gt;
&lt;h3&gt;All our formatting operations in sequence:&lt;/h3&gt;
&lt;p&gt;&lt;br&gt;
&lt;br&gt;
&lt;img src="images/add-text.gif"&gt;&lt;/p&gt;</content><category term="misc"></category></entry></feed>